{"version":3,"file":"external/E-v1.js","mappings":"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","sources":["webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./src/wistia_namespace.js","webpack:///./src/utilities/root.js","webpack:///./src/utilities/elem.js","webpack:///./src/utilities/obj.js","webpack:///./src/utilities/assign.js","webpack:///./src/utilities/docReady.js","webpack:///./src/utilities/poll.js","webpack:///./src/utilities/pageLoaded.js","webpack:///./src/utilities/detect.js","webpack:///./src/utilities/wlog.js","webpack:///./src/utilities/globalBindAndTrigger.js","webpack:///./src/utilities/wbindable.js","webpack:///./src/utilities/bindify.js","webpack:///./src/utilities/elemOffset.js","webpack:///./src/utilities/script-tags.js","webpack:///./src/utilities/script-utils.js","webpack:///./src/utilities/runScript.js","webpack:///./src/utilities/seqid.js","webpack:///./src/utilities/media_data.js","webpack:///./src/utilities/media-data-cache.js","webpack:///./src/utilities/hosts.js","webpack:///./src/utilities/url.js","webpack:///./src/appHostname.js","webpack:///./src/utilities/legacyLocalstorage.js","webpack:///./src/utilities/wistiaLocalStorage.js","webpack:///./src/utilities/namespacedLocalStorage.js","webpack:///./src/utilities/metrics.js","webpack:///./src/utilities/timeout-utils.js","webpack:///./src/utilities/trackingConsentApi.js","webpack:///./src/utilities/media-data-transforms.js","webpack:///./src/utilities/assets.js","webpack:///./src/utilities/simpleMetrics.js","webpack:///./src/utilities/interFontFamily.js","webpack:///./src/utilities/svg_boilerplate.js","webpack:///./src/utilities/isMouseDown.js","webpack:///./src/embeds/shared/translations.js","webpack:///./src/utilities/dynamicImport.ts","webpack:///./src/utilities/core.js","webpack:///./src/utilities/throttle.js","webpack:///./src/utilities/unescape-html.js","webpack:///./src/utilities/event_loop.js","webpack:///./src/utilities/embedOptionsFromQueryParams.js","webpack:///./src/utilities/cssReset.js","webpack:///./src/embeds/shared/CustomEventsWrapper.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/TouchEvents.js","webpack:///./src/embeds/shared/RawHTMLStub.jsx","webpack:///./src/embeds/shared/control-lifecycle.js","webpack:///./src/embeds/shared/control_definitions.js","webpack:///./src/utilities/duration.js","webpack:///./src/utilities/iso8601Helper.js","webpack:///./src/utilities/color.js","webpack:///./src/utilities/resumableVideoData.js","webpack:///./src/embeds/shared/ProgressIndicator.jsx","webpack:///./src/embeds/media/modules/_event_loop.js","webpack:///./src/embeds/media/modules/_embed_interface.coffee","webpack:///./src/utilities/judy.js","webpack:///./src/utilities/optionsFromElemClass.ts","webpack:///./src/utilities/embedOptionStore.ts","webpack:///./src/utilities/wistiaData.js","webpack:///./src/utilities/getApiHandles.ts","webpack:///./src/utilities/getEmbedElements.ts","webpack:///./src/embeds/media/players/AuroraPlayer/translationApi.ts","webpack:///./src/utilities/stopgo.js","webpack:///./node_modules/@wistia/type-guards/dist/esm/index.js","webpack:///./src/embeds/media/modules/_async.coffee","webpack:///./src/utilities/asyncChain.js","webpack:///./src/embeds/media/modules/_embed_shepherd.js","webpack:///./src/embeds/media/modules/_mux.js","webpack:///./src/utilities/onFindApiHandle.ts","webpack:///./src/external/embed.js","webpack:///./src/embeds/media/modules/_log.js","webpack:///./src/embeds/media/modules/_detect.js","webpack:///./src/embeds/media/modules/_public_api.coffee","webpack:///./src/utilities/pluginScriptsToLoad.js","webpack:///./src/utilities/prefetching.js","webpack:///./src/utilities/injectJsonLd.js","webpack:///./src/utilities/keyMoments.js","webpack:///./src/utilities/normalizeChapters.js","webpack:///./src/utilities/extractEmailFromParams.ts","webpack:///./src/utilities/inferPageUrl.ts","webpack:///./src/utilities/viewerPreferences.js","webpack:///./src/embeds/channel/channelStorage.js","webpack:///./src/embeds/media/modules/_embed_links.js","webpack:///./src/utilities/inferQualityRangeFromOpts.js","webpack:///./src/utilities/generate.js","webpack:///./src/utilities/sane-player-color.js","webpack:///./src/utilities/scroll.js","webpack:///./src/utilities/uniqId.js","webpack:///./src/utilities/array.js","webpack:///./src/embeds/media/modules/_player.js","webpack:///./src/utilities/secondsWatchedTracker.js","webpack:///./src/embeds/media/modules/_fullscreen_triggers.js","webpack:///./src/embeds/media/modules/_bandwidthTest.js","webpack:///./src/embeds/media/modules/_video_tracker.coffee","webpack:///./src/embeds/media/modules/_video_tracker_session.coffee","webpack:///./src/utilities/secondsSinceTime.js","webpack:///./src/embeds/media/modules/_video_tracker_local_storage.coffee","webpack:///./src/embeds/media/modules/_remote_data.js","webpack:///./src/utilities/playlist_data.js","webpack:///./src/embeds/media/modules/_metrics.js","webpack:///./src/embeds/media/modules/_plugin.coffee","webpack:///./src/embeds/media/modules/_legacy_local_storage.js","webpack:///./src/embeds/media/modules/_gridify.js","webpack:///./src/embeds/media/modules/_iframe_api.coffee","webpack:///./src/embeds/media/modules/_visitor_key.js","webpack:///./src/embeds/media/modules/_embed_specific_time.js","webpack:///./src/embeds/media/modules/_interpolation.js","webpack:///./src/interpolation.js","webpack:///./src/embeds/media/modules/_integrations_loader.js","webpack:///./src/embeds/media/modules/_init.coffee","webpack:///./src/embeds/media/players/vulcanV2Player/index.js","webpack:///./src/analytics/LiveMediaTracker.js","webpack:///./src/analytics/ds/InclusiveRange.js","webpack:///./src/analytics/ds/PlaySession.js","webpack:///./src/analytics/ds/Histogram.js","webpack:///./src/analytics/util/getOrSetIsFirst.js","webpack:///./src/analytics/api/Client.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/AudioDescriptionControl/AudioDescriptionControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/AudioDescriptionControl/AudioDescriptionButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/AudioDescriptionControl/AudioDescriptionMenu.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/shared/ui_components/VisuallyHiddenElem.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/AudioDescriptionControl/AudioDescriptionMenuItem.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/shared/controls/Control.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/CaptionsV3ButtonControl/CaptionsV3ButtonControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/CaptionsV3ButtonControl/CaptionsButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/BackgroundFocusControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/BigPlayButtonControl.js","webpack:///./src/utilities/fit-control.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/ui_components/BigPlayButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/higher_order_components/withOnClick.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/ClickForSoundControl/ClickForSoundControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/ClickForSoundControl/ClickForSoundButton.tsx","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/controls/ContextMenuControl/ContextMenuControl.js","webpack:///./src/utilities/throwAsync.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/EllipsisButtonControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/ui_components/EllipsisButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/FocusOutlineControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/FullscreenButtonControl/FullscreenButtonControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/FullscreenButtonControl/FullscreenButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/shared/controls/LoadingHourglassControl/LoadingHourglassControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/controls/LoadingHourglassControl/LoadingSVG.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/PlaybarControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/controls/PlaybarControlBase.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/ui_components/Playbar.jsx","webpack:///./src/utilities/interNumbersFontFaceSemiBold.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/ui_components/TimeBadge.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/PlayPauseNotifierControl.js","webpack:///./src/embeds/shared/SmallPlayButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/PlaybarlessProgressIndicatorControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/shouldShowAsBeforePlay.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/SettingsControl/SettingsControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/SettingsControl/SettingsButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/shared/controls/SmallPlayButtonControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/StatusBarControl/StatusBarControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/StatusBarControl/StatusBar.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/ThumbnailControl/ThumbnailControl.js","webpack:///./src/embeds/shared/ProgressiveThumbnail.jsx","webpack:///./src/embeds/shared/Thumbnail.jsx","webpack:///./src/utilities/image.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/VolumeButtonControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/shared/ui_components/VolumeButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/LiveStreamStatusControl/LiveStreamStatusControl.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/controls/LiveStreamStatusControl/LiveStreamStatus.jsx","webpack:///./src/utilities/useInterval.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/BandwidthTestBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/PlayerBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/EmbedBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/FullscreenBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/MetricsBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/PlaybackErrorHandlingBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/ProblemMonitoringBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/RelayEventsBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/ResumableBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/UIBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/video/ui_components/ControlBarButtonAndDialog.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/ui_components/ControlBarDialog.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/video/ui_components/ControlBarButton.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/ControlBarDialog.js","webpack:///./src/embeds/media/players/vulcanV2Player/Layout.jsx","webpack:///./src/embeds/media/players/vulcanV2Player/behaviors/PlaySuspendedOffScreenBehavior.js","webpack:///./src/embeds/media/players/vulcanV2Player/engines/simple_video/cutsCalc.js","webpack:///./src/embeds/media/players/vulcanV2Player/engines/hls_video/hls_assets.js","webpack:///./src/utilities/player-version.js","webpack:///./src/external/WistiaPlayer.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/external/E-v1.js"],"sourcesContent":["var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&N(x[h],x[h]);if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof T){if(g=u.props,m=(a=T.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in T&&T.prototype.render?u.__c=h=new T(g,x):(u.__c=h=new d(g,x),h.constructor=T,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,T.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==T.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){for(h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,C=l.__r,$=0,\"prototype\"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++$<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),I=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray(I)?I:[I],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{d as Component,p as Fragment,q as cloneElement,B as createContext,h as createElement,y as createRef,h,S as hydrate,i as isValidElement,l as options,P as render,x as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import root from 'utilities/root.js';\n\nif (root.Wistia == null) {\n  root.Wistia = {};\n}\n\nconst W = root.Wistia;\n\nif (W._initializers == null) {\n  W._initializers = {};\n}\n\nif (W._destructors == null) {\n  W._destructors = {};\n}\n\nif (W.mixin == null) {\n  W.mixin = (klass, obj) => {\n    for (let k in obj) {\n      if (Object.hasOwn(obj, k)) {\n        klass[k] = obj[k];\n      }\n    }\n  };\n}\n\nexport default root.Wistia;\n","let rootTest;\ntry {\n  rootTest = self; // dom or web worker\n  if (\n    rootTest.self !== rootTest &&\n    typeof rootTest.self !== 'undefined' &&\n    typeof window !== 'undefined'\n  ) {\n    // Accidentally assigning `self` is a thing that websites do. But most of\n    // these accidental assigns won't have a self property pointing at themselves.\n    rootTest = window;\n  }\n} catch (err) {\n  if (typeof globalThis !== 'undefined') {\n    rootTest = globalThis; // es native in the future\n  } else {\n    // oh god, what's even happening\n    rootTest = window;\n  }\n}\n\nconst root = rootTest;\nexport default root;\n","import { isObject, isArray, merge } from 'utilities/obj.js';\nimport { isDocReady, onDocReady } from 'utilities/docReady.js';\nimport pageLoaded from 'utilities/pageLoaded.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { wlog } from 'utilities/wlog.js';\nimport { elemOffset, elemZoom, isBoxModel } from 'utilities/elemOffset.js';\nimport { execScriptTags, getScriptTags, removeScriptTags } from 'utilities/script-tags.js';\nimport { seqId } from 'utilities/seqid.js';\nimport Wistia from 'wistia_namespace.js';\n\nconst W = Wistia;\nconst detect = cachedDetect();\n\nexport { isDocReady, onDocReady };\nexport { pageLoaded };\nexport { execScriptTags, getScriptTags, removeScriptTags };\nexport { elemOffset, elemZoom, isBoxModel };\n\nexport const elemHtml = (elem, content) => {\n  const cssTags = getCssTags(content);\n  const scriptTags = getScriptTags(content);\n  content = removeCssTags(content);\n  content = removeScriptTags(content);\n\n  elem.innerHTML = content;\n  execCssTags(cssTags, elem);\n\n  // these script tags will be removed in short order as part of the script\n  // loader\n  return execScriptTags(scriptTags);\n};\n\nexport const getCssTags = (htmlStr) => {\n  return htmlStr.match(/<link.*?rel=['\"]stylesheet['\"][^>]*>|<style>[\\s\\S]+?<\\/style>/gi) || [];\n};\n\nexport const execCssTags = (cssTags, parentElem) => {\n  if (!cssTags) {\n    return null;\n  }\n\n  if (!isArray(cssTags)) {\n    cssTags = getCssTags(cssTags);\n  }\n  const inserted = [];\n  for (let i = 0; i < cssTags.length; i++) {\n    let cssTag = cssTags[i];\n    if (/<link.*?rel=['\"]stylesheet['\"][^>]*>/.test(cssTag)) {\n      const matches = cssTag.match(/href=['\"](.*?)['\"]/i);\n      if (matches) {\n        let link = document.createElement('link');\n        link.setAttribute('rel', 'stylesheet');\n        link.setAttribute('href', matches[1]);\n        link.className = 'wistia_injected_style';\n        (parentElem || document.body || document.head).appendChild(link);\n        inserted.push(link);\n      }\n    } else if (/<style>[\\s\\S]+?<\\/style>/gi.test(cssTag)) {\n      const matches = cssTag.match(/<style>([\\s\\S]+?)<\\/style>/i);\n      if (matches) {\n        let style = addInlineCss(parentElem || document.body || document.head, matches[1]);\n        inserted.push(style);\n      }\n    }\n  }\n  return inserted;\n};\n\nexport const removeCssTags = (htmlStr) => {\n  return htmlStr.replace(/<link.*?rel=['\"]stylesheet['\"][^>]*>|<style>[\\s\\S]+?<\\/style>/gi, '');\n};\n\nexport const addInlineCss = (domTarget, css) => {\n  const target = domTarget || document.body || document.head;\n\n  const styleElem = document.createElement('style');\n  styleElem.id = seqId('wistia_', '_style');\n  styleElem.setAttribute('type', 'text/css');\n  styleElem.className = 'wistia_injected_style';\n  target.appendChild(styleElem, target.nextSibling);\n  if (styleElem.styleSheet) {\n    styleElem.styleSheet.cssText = css;\n  } else {\n    styleElem.appendChild(document.createTextNode(css));\n  }\n  return styleElem;\n};\n\nexport const elemFromObject = (obj) => {\n  if (isArray(obj)) {\n    let result = [];\n    for (let i = 0; i < obj.length; i++) {\n      result.push(elemFromObject(obj[i]));\n    }\n    return result;\n  }\n\n  const tagName = obj.tagName || 'div';\n  let childNodes = obj.childNodes || [];\n  if (!isArray(childNodes)) {\n    childNodes = [childNodes];\n  }\n\n  const elem = document.createElement(tagName);\n\n  for (let key in obj) {\n    if (Object.hasOwn(obj, key)) {\n      let val = obj[key];\n      if (key !== 'childNodes' && key !== 'tagName' && key !== 'ref') {\n        let dashedKey = key.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n        if (key === 'style') {\n          if (isObject(val)) {\n            for (let p in val) {\n              elem.style[p] = val[p];\n            }\n          } else {\n            // setAttribute('style', ...) only works in IE8+, so parse inline\n            // styles if it's passed in as a string.\n            let styles = val.split(';');\n            for (let i = 0; i < styles.length; i++) {\n              let pair = styles[i].split(/\\s*:\\s*/);\n              let p = pair[0];\n              let v = pair[1];\n              if (p && v) {\n                elem.style[p] = v;\n              }\n            }\n          }\n        } else if (key === 'events') {\n          for (let evt in val) {\n            let callback = val[evt];\n            elemBind(elem, evt, callback);\n          }\n        } else if (key === 'className' || key === 'class') {\n          elem.className = val;\n        } else if (key === 'innerHTML') {\n          elem.innerHTML = val;\n        } else if (key === 'innerText') {\n          elem.innerText = val;\n        } else if (val != null && typeof val.toString === 'function') {\n          elem.setAttribute(dashedKey, val.toString());\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < childNodes.length; i++) {\n    let childObj = childNodes[i];\n    if (isObject(childObj)) {\n      let child = elemFromObject(childObj);\n      elemAppend(elem, child);\n    } else {\n      let child = document.createTextNode(childObj.toString());\n      elemAppend(elem, child);\n    }\n  }\n\n  if (typeof obj.ref === 'function') {\n    obj.ref(elem);\n  }\n\n  return elem;\n};\n\nexport const elemToObject = (elem) => {\n  if (isArray(elem)) {\n    let result = [];\n    for (let i = 0; i < elem.length; i++) {\n      result.push(elemToObject(elem[i]));\n    }\n  }\n\n  const result = {};\n  result.tagName = elem.tagName.toLowerCase();\n\n  const elemKeys = Object.keys(elem);\n  for (let i = 0; i < elemKeys.length; i++) {\n    let attr = elemKeys[i];\n    if (\n      attr !== 'tagName' &&\n      attr !== 'childNodes' &&\n      attr !== 'nodeType' &&\n      attr !== 'nodeValue'\n    ) {\n      if (attr === 'style') {\n        result.style = {};\n        let styleKeys = Object.keys(elem.style);\n        for (let j = 0; j < styleKeys.length; j++) {\n          let prop = styleKeys[j];\n          const val = elem.style[prop];\n          if (val && !/^\\d/.test(prop) && prop !== 'length') {\n            result.style[prop] = val;\n          }\n        }\n      } else {\n        const value = elem.getAttribute(attr);\n        if (value != null) {\n          result[attr] = value;\n        }\n      }\n    }\n  }\n\n  let children = [];\n  for (let i = 0; i < elem.childNodes.length; i++) {\n    let child = elem.childNodes[i];\n    if (child.nodeType === 1) {\n      children.push(elemToObject(child));\n    } else if (child.nodeType === 3) {\n      children.push(child.nodeValue);\n    }\n  }\n  if (children.length > 0) {\n    result.childNodes = children;\n  }\n  return result;\n};\n\nexport const elemClone = (elem) => {\n  const obj = elemToObject(elem);\n  return elemFromObject(obj);\n};\n\nexport const elemAppend = (par, elem) => {\n  if (isArray(elem)) {\n    for (let i = 0; i < elem.length; i++) {\n      elemAppend(par, elem[i]);\n    }\n    return;\n  }\n\n  if (par.tagName.includes('-')) {\n    par.shadowRoot.appendChild(elem, { wistiaGridCaller: true });\n  } else {\n    par.appendChild(elem, { wistiaGridCaller: true });\n  }\n};\n\nexport const elemPrepend = (par, elem) => {\n  if (isArray(elem)) {\n    for (let i = 0; i < elem.length; i++) {\n      elemPrepend(par, elem[i]);\n    }\n    return;\n  }\n\n  if (par.childNodes.length === 0) {\n    return elemAppend(par, elem);\n  }\n  return par.insertBefore(elem, par.childNodes[0]);\n};\n\nexport const elemBefore = (sibling, elem) => {\n  if (isArray(elem)) {\n    elem = elem.reverse();\n    for (let i = 0; i < elem.length; i++) {\n      elemBefore(sibling, elem[i]);\n    }\n    return;\n  }\n\n  return sibling.parentNode.insertBefore(elem, sibling);\n};\n\nexport const elemAfter = (sibling, elem) => {\n  if (isArray(elem)) {\n    elem = elem.reverse();\n    for (let i = 0; i < elem.length; i++) {\n      elemAfter(sibling, elem[i]);\n    }\n    return;\n  }\n\n  return sibling.parentNode.insertBefore(elem, sibling.nextSibling);\n};\n\nexport const elemRemove = (elem) => {\n  if (isArray(elem) || (window.NodeList && elem instanceof NodeList)) {\n    for (let i = 0; i < elem.length; i++) {\n      elemRemove(elem[i]);\n    }\n    return;\n  }\n\n  let par;\n  if (elem != null && (elem.nodeType === 1 || elem.nodeType === 3) && (par = elem.parentNode)) {\n    par.removeChild(elem);\n    elem = null;\n  }\n};\n\nexport const elemRemoveClass = (elem, klass) => {\n  if (isArray(elem) || (window.NodeList && elem instanceof NodeList)) {\n    for (let i = 0; i < elem.length; i++) {\n      elemRemoveClass(elem[i], klass);\n    }\n    return;\n  }\n\n  if (!elemHasClass(elem, klass)) {\n    return;\n  }\n\n  let className = elem.getAttribute('class');\n  if (className) {\n    const regexp = new RegExp(`\\\\b${klass}\\\\b`, 'g');\n    const newClassString = normalizeClassName(className.replace(regexp, ''));\n    elem.setAttribute('class', newClassString);\n  }\n};\n\nexport const elemAddClass = (elem, klass) => {\n  if (isArray(elem) || (window.NodeList && elem instanceof NodeList)) {\n    for (let i = 0; i < elem.length; i++) {\n      elemAddClass(elem[i], klass);\n    }\n    return;\n  }\n\n  if (elemHasClass(elem, klass)) {\n    return;\n  }\n\n  let className = elem.getAttribute('class');\n  let newClassString;\n  if (className) {\n    elemRemoveClass(elem, klass);\n    newClassString = normalizeClassName(`${className} ${klass}`);\n  } else {\n    newClassString = klass;\n  }\n\n  elem.setAttribute('class', newClassString);\n};\n\n// Longer than ` ${elem.className} `.indexOf(` ${klass} `) >= 0, but doesn't\n// cause JIT code deoptimization in Chrome.\nexport const elemHasClass = (elem, klass) => {\n  let className =\n    elem != null && typeof elem.getAttribute === 'function' && elem.getAttribute('class');\n  if (!className && elem && typeof elem.className === 'string') {\n    className = elem.className;\n  }\n\n  if (!className) {\n    return false;\n  }\n\n  let returnValue = false;\n\n  eachIndexOf(className, klass, (index) => {\n    let classBeginningFound = index === 0 || className.charAt(index - 1) === ' ';\n    let endsWidthClass = index + klass.length === className.length;\n    let classInMiddle = className.charAt(index + klass.length) === ' ';\n\n    if (classBeginningFound && (endsWidthClass || classInMiddle)) {\n      returnValue = true;\n      return BREAK_IDENTIFIER;\n    }\n  });\n\n  return returnValue;\n};\n\nconst BREAK_IDENTIFIER = {};\nconst eachIndexOf = (str, needle, fn) => {\n  let i = -1;\n\n  while ((i = str.indexOf(needle, i + 1)) != -1) {\n    if (fn(i) === BREAK_IDENTIFIER) {\n      break;\n    }\n  }\n};\n\nexport const elemClasses = (elem) => {\n  if (elem && typeof elem.className !== 'string') {\n    // Sometimes, className doesn't return a string. Who knew?!\n    // https://wistia.zendesk.com/agent/tickets/196879\n    return [''];\n  }\n  return ((elem && elem.className) || '').split(/\\s+/);\n};\n\nconst normalizeClassName = (className) => {\n  return className.replace(/^\\s+/g, '').replace(/\\s+$/g, '').replace(/\\s+/g, ' ');\n};\n\nexport const elemStyle = (elem, ...args) => {\n  if (isArray(elem) || (window.NodeList && elem instanceof NodeList)) {\n    let result = [];\n    for (let i = 0; i < elem.length; i++) {\n      let node = elem[i];\n      if (node.nodeType === 1) {\n        result.push(elemStyle(node, ...args));\n      }\n    }\n    return result;\n  }\n  if (args.length === 2) {\n    let prop = args[0];\n    let val = args[1];\n    elem.style[prop] = val;\n  } else if (args.length === 1) {\n    if (typeof args[0] === 'string') {\n      let prop = args[0];\n      try {\n        if (elem.currentStyle) {\n          return elem.currentStyle[prop];\n        }\n        if (window.getComputedStyle) {\n          return window.getComputedStyle(elem, null).getPropertyValue(prop);\n        }\n        return null;\n      } catch (e) {\n        wlog.notice(e);\n      }\n    } else {\n      let props = propsWithVendorPrefixes(args[0]);\n      for (let prop in props) {\n        let val = props[prop];\n        elem.style[prop] = val;\n      }\n    }\n  } else {\n    wlog('Unexpected args', elem, ...args);\n  }\n};\n\nconst VENDORED_PROPERTIES = {\n  borderImage: true,\n  mixBlendMode: true,\n  transform: true,\n  transition: true,\n  transitionDuration: true,\n};\n\nconst VENDOR_PREFIXES = ['webkit', 'moz', 'o', 'ms'];\n\nexport const propsWithVendorPrefixes = (props) => {\n  if (detect.chrome) {\n    return props;\n  }\n\n  const result = {};\n  for (let prop in props) {\n    let val = props[prop];\n    result[prop] = val;\n    if (VENDORED_PROPERTIES[prop]) {\n      let prefixes = VENDOR_PREFIXES;\n      for (let i = 0; i < prefixes.length; i++) {\n        let prefix = prefixes[i];\n        let prefixedProp = prefix + prop.charAt(0).toUpperCase() + prop.slice(1);\n        if (!prop[prefixedProp]) {\n          result[prefixedProp] = val;\n        }\n      }\n    }\n  }\n  return result;\n};\n\nexport const getComputedStyle = (elem, prop) => {\n  if (!window.getComputedStyle) {\n    return null;\n  }\n  const computed = window.getComputedStyle(elem, null);\n  if (computed == null) {\n    return null;\n  }\n  if (prop != null) {\n    return computed[prop];\n  }\n  return computed;\n};\n\nexport const elemWidth = (elem) => {\n  if (elem === window) {\n    if (window.innerWidth) {\n      return window.innerWidth;\n    }\n    if (document.documentElement) {\n      return document.documentElement.offsetWidth;\n    }\n    return document.body.offsetWidth;\n  }\n  if (elem === document) {\n    const body = document.body;\n    const html = document.documentElement;\n    return Math.max(\n      body.scrollWidth,\n      body.offsetWidth,\n      html.clientWidth,\n      html.scrollWidth,\n      html.offsetWidth,\n    );\n  }\n  let val;\n  if ((val = getComputedStyle(elem, 'width')) && val != null) {\n    return parseFloat(val);\n  }\n  if (elem.currentStyle) {\n    return elem.offsetWidth;\n  }\n  return -1;\n};\n\nexport const elemHeight = (elem) => {\n  if (elem === window) {\n    if (window.innerHeight) {\n      return window.innerHeight;\n    }\n    if (document.documentElement) {\n      return document.documentElement.offsetHeight;\n    }\n    return document.body.offsetHeight;\n  }\n  if (elem === document) {\n    const body = document.body;\n    const html = document.documentElement;\n    return Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight,\n    );\n  }\n  let val;\n  if ((val = getComputedStyle(elem, 'height')) && val != null) {\n    return parseFloat(val);\n  }\n  if (elem.currentStyle) {\n    return elem.offsetHeight;\n  }\n  return -1;\n};\n\nexport const elemContainsOffset = (elem, left, top) => {\n  let offset = elemOffset(elem);\n  offset.right = offset.left + elemWidth(elem);\n  offset.bottom = offset.top + elemHeight(elem);\n  return offset.left <= left && left < offset.right && offset.top <= top && top < offset.bottom;\n};\n\nexport const elemScrollOffset = (elem) => {\n  let curLeft = 0;\n  let curTop = 0;\n  if (elem.parentNode) {\n    while (elem && elem.offsetParent) {\n      curTop += elem.scrollTop;\n      curLeft += elem.scrollLeft;\n      elem = elem.parentNode;\n    }\n  }\n  return {\n    left: curLeft,\n    top: curTop,\n  };\n};\n\nexport const elemIsHidden = (elem) => {\n  while (elem && elem.nodeType === 1) {\n    if (elemStyle(elem, 'display') === 'none') {\n      return true;\n    }\n    elem = elem.parentNode;\n  }\n\n  return false;\n};\n\nexport const elemInDom = (elem) => {\n  while (elem) {\n    if (elem === document) {\n      return true;\n    }\n    elem = elem.parentNode || elem.getRootNode().host;\n  }\n  return false;\n};\n\nexport const elemIsDescendantOf = (elem, target) => {\n  let ancestors = elemAncestors(elem);\n  for (let i = 0; i < ancestors.length; i++) {\n    if (ancestors[i] === target) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const elemAncestorWithClass = (elem, klass) => {\n  let ancestors = elemAncestors(elem);\n  for (let i = 0; i < ancestors.length; i++) {\n    if (elemHasClass(ancestors[i], klass)) {\n      return ancestors[i];\n    }\n  }\n  return null;\n};\n\nexport const elemAncestorHasClass = (elem, klass) => {\n  const ancestor = elemAncestorWithClass(elem, klass);\n  return !!ancestor;\n};\n\nexport const elemAncestors = (elem) => {\n  let current = elem;\n  const result = [];\n  while ((current = current.parentNode)) {\n    result.push(current);\n  }\n  return result;\n};\n\nexport const elemIsInside = (elem, ancestor) => {\n  return elem === ancestor || elemIsDescendantOf(elem, ancestor);\n};\n\nconst getTransitionProp = (props, time, easing) => {\n  const result = [];\n  for (let prop in props) {\n    result.push(`${prop} ${time}ms ${easing}`);\n  }\n  return result.join(',');\n};\n\nexport const elemAnimate = (elem, props = {}, options = {}) => {\n  options = merge({ time: 400, easing: 'ease' }, options);\n\n  const transitions = getTransitionProp(props, options.time, options.easing);\n  elemStyle(elem, { transition: transitions });\n\n  safeRequestAnimationFrame(() => {\n    elemStyle(elem, props);\n    setTimeout(() => {\n      elemStyle(elem, { transition: '' });\n      if (typeof options.callback === 'function') {\n        options.callback();\n      }\n    }, options.time);\n  });\n};\n\nexport const elemBind = (elem, event, fn, useCapture = false) => {\n  const eventShim = (e, ...args) => {\n    e = e || window.event;\n\n    // Normalize pageX, pagey\n    if (!e.pageX && !e.pageY && (e.clientX || e.clientY)) {\n      e.pageX = e.clientX + docScrollLeft();\n      e.pageY = e.clientY + docScrollTop();\n    }\n\n    // Normalize preventDefault\n    if (!e.preventDefault) {\n      e.preventDefault = function () {\n        e.returnValue = false;\n      };\n    }\n\n    // Normalize stopPropagation\n    if (!e.stopPropagation) {\n      e.stopPropagation = function () {\n        e.cancelBubble = true;\n      };\n    }\n\n    // Normalize `which`\n    if (e.which == null) {\n      e.which = e.charCode != null ? e.charCode : e.keyCode;\n    }\n    if (e.which == null && e.button != null) {\n      if (e.button & 1) {\n        e.which = 1; // left\n      } else if (e.button & 2) {\n        e.which = 3; // right\n      } else if (e.button & 4) {\n        e.which = 2; // middle\n      } else {\n        e.which = 0; // no button pressed\n      }\n    }\n\n    // Normalize `target`\n    if (e.target) {\n      // perfect\n    } else if (e.srcElement) {\n      e.target = e.srcElement;\n    }\n    if (e.target && e.target.nodeType === 3) {\n      e.target = e.target.parentNode;\n    }\n\n    // Actually call the function\n    const result = fn.apply(e.target, [e].concat(args));\n\n    // Sweet anonymous unbinding logic\n    if (result === elemUnbind) {\n      elemUnbind(elem, event, fn);\n    }\n\n    return result;\n  };\n\n  W._elemBind = W._elemBind || {};\n  const key = elemBindKey(elem, event, fn);\n  W._elemBind[key] = eventShim;\n\n  // Set the elem/event property so we can unbind all for the elem\n  eventShim.elem = elem;\n  eventShim.event = event;\n\n  elem.addEventListener(event, eventShim, useCapture);\n  return function () {\n    elemUnbind(elem, event, fn, useCapture);\n  };\n};\n\nexport const elemUnbind = (elem, event, fn, useCapture = false) => {\n  if (!(elem != null && elem._wistiaElemId != null && fn != null && fn._wistiaBindId)) {\n    return;\n  }\n  const key = elemBindKey(elem, event, fn);\n  const eventShim = W._elemBind[key];\n  if (eventShim) {\n    elem.removeEventListener(event, eventShim, useCapture);\n    eventShim.elem = null;\n    eventShim.event = null;\n  }\n  return delete W._elemBind[key];\n};\n\nexport const elemUnbindAll = (elem) => {\n  for (let key in W._elemBind) {\n    let eventShim = W._elemBind[key];\n    if (eventShim && elem === eventShim.elem) {\n      let event = eventShim.event;\n      eventShim.elem.removeEventListener(event, eventShim, false);\n      eventShim.elem = null;\n      eventShim.event = null;\n      delete W._elemBind[key];\n    }\n  }\n};\n\nexport const elemUnbindAllInside = (container) => {\n  let count = 0;\n  for (let key in W._elemBind) {\n    let eventShim = W._elemBind[key];\n    if (eventShim && elemIsInside(eventShim.elem, container)) {\n      let event = eventShim.event;\n      eventShim.elem.removeEventListener(event, eventShim, false);\n      eventShim.elem = null;\n      eventShim.event = null;\n      delete W._elemBind[key];\n      count += 1;\n    }\n  }\n\n  return count;\n};\n\nexport const elemBindKey = (elem, event, fn) => {\n  elem._wistiaElemId = elem._wistiaElemId || seqId('wistia_elem_');\n  fn._wistiaBindId = fn._wistiaBindId || seqId('wistia_bind_');\n  return `${elem._wistiaElemId}.${event}.${fn._wistiaBindId}`;\n};\n\nexport const elemRebind = (elem, event, fn) => {\n  if (fn) {\n    elemUnbind(elem, event, fn);\n    return elemBind(elem, event, fn);\n  }\n};\n\nexport const elemBindOnce = (elem, event, fn) => {\n  const wrap = function (...args) {\n    fn.apply(this, args);\n    return elemUnbind;\n  };\n  return elemBind(elem, event, wrap);\n};\n\nexport const elemTrigger = (elem, event, ...customArguments) => {\n  if (elem.dispatchEvent) {\n    const eventObj = document.createEvent('Events');\n    eventObj.initEvent(event, true, false);\n    if (event === 'click' || event === 'doubleclick') {\n      eventObj.which = 1;\n    } else if (event === 'rightclick') {\n      eventObj.which = 2;\n    }\n    eventObj.customArguments = customArguments;\n    return elem.dispatchEvent(eventObj);\n  }\n  if (elem.fireEvent) {\n    const eventObj = { customArguments };\n    return elem.fireEvent(`on${event}`, eventObj);\n  }\n  wlog.error('neither dispatchEvent nor fireEvent is defined for', elem, event);\n};\n\nexport const fullscreenElement = () => {\n  return document.fullscreenElement || document.webkitFullscreenElement;\n};\n\nexport const elemRequestFullscreen = (elem) => {\n  if (elem.requestFullscreen) {\n    return elem.requestFullscreen();\n  }\n  if (elem.webkitEnterFullscreen) {\n    return elem.webkitEnterFullscreen();\n  }\n  wlog.notice('no requestFullscreen functionality detected');\n  return null;\n};\n\nexport const elemCancelFullscreen = (elem) => {\n  if (document.exitFullscreen) {\n    return document.exitFullscreen();\n  }\n  if (elem && elem.webkitExitFullscreen) {\n    return elem.webkitExitFullscreen();\n  }\n  wlog.notice('no cancelFullscreen functionality detected');\n  return null;\n};\n\nexport const elemStripEventAttributes = (elem) => {\n  const attributes = (elem && elem.attributes) || [];\n  try {\n    for (let i = 0; i < attributes.length; i++) {\n      let attr = attributes[i];\n      if (/^on.+/i.test(attr.name)) {\n        elem[attr.name] = null;\n        elem.removeAttribute(attr.name);\n      }\n    }\n  } catch (e) {\n    wlog.error(e);\n  }\n\n  if (elem.childNodes) {\n    for (let i = 0; i < elem.childNodes.length; i++) {\n      let child = elem.childNodes[i];\n      if (child.nodeType === 1) {\n        elemStripEventAttributes(child);\n      }\n    }\n  }\n};\n\nexport const elemMutationObserver = (fn) => {\n  const klass = detect.mutationObserver;\n  if (klass) {\n    return new window[klass](fn);\n  }\n  return null;\n};\n\nexport const docScrollTop = (t) => {\n  let docBody = document.body;\n  let docElem = document.documentElement;\n  if (t != null) {\n    if (docBody) {\n      docBody.scrollTop = t;\n    }\n    if (docElem) {\n      docElem.scrollTop = t;\n    }\n  } else {\n    return (docElem && docElem.scrollTop) || (docBody && docBody.scrollTop) || 0;\n  }\n};\n\nexport const docScrollLeft = (t) => {\n  let docBody = document.body;\n  let docElem = document.documentElement;\n  if (t != null) {\n    if (docBody) {\n      docBody.scrollLeft = t;\n    }\n    if (docElem) {\n      docElem.scrollLeft = t;\n    }\n  } else {\n    return (docElem && docElem.scrollLeft) || (docBody && docBody.scrollLeft) || 0;\n  }\n};\n\nexport const safeRequestAnimationFrame = (fn) => {\n  const requestAnimFrame =\n    window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    ((callback) => setTimeout(callback, 1000 / 60));\n  return requestAnimFrame(fn);\n};\n\nexport const formInputIsFocused = () => {\n  return (\n    /^textarea|input|select$/i.test(document.activeElement.tagName) ||\n    document.activeElement.isContentEditable\n  );\n};\n\nexport const inUserEventContext = () => {\n  return !!activeDOMEvent;\n};\n\nexport const getLastActiveEventAt = () => {\n  return lastActiveEventAt;\n};\n\nlet activeDOMEvent;\nlet lastActiveEventAt = -1;\nconst userEventsThatShowIntent = [\n  'auxclick',\n  'click',\n  'contextmenu',\n  'dblclick',\n  'focus',\n  'keydown',\n  'keypress',\n  'keyup',\n  'mousedown',\n  'mouseup',\n  'reset',\n  'submit',\n  'touchend',\n  'touchstart',\n];\nuserEventsThatShowIntent.forEach((type) => {\n  const onEvent = (e) => {\n    activeDOMEvent = e;\n    lastActiveEventAt = Date.now();\n    setTimeout(() => {\n      if (activeDOMEvent === e) {\n        // if some other event has triggered synchronously, let's not clobber it;\n        // the last one to fire will set this to null.\n        activeDOMEvent = undefined;\n      }\n    }, 0);\n  };\n\n  // We use capture = true because event.stopPropagation() would cause us to\n  // miss this.\n  elemBind(\n    document,\n    type,\n    onEvent,\n    detect.passiveSupported ? { capture: true, passive: true } : true,\n  );\n});\n","import assign from 'utilities/assign.js';\n\n// Old trick to clone arrays, i.e. `aps.call(array)`.\nconst aps = Array.prototype.slice;\n\nconst merge = (obj1, ...objs) => {\n  if (objs.length === 0) {\n    return obj1;\n  }\n  for (let i = 0; i < objs.length; i++) {\n    mergeOne(obj1, objs[i]);\n  }\n  return obj1;\n};\n\n// Recursively merge the leaf values of obj2 into obj1. obj1 is modified\n// in-place. Accepts objects or arrays. Always returns obj1.\n//\n// By default, we do not transform any merged values.\n//\n// We also use a non-ideal legacy strategy when merging null/undefined\n// values from obj2: they will _delete_ corresponding keys in obj1. The more\n// correct solution seems like it would be to _never_ delete from obj1, or\n// at least to only delete `undefined` values, but maybe not null. We _may_\n// be able to just make this change, but let's do one thing at a time.\nconst mergeOne = (\n  obj1,\n  obj2,\n  transformerFn = identityFunc,\n  shouldDeleteFn = legacyShouldDeleteFromMerge,\n) => {\n  if (isArray(obj2)) {\n    if (!isArray(obj1)) {\n      obj1 = [];\n    }\n    for (let i = 0; i < obj2.length; i++) {\n      let v = obj2[i];\n      // note that setting an index of an array will naturally increase the\n      // length of the array. Array#push() is not necessary.\n      if (obj1[i] == null && v != null) {\n        if (isArray(v)) {\n          obj1[i] = [];\n        } else if (isObject(v)) {\n          obj1[i] = {};\n        }\n      }\n      const result = mergeOne(obj1[i], v, transformerFn);\n      if (shouldDeleteFn(obj2, i, result)) {\n        delete obj1[i];\n      } else {\n        obj1[i] = result;\n      }\n    }\n    return transformerFn(obj1);\n  }\n  if (isObject(obj2)) {\n    for (let k in obj2) {\n      if (Object.hasOwn(obj2, k) && (Object.hasOwn(obj1, k) || obj1[k] == null)) {\n        let v = obj2[k];\n        if (isArray(v)) {\n          if (!isArray(obj1[k])) {\n            obj1[k] = [];\n          }\n          mergeOne(obj1[k], v, transformerFn);\n          obj1[k] = transformerFn(obj1[k]);\n        } else if (isObject(v)) {\n          if (!isObject(obj1[k])) {\n            obj1[k] = {};\n          }\n          mergeOne(obj1[k], v, transformerFn);\n          obj1[k] = transformerFn(obj1[k]);\n        } else if (obj1 == null) {\n          obj1 = {};\n          if (!shouldDeleteFn(obj2, k, v)) {\n            obj1[k] = transformerFn(v);\n          }\n        } else if (shouldDeleteFn(obj2, k, v)) {\n          delete obj1[k];\n        } else {\n          obj1[k] = transformerFn(v);\n        }\n      }\n    }\n    return transformerFn(obj1);\n  }\n  // obj2 is not an object that can be cloned. Since we may recurse down\n  // to this level, we should just return obj2, since it will overwrite\n  // obj1.\n  return transformerFn(obj2);\n};\n\nconst identityFunc = (v) => {\n  return v;\n};\n\n// When merging, delete key from obj1 if the value from obj2 is null or\n// undefined.\nconst legacyShouldDeleteFromMerge = (obj, k, v) => {\n  return v == null;\n};\n\nconst clone = (obj, transformerFn) => {\n  if (isArray(obj)) {\n    return mergeOne([], obj, transformerFn);\n  }\n  return mergeOne({}, obj, transformerFn);\n};\n\nconst getDeep = (obj, parts, create) => {\n  if (typeof parts === 'string') {\n    parts = parts.split('.');\n  } else {\n    parts = aps.call(parts);\n  }\n\n  let lastObj = obj;\n  let lastP;\n  while (obj != null && parts.length) {\n    let p = parts.shift();\n    if ((obj[p] === undefined || (!isObject(obj[p]) && !isArray(obj[p]))) && create) {\n      if (p === 0) {\n        obj = lastObj[lastP] = [];\n        obj[p] = {};\n      } else {\n        obj[p] = {};\n      }\n    }\n    lastObj = obj;\n    lastP = p;\n\n    // Only descend into properties that the object directly owns. getDeep({}, '__proto__')\n    // See for security vulnerability reproduction.\n    // https://github.com/wistia/player-modern/issues/1800\n    if (Object.hasOwn(obj, p)) {\n      obj = obj[p];\n    } else {\n      obj = undefined;\n    }\n  }\n\n  return obj;\n};\n\nconst setDeep = (obj, parts, value) => {\n  return setAndMaybeDeleteUndefined(obj, parts, value, true);\n};\n\nconst setAndPreserveUndefined = (obj, parts, value) => {\n  return setAndMaybeDeleteUndefined(obj, parts, value, false);\n};\n\nconst setAndMaybeDeleteUndefined = (obj, parts, value, shouldDeleteUndefined = true) => {\n  if (typeof parts === 'string') {\n    parts = parts.split('.');\n  } else {\n    parts = aps.call(parts);\n  }\n  const prop = parts.pop();\n  obj = getDeep(obj, parts, true);\n  if (obj != null && (isObject(obj) || isArray(obj)) && prop != null) {\n    if (!shouldDeleteUndefined || value != null) {\n      obj[prop] = value;\n    } else {\n      delete obj[prop];\n    }\n  } else {\n    // nothing to set or delete\n    return undefined;\n  }\n};\n\nconst unsetDeep = (obj, parts) => {\n  return setDeep(obj, parts);\n};\n\nconst exists = (obj, name) => {\n  return getDeep(obj, name) !== undefined;\n};\n\nconst cast = (maybeStr) => {\n  if (maybeStr == null) {\n    return maybeStr;\n  }\n\n  if (isObject(maybeStr) || isArray(maybeStr)) {\n    return castDeep(maybeStr);\n  }\n\n  return castStr(`${maybeStr}`, maybeStr);\n};\n\nconst castStr = (str, defaultRet = str) => {\n  if (/^-?[1-9]\\d*?$/.test(str)) {\n    return parseInt(str, 10);\n  }\n  if (str === '0' || str === '-0') {\n    return 0;\n  }\n  if (/^-?\\d*\\.\\d+$/.test(str)) {\n    return parseFloat(str);\n  }\n  if (/^true$/i.test(str)) {\n    return true;\n  }\n  if (/^false$/i.test(str)) {\n    return false;\n  }\n  return defaultRet;\n};\n\n// Given an object or array, iterates over each leaf and casts the value.\nconst castDeep = (obj) => {\n  const castTransformer = (val) => {\n    if (typeof val === 'string') {\n      return castStr(val);\n    }\n    return val;\n  };\n  const dontDeleteAnything = () => false;\n  return mergeOne(obj, obj, castTransformer, dontDeleteAnything);\n};\n\nconst only = (hash, keys) => {\n  const result = {};\n  const keyHash = {};\n  for (let i = 0; i < keys.length; i++) {\n    keyHash[keys[i]] = true;\n  }\n  for (let k in hash) {\n    if (keyHash[k]) {\n      result[k] = hash[k];\n    }\n  }\n  return result;\n};\n\nconst except = (hash, keys) => {\n  const result = {};\n  const keyHash = {};\n  for (let i = 0; i < keys.length; i++) {\n    keyHash[keys[i]] = true;\n  }\n  for (let k in hash) {\n    if (!keyHash[k]) {\n      result[k] = hash[k];\n    }\n  }\n  return result;\n};\n\n// Advanced sorting and filtering so we can be expressive and concise when\n// choosing assets.\n//\n// Defined at the class level so it's easier to test sorting and filtering.\nconst select = (arr, keyPairs) => {\n  const result = [];\n\n  const isFn = typeof keyPairs === 'function';\n  const filterFn = isFn ? keyPairs : null;\n\n  for (let i = 0; i < arr.length; i++) {\n    let elem = arr[i];\n    if (isFn) {\n      // Filter by function. This gives the most freedom.\n      if (filterFn(elem)) {\n        result.push(elem);\n      }\n    } else {\n      // Select the asset if all keyPairs of the object match. Common.\n      let matching = true;\n      for (let k in keyPairs) {\n        let v = keyPairs[k];\n        if (v instanceof Array) {\n          // Range check.\n          if (!elem[k] || elem[k] < v[0] || elem[k] > v[1]) {\n            matching = false;\n            break;\n          }\n        } else if (v instanceof RegExp) {\n          // Regular Expression check.\n          if (!v.test(elem[k])) {\n            matching = false;\n            break;\n          }\n        } else if (v instanceof MultipleValues) {\n          let anyMatch = false;\n          for (let j = 0; j < v.values.length; j++) {\n            let value = v.values[j];\n            if (elem[k] === value) {\n              anyMatch = true;\n              break;\n            }\n          }\n          if (!anyMatch) {\n            matching = false;\n            break;\n          }\n        } else if (typeof v === 'function') {\n          if (elem[k] == null || !v(elem[k])) {\n            matching = false;\n            break;\n          }\n        } else if (elem[k] !== v) {\n          // Exact match.\n          matching = false;\n          break;\n        }\n      }\n      if (matching) {\n        result.push(elem);\n      }\n    }\n  }\n\n  return result;\n};\n\n// This is just a way to box multiple values in a semantic way, to help us\n// differentiate between AND/OR/Range type situations.\nconst MultipleValues = function (values) {\n  const self = this;\n\n  const construct = function () {\n    self.values = values;\n  };\n\n  construct();\n\n  return self;\n};\n\nconst values = (...values) => {\n  return new MultipleValues(values);\n};\n\nconst sort = (arr, keys) => {\n  const isFn = typeof keys === 'function';\n  const filterFn = isFn ? keys : null;\n  const result = aps.call(arr);\n\n  // Sort results with this option.\n  if (isFn) {\n    // Sort via sort functions. This gives the most freedom.\n    result.sort(filterFn);\n  } else {\n    // Convenience for sorting by one or many properties. Can either pass an\n    // array or a comma separated list.\n    result.sort((a, b) => {\n      let sortBys;\n      if (keys instanceof Array) {\n        sortBys = clone(keys);\n      } else {\n        sortBys = keys.split(/\\s*,\\s*/);\n      }\n      let ret = 0;\n      while (ret === 0 && sortBys.length > 0) {\n        let pieces = sortBys.shift().split(/\\s+/);\n        let sortBy = pieces[0];\n        let dir = pieces[1];\n        dir = dir === 'desc' ? -1 : 1;\n        if (a[sortBy] < b[sortBy]) {\n          ret = -1 * dir;\n          break;\n        } else if (a[sortBy] === b[sortBy]) {\n          ret = 0;\n        } else {\n          ret = 1 * dir;\n          break;\n        }\n      }\n      return ret;\n    });\n  }\n  return result;\n};\n\nconst filter = (arr, callback, thisArg) => {\n  const ctx = thisArg === undefined ? this : thisArg;\n  const result = [];\n  for (let i = 0; i < arr.length; i++) {\n    if (callback.call(ctx, arr[i], i, arr)) {\n      result.push(arr[i]);\n    }\n  }\n  return result;\n};\n\n// returns true if obj is a basic Array, []\n// duck type push as optimization; most checks are not arrays and will not\n// have push set. this way we avoid the implicit toString() on the\n// constructor.\nconst ARR_REGEXP = /^\\s*function Array()/;\nconst isArray = (obj) => {\n  return obj != null && obj.push && ARR_REGEXP.test(obj.constructor);\n};\n\n// returns true if obj is a basic Object, {}\nconst OBJ_REGEXP = /^\\s*function Object()/;\nconst isObject = (obj) => {\n  return obj != null && typeof obj === 'object' && OBJ_REGEXP.test(obj.constructor);\n};\n\nconst isFunction = (obj) => {\n  return obj != null && typeof obj === 'function';\n};\n\nconst REGEXP_REGEXP = /^\\s*function RegExp()/;\nconst isRegExp = (obj) => {\n  return obj != null && REGEXP_REGEXP.test(obj.constructor);\n};\n\n// returns true if obj is one of javascript's basic types\nconst BASIC_TYPE_REGEXP = /^string|number|boolean|function$/i;\nconst isBasicType = (obj) => {\n  return obj != null && (BASIC_TYPE_REGEXP.test(typeof obj) || isRegExp(obj));\n};\n\nconst isEmpty = (obj) => {\n  if (obj == null) {\n    return true;\n  }\n  if (isArray(obj) && !obj.length) {\n    return true;\n  }\n  if (isObject(obj)) {\n    if (Object.keys(obj).length) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n};\n\n// returns true if obj1 is a subset of obj2\nconst isSubsetDeep = (obj1, obj2) => {\n  if (obj1 === obj2) {\n    return true;\n  }\n  if ((obj1 != null && obj2 == null) || (obj1 == null && obj2 != null)) {\n    return false;\n  }\n  let result = true;\n  eachLeaf(obj1, (obj1LeafVal, path) => {\n    let obj2LeafVal = getDeep(obj2, path);\n    if (obj1LeafVal !== obj2LeafVal) {\n      result = false;\n    }\n  });\n  return result;\n};\n\n// true if each object is a subset of the other\nconst equalsDeep = (obj1, obj2) => {\n  return isSubsetDeep(obj1, obj2) && isSubsetDeep(obj2, obj1);\n};\n\n//\n// This is the meat and potatoes for iterating over\n// javascript object/array structures.\n//\n// Call fn(node, path, parent, key) for each node in an object.\n//\n// We include the parent + key so that the callback can modify the leaf\n// value in-place. We pass the path to the root node (the keys from root to\n// leaf) so that we can serialize objects.\nconst eachDeep = (obj, fn, path, parent, key) => {\n  if (path == null) {\n    path = [];\n  }\n  if (isBasicType(obj)) {\n    fn(obj, path, parent, key);\n  } else if (isObject(obj) || isArray(obj)) {\n    fn(obj, path, parent, key);\n    for (let key in obj) {\n      if (Object.hasOwn(obj, key)) {\n        const newPath = aps.call(path);\n        newPath.push(key);\n        eachDeep(obj[key], fn, newPath, obj, key);\n      }\n    }\n  } else {\n    fn(obj, path, parent, key);\n  }\n};\n\n// call fn(node, path, parent, key) for each leaf node in an object\nconst eachLeaf = (obj, fn) => {\n  eachDeep(obj, (obj, path, parent, key) => {\n    if (!isArray(obj) && !isObject(obj)) {\n      fn(obj, path, parent, key);\n    }\n  });\n};\n\nconst pick = (obj, keys) => {\n  const result = {};\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (obj[key]) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n};\n\nconst indexOf = (arr, target) => {\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i] === target) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nconst keys = (obj) => {\n  if (Object.keys) {\n    return Object.keys(obj);\n  }\n  const result = [];\n  for (let k in obj) {\n    if (Object.hasOwn(obj, k)) {\n      result.push(k);\n    }\n  }\n  return result;\n};\n\nexport {\n  merge,\n  mergeOne,\n  identityFunc,\n  legacyShouldDeleteFromMerge,\n  clone,\n  getDeep,\n  setDeep,\n  setAndPreserveUndefined,\n  unsetDeep,\n  exists,\n  assign,\n  cast,\n  castDeep,\n  only,\n  except,\n  select,\n  filter,\n  values,\n  sort,\n  isArray,\n  isObject,\n  isFunction,\n  isRegExp,\n  isBasicType,\n  isEmpty,\n  isSubsetDeep,\n  equalsDeep,\n  eachDeep,\n  eachLeaf,\n  pick,\n  indexOf,\n  keys,\n};\n","// You wouldn't believe it, but IE11 does not support Object.assign(), so this\n// is our non-polyfill replacement.\n\nconst assign = (obj1, ...objs) => {\n  if (Object.assign) {\n    return Object.assign(obj1, ...objs);\n  }\n  for (let i = 0; i < objs.length; i++) {\n    assignOne(obj1, objs[i]);\n  }\n  return obj1;\n};\n\nconst assignOne = (obj1, obj2) => {\n  for (let k in obj2) {\n    if (Object.hasOwn(obj2, k)) {\n      obj1[k] = obj2[k];\n    }\n  }\n  return obj1;\n};\n\nexport default assign;\n","import poll from 'utilities/poll.js';\n\nexport const isDocReady = () => {\n  return /loaded|complete/.test(document.readyState);\n};\n\nexport const onDocReady = function () {\n  let timeout;\n  let fn;\n\n  if (arguments.length > 1) {\n    timeout = arguments[0];\n    fn = arguments[1];\n  } else {\n    timeout = 10000;\n    fn = arguments[0];\n  }\n\n  if (isDocReady()) {\n    fn();\n  } else if (top === self && document.documentElement.doScroll) {\n    // IE < 9 is ready earlier than the 'readystatechange' event\n    // would have you believe. This doScroll check won't throw an error\n    // when it's finally ready. This will bomb in an iframe though, which\n    // is why we have the 'top is self' check. Fortunately,\n    // readystatechange should fire just fine in an iframe context.\n    const scrollTest = function () {\n      try {\n        document.documentElement.doScroll('left');\n        return true;\n      } catch (e) {\n        return false;\n      }\n    };\n    poll(scrollTest, fn, 50, timeout, fn);\n  } else {\n    const runFnOnComplete = function () {\n      if (isDocReady()) {\n        clearTimeout(giveUpTimeout);\n        unbindListeners();\n        fn();\n      }\n    };\n\n    const bindListeners = function () {\n      document.addEventListener('DOMContentLoaded', runFnOnComplete, false);\n      document.addEventListener('readystatechange', runFnOnComplete, false);\n      window.addEventListener('load', runFnOnComplete, false);\n    };\n\n    const unbindListeners = function () {\n      document.removeEventListener('DOMContentLoaded', runFnOnComplete, false);\n      document.removeEventListener('readystatechange', runFnOnComplete, false);\n      window.removeEventListener('load', runFnOnComplete, false);\n    };\n\n    const giveUpOnEvent = function () {\n      unbindListeners();\n      fn();\n    };\n\n    // Wait for the ready event for up to 10 seconds.\n    const giveUpTimeout = setTimeout(giveUpOnEvent, timeout);\n    bindListeners();\n  }\n};\n\nexport default onDocReady;\n","export const poll = (cond, fn, interval, timeout, failFn) => {\n  let pollTimeout = null;\n  const start = new Date().getTime();\n  const pollFn = () => {\n    if (new Date().getTime() - start > timeout) {\n      if (typeof failFn === 'function') {\n        failFn();\n      }\n      return;\n    }\n\n    if (cond()) {\n      fn();\n    } else {\n      clearTimeout(pollTimeout);\n      pollTimeout = setTimeout(pollFn, interval);\n    }\n  };\n  pollTimeout = setTimeout(pollFn, 1);\n};\n\nexport default poll;\n","const pageLoaded = (fn, timeout = 4000, doc = document, win = window) => {\n  if (/loaded|complete/.test(doc.readyState)) {\n    setTimeout(fn, 0);\n  } else {\n    const unbind = () => {\n      win.removeEventListener('load', onPageLoad, false);\n    };\n\n    const onPageLoad = () => {\n      clearTimeout(onLoadTimeout);\n      unbind();\n      fn();\n    };\n\n    win.addEventListener('load', onPageLoad, false);\n\n    const onLoadTimeout = setTimeout(() => {\n      unbind();\n      fn();\n    }, timeout);\n  }\n};\n\nexport default pageLoaded;\n","import Wistia from 'wistia_namespace.js';\nimport root from 'utilities/root.js';\n\nconst na = navigator.userAgent;\n\n// ua regexes taken from http://code.jquery.com/jquery-1.6.4.js\nconst rwebkit = /(webkit)[ /]([^\\s]+)/i;\nconst ropera = /OPR\\/([^\\s]+)/i;\nconst redge = /(edge)\\/(\\d+(?:\\.\\d+)?)/i;\nconst rmozilla = /(mozilla)(?:.*? rv:([^\\s)]+))?/i;\n\n// special platform regexes\nconst randroid = /(android) ([^;]+)/i;\nconst riphone = /(iphone)/i;\nconst ripad = /(ipad)/i;\nconst rwinphone = /(Windows Phone OS (\\d+(?:\\.\\d+)?))/;\nconst rios = /OS (\\d+)_(\\d+)/i;\nconst rps3 = /(playstation 3)/i;\nconst rblackberry = /BlackBerry|BB10/i;\nconst rfirefox = /(firefox)/i;\nconst rgearvr = /Mobile VR/i;\n\n// Apple keeps their Safari version the same as their iOS version\n// (with the exception being that they occasionally release the new safari\n// slightly before the new iOS is available)\nconst riosVersion = /Version\\/([^\\s]+)/i;\n\nconst browser = () => {\n  return (browserMatch()[1] || 'webkit').toLowerCase();\n};\n\nconst browserVersion = () => {\n  return browserMatch()[2];\n};\n\nconst browserMatch = () => {\n  let match;\n\n  match = na.match(redge);\n  if (match) {\n    return match;\n  }\n\n  match = na.match(rwebkit);\n  if (match) {\n    return match;\n  }\n\n  match = na.match(ropera);\n  if (match) {\n    return match;\n  }\n\n  if (match) {\n    if (document.documentMode != null) {\n      match[2] = document.documentMode;\n    }\n    return match;\n  }\n\n  match = na.match(rmozilla);\n  if (match) {\n    return match;\n  }\n\n  return [];\n};\n\n// return false if not android, version info if android\nconst android = () => {\n  const matches = na.match(randroid);\n  if (matches == null) {\n    return false;\n  }\n  return { version: matches[2] };\n};\n\nconst oldandroid = () => {\n  return android() && parseFloat(android().version) < 4.1;\n};\n\nconst iphone = () => {\n  return riphone.test(na);\n};\n\nconst touchScreen = () => {\n  return iosVersion() > 0 || android() || ipad();\n};\n\nconst hoverIsNatural = () => {\n  // The (hover: hover) query matches when two conditions are met:\n  //\n  // 1. hover is supported\n  // 2. hover is easy to access for the user based on their primary input device\n  //\n  // So for example, when the users primary input is touch, this returns false\n  // even though hover interactions are technically supported.\n  //\n  // If matchMedia is unsupported or the hover query is unsupported, we fall\n  // back on returning the heuristic check for iOS or Android. If it is true,\n  // we assume hover is not natural. This can produce false negatives and false\n  // positives, but most agents support the hover query.\n  //\n  // This is an alternative to using touchScreen() when deciding whether to\n  // attach enter/leave mouse event handlers based on hover capability.\n\n  try {\n    const mediaQueryList = matchMedia('(hover:hover)');\n\n    if (mediaQueryList.media !== 'not all') {\n      return mediaQueryList.matches;\n    }\n  } catch (err) {\n    // feature detection: swallow errors.\n  }\n\n  return !touchScreen();\n};\n\nconst blackberry = () => {\n  return rblackberry.test(na);\n};\n\nconst retina = () => {\n  return root.devicePixelRatio != null && root.devicePixelRatio > 1;\n};\n\nconst ipad = () => {\n  return (\n    /Macintosh/i.test(navigator.userAgent) &&\n    navigator.maxTouchPoints &&\n    navigator.maxTouchPoints > 1\n  );\n};\n\nconst safari = () => {\n  return rwebkit.test(na) && !/chrome/i.test(na) && !ipad() && !iphone();\n};\n\nconst amazonSilk = () => {\n  if (/Silk/.test(na)) {\n    return { version: silkVersion() };\n  }\n\n  return false;\n};\n\nconst chrome = () => {\n  if (/Chrome/.test(na) && /Google Inc/.test(navigator.vendor)) {\n    return { version: chromeVersion() };\n  }\n  return false;\n};\n\nconst silkVersion = () => {\n  const match = na.match(/\\bSilk\\/([^\\s]+)/);\n  return match && match[1];\n};\n\nconst chromeVersion = () => {\n  const match = na.match(/\\bChrome\\/([^\\s]+)/);\n  return match && match[1];\n};\n\nconst opera = () => {\n  return ropera.test(na);\n};\n\nconst iosVersion = () => {\n  const iosMatch = na.match(rios);\n  const versionMatch = na.match(riosVersion);\n\n  if (iosMatch != null) {\n    return parseFloat(`${iosMatch[1]}.${iosMatch[2]}`);\n  }\n  if (versionMatch != null && versionMatch[1] && ipad()) {\n    // to get the version of an ipad that is reporting as a Mac in its\n    // user agent, we can rely on the Version part of the ua to be\n    // fairly certain\n    return parseFloat(versionMatch[1]);\n  }\n  return 0;\n};\n\nconst windowsPhone = () => {\n  return rwinphone.test(na);\n};\n\nconst ps3 = () => {\n  return rps3.test(na);\n};\n\nconst edge = () => {\n  return redge.test(na);\n};\n\nconst firefox = () => {\n  return rfirefox.test(na);\n};\n\nconst gearvr = () => {\n  return rgearvr.test(na);\n};\n\nconst windows = () => {\n  return /win/i.test(navigator.platform);\n};\n\nconst mac = () => {\n  return /mac/i.test(navigator.platform);\n};\n\nconst linux = () => {\n  return /linux/i.test(navigator.platform);\n};\n\n// modified slightly from http://www.modernizr.com/downloads/modernizr-2.0.6.js\nconst html5Video = () => {\n  const elem = document.createElement('video');\n  let result = false;\n\n  // IE9 Running on Windows Server SKU can cause an exception to be thrown, bug #224\n  try {\n    if (elem.canPlayType) {\n      result = {};\n      // Workaround required for IE9, which doesn't report video support without audio codec specified.\n      // bug 599718 @ msft connect\n      const h264 = 'video/mp4; codecs=\"avc1.42E01E';\n      result.h264 = !!elem.canPlayType(`${h264}\"`) || !!elem.canPlayType(`${h264}, mp4a.40.2\"`);\n      result.webm = !!elem.canPlayType('video/webm; codecs=\"vp9, vorbis\"');\n      result.nativeHls = !!elem.canPlayType('application/vnd.apple.mpegURL');\n    }\n  } catch (e) {\n    result = {\n      ogg: false,\n      h264: false,\n      webm: false,\n      nativeHls: false,\n    };\n  }\n  return result;\n};\n\nconst mediaSource = () => {\n  const h264 = 'video/mp4; codecs=\"avc1.42E01E';\n  return root.MediaSource && root.MediaSource.isTypeSupported(`${h264}, mp4a.40.2\"`);\n};\n\nconst nativeHls = () => {\n  return (iphone() || ipad() || safari()) && html5Video().nativeHls;\n};\n\nconst localStorage = () => {\n  try {\n    return 'localStorage' in root && root.localStorage != null;\n  } catch (e) {\n    return false;\n  }\n};\n\nconst json = () => {\n  return !!(root.JSON && typeof JSON.parse === 'function');\n};\n\nconst backgroundSize = () => {\n  const testEl = document.createElement('div');\n  return (\n    testEl.style.backgroundSize === '' ||\n    testEl.style.webkitBackgroundSize === '' ||\n    testEl.style.mozBackgroundSize === '' ||\n    testEl.style.oBackgroundSize === ''\n  );\n};\n\nconst fullscreenEnabled = () => {\n  return (\n    document.fullscreenEnabled ||\n    document.mozFullScreenEnabled ||\n    document.webkitFullscreenEnabled ||\n    document.msFullscreenEnabled\n  );\n};\n\nconst browserPrefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\nconst mutationObserver = () => {\n  for (let i = 0; i < browserPrefixes.length; i++) {\n    let prefix = browserPrefixes[i];\n    let prop = `${prefix}MutationObserver`;\n    if (root[prop]) {\n      return prop;\n    }\n  }\n  return null;\n};\n\nconst vulcanSupport = () => {\n  const modernBrowser = /webkit|mozilla|edge/.test(browser());\n  return Boolean(\n    !iphone() &&\n      !ipad() &&\n      !android() &&\n      !blackberry() &&\n      modernBrowser &&\n      html5Video().h264 &&\n      Object.defineProperties,\n  );\n};\n\nlet isPassiveSupported;\nconst passiveSupported = () => {\n  if (isPassiveSupported != null) {\n    return isPassiveSupported;\n  }\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      /* eslint-disable-next-line getter-return */\n      get() {\n        isPassiveSupported = true;\n      },\n    });\n\n    window.addEventListener('test', null, options);\n  } catch (err) {\n    isPassiveSupported = false;\n  }\n  return isPassiveSupported;\n};\n\nexport const callingPlayRequiresEventContext = () => {\n  return iosVersion() > 0 || android() || safari();\n};\n\n// https://caniuse.com/#search=webp\n// use user-agent for browser and version webp detection\n// we're opting for this over a feature detection mechanism so that our detection\n// can be as fast and synchronous as possible. Doing an async feature detection\n// occasionally resulted in false negatives.\nexport const webp = () => {\n  const chromeBrowser = chrome();\n  const firefoxBrowser = firefox();\n  const edgeBrowser = edge();\n  const operaBrowser = opera();\n\n  const isChromeDesktopSupported = chromeBrowser && browserVersion() >= 32;\n  const isChromeAndroidSupported = chromeBrowser && browserVersion() >= 75 && android();\n  const isFirefoxDesktopSupported = firefoxBrowser && browserVersion() >= 65;\n  const isFirefoxAndroidSupported = firefoxBrowser && browserVersion() >= 67 && android();\n  const isEdgeSupported = edgeBrowser && browserVersion() >= 18;\n  const isOperaSupported = operaBrowser && browserVersion() >= 19;\n\n  return (\n    isChromeDesktopSupported ||\n    isChromeAndroidSupported ||\n    isFirefoxDesktopSupported ||\n    isFirefoxAndroidSupported ||\n    isEdgeSupported ||\n    isOperaSupported\n  );\n};\n\nexport const cachedDetect = () => {\n  if (Wistia._detectCache) {\n    // Allow this to be cached globally so it's not executed once every time\n    // it's imported.\n    return Wistia._detectCache;\n  }\n\n  Wistia._detectCache = uncachedDetect();\n  return Wistia._detectCache;\n};\n\nexport const uncachedDetect = () => {\n  const result = {\n    amazonSilk: amazonSilk(),\n    browser: {\n      version: browserVersion(),\n    },\n    edge: edge(),\n    firefox: firefox(),\n    gearvr: gearvr(),\n    android: android(),\n    oldandroid: oldandroid(),\n    iphone: iphone(),\n    ipad: ipad(),\n    blackberry: blackberry(),\n    safari: safari(),\n    chrome: chrome(),\n    opera: opera(),\n    winphone: { version: windowsPhone()[2] },\n    ios: { version: iosVersion() },\n    windows: windows(),\n    mac: mac(),\n    linux: linux(),\n    retina: retina(),\n    hoverIsNatural: hoverIsNatural(),\n    touchScreen: touchScreen(),\n    ps3: ps3(),\n    video: html5Video(),\n    mediaSource: mediaSource(),\n    nativeHls: nativeHls(),\n    localstorage: localStorage(),\n    json: json(),\n    backgroundSize: backgroundSize(),\n    fullscreenEnabled: fullscreenEnabled(),\n    vulcanSupport: vulcanSupport(),\n    mutationObserver: mutationObserver(),\n    callingPlayRequiresEventContext: callingPlayRequiresEventContext(),\n    passiveSupported: passiveSupported(),\n    webp: webp(),\n  };\n\n  result.browser[browser()] = true;\n\n  return result;\n};\n\nexport const clearDetectCache = () => {\n  Wistia._detectCache = null;\n};\n","/* eslint no-console: \"off\" */\n/*\n * wlog\n *\n * wlog seeks to give us flexibility and power.\n *\n * Basic usage:\n *\n *     import {Logger} from 'utilities/wlog.js';\n *     const logger = new Logger();\n *\n *     logger.error(exception); // this will print the message and stack nicely\n *     logger.error('an error');\n *     logger.info('informational');\n *     logger.warn('a warning');\n *     logger.debug('really high volume stuff');\n *\n * You can change the level:\n *\n *     logger.setLevel(LOG_LEVELS.INFO);\n *\n * You can change grep (include matching) and grepv (exclude matching):\n *\n *     logger.setGrep('include only lines matching this text');\n *     logger.setGrepv('exclude any lines matching this text');\n *\n * If you want loggers to share context--for example, all logs for the player\n * should send to the same first1000LogLines and last1000LogLines caches.\n *\n *     Wistia.wlog = Wistia.wlog || {};\n *     const logger = new Logger(Wistia.wlog);\n *\n * A more advanced case would be to return the context in a function. This is\n * helpful if your logger is initialized/configured in one point, but used in\n * others that don't need to know about that configuration. In fact, this is\n * how the `wlog` constant is setup at the bottom of this file.\n *\n * We often want to have a global logger, but prefix certain portions of it.\n *\n *     const myLogger = logger.getPrefixedFunctions('my prefix');\n *     myLogger.info('aha'); // outputs \"my prefix aha\"\n *\n * A prefix can be a string or an array of strings. It can also be a function\n * that returns a string or an array of strings.\n *\n * In the above example, `myLogger` is a simple Object with defined logging\n * functions and fixed `this` context:\n *\n *    {\n *      error: (...messages) => { ... },\n *      warn: (...messages) => { ... },\n *      info: (...messages) => { ... },\n *      etc...\n *    }\n *\n * So it can also be used as a mix-in for other objects, e.g.\n *\n *    import {Logger} from 'utilities/wlog.js';\n *    class MyThing {\n *      constructor () {\n *        this.logger = new Logger().getPrefixedFunctions(this.logPrefix);\n *        for (let k in this.logger) {\n *          this[k] = this.logger[k];\n *        }\n *        this.info('my mixed-in logger is setup!');\n *      }\n *\n *      logPrefix = () => {\n *        return [this.id, this.variable];\n *      }\n *    }\n */\nimport Wistia from 'wistia_namespace.js';\nimport { globalTrigger } from 'utilities/globalBindAndTrigger.js';\n\nexport const ERROR = 0;\nexport const WARNING = 1;\nexport const NOTICE = 2;\nexport const INFO = 3;\nexport const DEBUG = 4;\nexport const LOG_LEVELS = {\n  ERROR,\n  WARNING,\n  NOTICE,\n  INFO,\n  DEBUG,\n  error: ERROR,\n  warning: WARNING,\n  notice: NOTICE,\n  info: INFO,\n  debug: DEBUG,\n};\n\nconst NOOP = function () {};\n\nexport const Logger = function (ctx) {\n  const self = this;\n\n  if (ctx == null) {\n    ctx = {};\n  }\n\n  const construct = function () {\n    self.ctx = ctx;\n    if (!self.ctx.initializedAt) {\n      self.reset();\n    }\n  };\n\n  self.error = (...messages) => {\n    return self.log(ERROR, messages);\n  };\n  self.warn = (...messages) => {\n    return self.log(WARNING, messages);\n  };\n  self.notice = (...messages) => {\n    return self.log(WARNING, messages);\n  };\n  self.info = (...messages) => {\n    return self.log(INFO, messages);\n  };\n  self.debug = (...messages) => {\n    return self.log(DEBUG, messages);\n  };\n\n  construct();\n\n  return self;\n};\n\nconst lproto = Logger.prototype;\n\nlproto.reset = function () {\n  this.ctx.level = ERROR;\n  this.ctx.grep = null;\n  this.ctx.grepv = null;\n  this.ctx.first1000LogLines = [];\n  this.ctx.last1000LogLines = [];\n  this.ctx.initializedAt = new Date().getTime();\n};\n\nlproto.setLevel = function (level) {\n  const logFunc = this.logFunc(INFO);\n  if (LOG_LEVELS[level] != null) {\n    this.ctx.level = LOG_LEVELS[level];\n    logFunc(`Log level set to \"${level}\" (${LOG_LEVELS[level]})`);\n  } else {\n    logFunc(`Unknown log level \"${level}\"`);\n  }\n};\n\nlproto.setGrep = function (grep) {\n  this.ctx.grep = grep;\n};\n\nlproto.setGrepv = function (grepv) {\n  this.ctx.grepv = grepv;\n};\n\nlproto.first1000LogLines = function () {\n  return this.ctx.first1000LogLines;\n};\n\nlproto.last1000LogLines = function () {\n  return this.ctx.last1000LogLines;\n};\n\nlproto.matchedGrep = function (messages) {\n  let matched = false;\n  if (this.ctx.grep || this.ctx.grepv) {\n    let messageStrings = [];\n    for (let i = 0; i < messages.length; i++) {\n      try {\n        let message = messages[i];\n        messageStrings.push(message.toString && message.toString());\n      } catch (e) {\n        messageStrings.push('');\n      }\n    }\n    let fullLine = messageStrings.join(' ');\n    let matchesGrep = !this.ctx.grep || fullLine.match(this.ctx.grep);\n    let matchesGrepv = !this.ctx.grepv || !fullLine.match(this.ctx.grepv);\n    matched = matchesGrep && matchesGrepv;\n  } else {\n    matched = true;\n  }\n  return matched;\n};\n\nlproto.now = function () {\n  // IE9 has window.performance, but not performance.now\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    return performance.now().toFixed(3);\n  }\n  if (Date.now) {\n    return Date.now() - this.ctx.initializedAt;\n  }\n  return new Date().getTime() - this.ctx.initializedAt;\n};\n\nlproto.messagesToLogLine = function (level, time, messages) {\n  let logLine = [level, time];\n  logLine = logLine.concat(messages);\n  let cappedLine;\n  try {\n    cappedLine = logLine.join(' ') || '';\n    if (cappedLine.length > 200) {\n      cappedLine = cappedLine.slice(0, 200);\n    }\n  } catch (e1) {\n    cappedLine = 'could not serialize';\n  }\n  return cappedLine;\n};\n\nlproto.persistLine = function (logLine) {\n  if (this.ctx.first1000LogLines.length < 1000) {\n    this.ctx.first1000LogLines.push(logLine);\n  } else {\n    if (this.ctx.last1000LogLines.length >= 1000) {\n      this.ctx.last1000LogLines.shift();\n    }\n    this.ctx.last1000LogLines.push(logLine);\n  }\n};\n\nlproto.log = function (level, messages) {\n  const withinLevel = level <= this.ctx.level;\n  const notDebug = level < DEBUG;\n  const matched = (withinLevel || notDebug) && this.matchedGrep(messages);\n\n  if (level === ERROR) {\n    globalTrigger('problem', {\n      type: 'error-logged',\n      data: { messages },\n    });\n  }\n\n  let now;\n  if (matched && (withinLevel || notDebug)) {\n    // This is initialized conditionally as a micro-optimization. We call\n    // this function _a lot_, and new Date().getTime() (used on older\n    // browsers) is expensive.\n    now = this.now();\n  }\n\n  // Don't store \"debug\" lines, but keep the first and last 1000 lines so we\n  // can send it with problem reports.\n  if (notDebug && matched) {\n    const logLine = this.messagesToLogLine(level, now, messages);\n    this.persistLine(logLine);\n  }\n\n  // Output that log to the console! Minus info that is distracting like the\n  // timestamp and log level.\n  if (withinLevel && matched) {\n    const logFunc = this.logFunc(level);\n    let e;\n    if (messages.length === 1 && (e = messages[0]) instanceof Error) {\n      logFunc(e.message);\n      if (e.stack) {\n        logFunc(e.stack);\n      }\n    } else {\n      logFunc(...messages);\n    }\n  }\n};\n\nconst logError = function (...messages) {\n  console.error.apply(console, messages);\n};\n\nconst logWarn = function (...messages) {\n  console.warn.apply(console, messages);\n};\n\nconst logInfo = function (...messages) {\n  console.info.apply(console, messages);\n};\n\nconst logDebug = function (...messages) {\n  console.debug.apply(console, messages);\n};\n\nconst logLog = function (messages) {\n  console.log.apply(console, messages);\n};\n\nlproto.logFunc = function (level) {\n  if (level == null) {\n    level = this.level;\n  }\n\n  if (!console) {\n    return NOOP;\n  }\n\n  let func;\n  if (level === ERROR) {\n    func = logError;\n  } else if (level === WARNING) {\n    func = logWarn;\n  } else if (level === INFO) {\n    func = logInfo;\n  } else if (level === DEBUG) {\n    func = logDebug;\n  }\n\n  if (!func) {\n    func = logLog;\n  }\n\n  if (typeof func !== 'function') {\n    // This should pretty much never happen, but if it does, we could only\n    // tell by checking the value of logger.noConsoleLog.\n    this.noConsoleLog = true;\n    func = NOOP;\n  }\n\n  return func;\n};\n\nlproto.maybePrefix = function (prefix, messages) {\n  if (prefix) {\n    // prefix can be a fixed value, or a function that returns a value.\n    if (typeof prefix === 'function') {\n      try {\n        prefix = prefix();\n      } catch (e) {\n        prefix = `prefix err \"${e.message}\"`;\n      }\n    }\n\n    if (prefix instanceof Array) {\n      return prefix.concat(messages);\n    }\n    return [prefix].concat(messages);\n  }\n  return messages;\n};\n\n// Return a hash of functions so we can easily setup prefixes and mix in the\n// results.\nlproto.getPrefixedFunctions = function (prefix) {\n  return {\n    log: (...messages) => {\n      return this.log(ERROR, this.maybePrefix(prefix, messages));\n    },\n    error: (...messages) => {\n      return this.log(ERROR, this.maybePrefix(prefix, messages));\n    },\n    warn: (...messages) => {\n      return this.log(WARNING, this.maybePrefix(prefix, messages));\n    },\n    notice: (...messages) => {\n      return this.log(WARNING, this.maybePrefix(prefix, messages));\n    },\n    info: (...messages) => {\n      return this.log(INFO, this.maybePrefix(prefix, messages));\n    },\n    debug: (...messages) => {\n      return this.log(DEBUG, this.maybePrefix(prefix, messages));\n    },\n  };\n};\n\n// This should work in either the browser or node.\nif (Wistia && Wistia.wlogCtx == null) {\n  Wistia.wlogCtx = {};\n}\nexport const wlog = new Logger(Wistia.wlogCtx);\n","import W from 'wistia_namespace.js';\nimport { makeWbindable } from 'utilities/wbindable.js';\n\nmakeWbindable(W);\n\nexport const globalBind = W.bind.bind(W);\nexport const globalOn = W.on.bind(W);\nexport const globalOff = W.off.bind(W);\nexport const globalRebind = W.rebind.bind(W);\nexport const globalTrigger = W.trigger.bind(W);\nexport const globalUnbind = W.unbind.bind(W);\n","import W from 'wistia_namespace.js';\nimport * as bindify from 'utilities/bindify.js';\n\n// This is an adaptation on top of bindify that is intended to provide both\n// legacy functionality (returning `this` instead of an \"unbind\" function) and\n// and \"specialBind\" functionality, which is what we use for special\n// \"composite\" bindings like \"crosstime\" and \"betweentimes\".\n//\n// If you're setting up on/off/trigger for any new things, you should use\n// bindify directly instead.\n\nif (!W.bindable) {\n  W.bindable = {\n    bind(event, callback) {\n      if (this.specialBind && this.specialBind(...arguments) === true) {\n        // Allow the object to define a `specialBind` method which, if it\n        // should perform an operation different from the standard `bind`, it\n        // does that and returns true.\n        return this;\n      }\n\n      if (callback) {\n        bindify.bind.call(this, event, callback);\n        return this;\n      }\n      if (W.warn) {\n        W.warn(this.constructor.name, 'bind', 'falsey value passed in as callback:', callback);\n      }\n    },\n\n    // unbind the matching callback and event for this video\n    unbind(event, callback) {\n      if (this.specialUnbind && this.specialUnbind(...arguments) === true) {\n        // Allow the object to define a `specialUnbind` method which, if it\n        // should perform an operation different from the standard `bind`, it\n        // does that and returns true.\n        return this;\n      }\n\n      if (callback) {\n        bindify.unbind.call(this, event, callback);\n      } else if (this._bindings) {\n        // no callback passed in, so clear all callbacks for this event\n        this._bindings[event] = [];\n      }\n\n      // null/delete the event keys if they have no events\n      if (this._bindings && this._bindings[event] && !this._bindings[event].length) {\n        this._bindings[event] = null;\n        delete this._bindings[event];\n      }\n\n      return this;\n    },\n\n    on(event, fn) {\n      const specialBindResult = this.specialBind && this.specialBind(...arguments);\n      if (typeof specialBindResult === 'function') {\n        // Allow the object to define a `specialBind` method which, if it\n        // should perform an operation different from the standard `bind`, it\n        // does that and returns an unbind function.\n        return specialBindResult;\n      }\n\n      return bindify.bind.call(this, event, fn);\n    },\n\n    off(event, fn) {\n      const specialUnbindResult = this.specialUnbind && this.specialUnbind(...arguments);\n      if (typeof specialUnbindResult === 'function') {\n        // Allow the object to define a `specialUnbind` method which, if it\n        // should perform an operation different from the standard `Unbind`, it\n        // does that and returns an unUnbind function.\n        return specialUnbindResult;\n      }\n\n      return bindify.unbind.call(this, event, fn);\n    },\n\n    rebind(event, callback) {\n      this.unbind(event, callback);\n      this.bind(event, callback);\n      return this;\n    },\n\n    // fire an event trigger on the video. for play/pause/ended callbacks.\n    trigger(event, ...args) {\n      bindify.trigger.call(this, event, ...args);\n      return this;\n    },\n\n    bindNamed() {\n      return bindify.bindNamed.apply(this, arguments);\n    },\n\n    unbindNamed() {\n      return bindify.unbindNamed.apply(this, arguments);\n    },\n\n    unbindAllInNamespace() {\n      return bindify.unbindAllInNamespace.apply(this, arguments);\n    },\n  };\n}\n\nexport const makeWbindable = function (obj) {\n  for (let k in W.bindable) {\n    const v = W.bindable[k];\n    if (!obj[k]) {\n      obj[k] = v;\n    }\n  }\n};\n\nexport default W.bindable;\n","import W from 'wistia_namespace.js';\n\nconst aps = Array.prototype.slice;\n\nexport const bind = function (event, fn) {\n  const self = this;\n  if (!self._bindings) {\n    self._bindings = {};\n  }\n  if (!self._bindings[event]) {\n    self._bindings[event] = [];\n  }\n  self._bindings[event].push(fn);\n  return function () {\n    self.unbind(event, fn);\n  };\n};\n\nexport const unbind = function (event, fn) {\n  if (!this._bindings) {\n    return this;\n  }\n  if (!this._bindings[event]) {\n    return this;\n  }\n  const bindings = [];\n  for (let i = 0; i < this._bindings[event].length; i++) {\n    let boundFn = this._bindings[event][i];\n    if (boundFn !== fn) {\n      bindings.push(boundFn);\n    }\n  }\n  this._bindings[event] = bindings;\n};\n\nexport const rebind = function (event, fn) {\n  this.unbind(event, fn);\n  this.bind(event, fn);\n  return { event, fn };\n};\n\nexport const trigger = function (event, ...args) {\n  if (this._bindings && this._bindings.all != null) {\n    triggerImpl.apply(this, ['all', event].concat(args));\n  }\n  return triggerImpl.apply(this, [event].concat(args));\n};\n\nconst triggerImpl = function (event) {\n  if (!this._bindings) {\n    return this;\n  }\n  if (!this._bindings[event]) {\n    return this;\n  }\n  const args = aps.call(arguments, 1);\n  let unbinds;\n  // memoize necessary to loop over all bindings if one of the bindings\n  // unbinds a following binding\n  const bindings = [...this._bindings[event]];\n  for (let i = 0; i < bindings.length; i++) {\n    let fn = bindings[i];\n    try {\n      let ret = fn.apply(this, args);\n      // special return value will unbind when triggered\n      if (ret === this.unbind) {\n        if (unbinds == null) {\n          unbinds = [];\n        }\n        unbinds.push({ event, fn });\n      }\n    } catch (e) {\n      if (this._throwTriggerErrors) {\n        throw e;\n      } else if (W.error) {\n        W.error(e);\n      }\n    }\n  }\n\n  if (unbinds) {\n    for (let i = 0; i < unbinds.length; i++) {\n      let unbind = unbinds[i];\n      this.unbind(unbind.event, unbind.fn);\n    }\n  }\n\n  return this;\n};\n\nexport const once = function (event, fn) {\n  const wrappedFn = function () {\n    fn.apply(this, aps.call(arguments, 0));\n    return unbind;\n  };\n  return bind(event, wrappedFn);\n};\n\nexport const initNamespace = function (ctx, namespace) {\n  if (ctx._namedBindings == null) {\n    ctx._namedBindings = {};\n  }\n\n  if (ctx._namedBindings[namespace] == null) {\n    ctx._namedBindings[namespace] = {};\n  }\n};\n\nconst getNamedBinding = function (ctx, namespace, fnKey) {\n  initNamespace(ctx, namespace);\n  return ctx._namedBindings[namespace][fnKey];\n};\n\nconst setNamedBinding = function (ctx, namespace, fnKey, event, fn) {\n  initNamespace(ctx, namespace);\n  ctx._namedBindings[namespace][fnKey] = { event, fn };\n};\n\nexport const bindNamed = function (namespace, fnKey, event, fn) {\n  this.unbindNamed(namespace, fnKey);\n  setNamedBinding(this, namespace, fnKey, event, fn);\n  this.bind(event, fn);\n  return function () {\n    this.unbindNamed(namespace, fnKey);\n  };\n};\n\nexport const unbindNamed = function (namespace, fnKey) {\n  initNamespace(this, namespace);\n  const entry = getNamedBinding(this, namespace, fnKey);\n  if (entry) {\n    const { event, fn } = entry;\n    this.unbind(event, fn);\n  }\n  const namedBindings = this._namedBindings;\n  delete namedBindings[namespace][fnKey];\n  if (isEmpty(namedBindings[namespace])) {\n    delete namedBindings[namespace];\n  }\n  return this;\n};\n\nexport const unbindAllInNamespace = function (namespace) {\n  const bindings = this._namedBindings && this._namedBindings[namespace];\n  if (bindings == null) {\n    return this;\n  }\n  for (let fnKey in bindings) {\n    if (Object.hasOwn(bindings, fnKey)) {\n      this.unbindNamed(namespace, fnKey);\n    }\n  }\n};\n\nconst isEmpty = function (obj) {\n  for (let k in obj) {\n    if (Object.hasOwn(obj, k)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const bindify = function (prototype) {\n  prototype.bind = bind;\n  prototype.unbind = unbind;\n  prototype.on = bind;\n  prototype.off = unbind;\n  prototype.rebind = rebind;\n  prototype.trigger = trigger;\n  prototype.bindNamed = bindNamed;\n  prototype.unbindNamed = unbindNamed;\n  prototype.unbindAllInNamespace = unbindAllInNamespace;\n  return prototype;\n};\n\n// If you don't want to mix in state with an existing object, you can use this\n// as a proxy, for example:\n//\n// var bindings = new Bindings();\n// bindings.bind('hello', function(name) {\n//   console.log('hi', name);\n//   return bindings.unbind;\n// });\n// bindings.trigger('hello', 'Max');\nexport const Bindings = function () {};\nbindify(Bindings.prototype);\n","// This is called very very frequently; creating and removing an element to\n// test constantly is not ideal. So this method exists as an abstraction to\n// cache the result.\nlet _isBoxModel;\nexport const isBoxModel = () => {\n  if (_isBoxModel != null) {\n    return _isBoxModel;\n  }\n\n  const box = document.createElement('div');\n  box.style.paddingLeft = box.style.width = '1px';\n  document.body.appendChild(box);\n  _isBoxModel = box.offsetWidth === 2;\n  document.body.removeChild(box);\n  return _isBoxModel;\n};\n\nexport const elemOffset = (elem) => {\n  const body = document.body;\n  const win = document.defaultView;\n  const docElem = document.documentElement;\n\n  const box = elem.getBoundingClientRect();\n  const clientTop = docElem.clientTop || body.clientTop || 0;\n  const clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\n  let scrollTop;\n  if (win && win.pageYOffset != null) {\n    scrollTop = win.pageYOffset;\n  } else if (isBoxModel() && docElem && docElem.scrollTop != null) {\n    scrollTop = docElem.scrollTop;\n  } else {\n    scrollTop = body.scrollTop;\n  }\n\n  let scrollLeft;\n  if (win && win.pageXOffset != null) {\n    scrollLeft = win.pageXOffset;\n  } else if (isBoxModel() && docElem && docElem.scrollLeft != null) {\n    scrollLeft = docElem.scrollLeft;\n  } else {\n    scrollLeft = body.scrollLeft;\n  }\n\n  const zoom = elemZoom(elem);\n\n  return {\n    height: box.height * zoom,\n    top: box.top * zoom + scrollTop - clientTop,\n    left: box.left * zoom + scrollLeft - clientLeft,\n    width: box.width * zoom,\n    zoom,\n  };\n};\n\nexport const elemZoom = (elem) =>\n  elem && elem !== document.documentElement\n    ? elemZoom(elem.parentElement) * (getComputedStyle(elem).zoom || 1)\n    : 1;\n","import { runScripts } from 'utilities/script-utils.js';\n\nexport const getScriptTags = (htmlStr) => {\n  return htmlStr.match(/<script.*?src[^>]*>\\s*<\\/script>|<script.*?>[\\s\\S]+?<\\/script>/gi) || [];\n};\n\nexport const scriptTagsToRunScriptsInput = (scriptTags) => {\n  if (!scriptTags) {\n    return [];\n  }\n  if (!(scriptTags instanceof Array)) {\n    scriptTags = getScriptTags(scriptTags);\n  }\n  const hashes = [];\n  for (let i = 0; i < scriptTags.length; i++) {\n    let scriptTag = scriptTags[i];\n    let hash = {};\n    let matches = scriptTag.match(/<script.*?>/i);\n    if (matches) {\n      matches = matches[0].match(/src=\"([^\"]+)\"/i);\n      if (matches) {\n        hash.src = matches[1];\n        hash.async = /async/i.test(scriptTag.replace(hash.src, ''));\n      }\n    }\n    if (!matches) {\n      matches = scriptTag.match(/<script>([\\s\\S]+?)<\\/script>/i);\n      if (matches) {\n        let src = matches[1];\n        hash.fn = function () {\n          // eslint-disable-next-line no-eval\n          return eval(src);\n        };\n      }\n    }\n    hashes.push(hash);\n  }\n  return hashes;\n};\n\nexport const execScriptTags = (scriptTags, callback) => {\n  if (!scriptTags) {\n    return null;\n  }\n  const hashes = scriptTagsToRunScriptsInput(scriptTags);\n  return runScripts(hashes).then(callback);\n};\n\nexport const removeScriptTags = (htmlStr) => {\n  return htmlStr.replace(/<script.*?src[^>]*>\\s*<\\/script>|<script>[\\s\\S]+?<\\/script>/g, '');\n};\n","import { wlog } from 'utilities/wlog.js';\nimport { isObject } from 'utilities/obj.js';\nimport runScriptWithPromise from 'utilities/runScript.js';\n\nexport const findScriptInDomBySrc = (targetSrc, options = {}) => {\n  const scriptTags = document.getElementsByTagName('script');\n  for (let i = 0; i < scriptTags.length; i++) {\n    const s = scriptTags[i];\n    let src = s.getAttribute('src') || '';\n\n    if (options.ignoreQueryParams) {\n      let matches = src.split('?');\n      let urlWithoutParams = matches[0];\n      src = urlWithoutParams;\n    }\n\n    if (!options.scriptRegex && options.ignoreProtocol) {\n      src = src.replace(/^https?:/, '');\n      targetSrc = targetSrc.replace(/^https?:/, '');\n    }\n\n    if (options.scriptRegex && options.scriptRegex.test(src)) {\n      return s;\n    }\n    if (options.testStartsWith && src.indexOf(targetSrc) === 0) {\n      return s;\n    }\n    if (src === targetSrc) {\n      return s;\n    }\n  }\n  return null;\n};\n\nexport const removeScriptsBySrc = (targetSrc, options = {}) => {\n  let s;\n  while ((s = findScriptInDomBySrc(targetSrc, options))) {\n    if (s) {\n      s.onload = s.onreadystatechange = s.onerror = null;\n      if (s.parentNode && typeof s.parentNode.removeChild) {\n        try {\n          s.parentNode.removeChild(s);\n        } catch (e) {\n          setTimeout(() => {\n            throw e;\n          }, 0);\n        }\n      }\n    }\n  }\n};\n\n// fire and forget.\n// run a script and immediately remove it from the DOM.\nexport const runScript = (src, timeout = 8000, options = {}) => {\n  if (timeout == null) {\n    timeout = 8000;\n  }\n  if (options == null) {\n    options = {};\n  }\n  let s;\n  let alreadyExists;\n\n  return new Promise((resolve) => {\n    if (options.once === true && (s = findScriptInDomBySrc(src))) {\n      alreadyExists = true;\n    }\n\n    if (options.once && alreadyExists) {\n      if (!s.readyState || /loaded|complete/.test(s.readyState)) {\n        setTimeout(() => {\n          resolve();\n        }, 1);\n      }\n    } else {\n      runScriptWithPromise(src, timeout)\n        .then(resolve)\n        .catch((msg) => {\n          resolve(msg);\n          setTimeout(() => {\n            console.error(msg);\n          }, 1);\n        });\n    }\n  });\n};\n\nexport const runScripts = (...args) => {\n  // support either an array of scripts or a single script as a string\n  let scripts;\n  if (args[0] instanceof Array) {\n    scripts = args[0];\n  } else {\n    scripts = args;\n  }\n\n  scripts = scriptInputsToHash(scripts);\n\n  const asyncScripts = [];\n  const syncScripts = [];\n  const scriptPromises = [];\n\n  scripts.forEach((s) => {\n    const script = { ...s };\n    const p = new Promise((resolve) => {\n      script.resolve = resolve;\n    });\n\n    script.promise = p;\n\n    scriptPromises.push(script.promise);\n\n    if (s.async) {\n      asyncScripts.push(script);\n    } else {\n      syncScripts.push(script);\n    }\n  });\n\n  syncScripts.reduce((prev, script) => {\n    if (script.fn) {\n      try {\n        script.fn();\n      } catch (e) {\n        wlog.error(e);\n      } finally {\n        script.resolve();\n      }\n    } else if (script.src) {\n      runScript(script.src, null, script).then(script.resolve);\n    }\n\n    return prev.then(script.promise);\n  }, Promise.resolve());\n\n  setTimeout(() => {\n    asyncScripts.forEach((script) => {\n      if (script.fn) {\n        try {\n          script.fn();\n        } catch (e) {\n          wlog.error(e);\n        } finally {\n          script.resolve();\n        }\n      } else if (script.src) {\n        runScript(script.src, null, script).then(script.resolve);\n      }\n    });\n  }, 1);\n\n  return Promise.all(scriptPromises);\n};\n\nexport const scriptInputsToHash = (scripts) => {\n  const result = [];\n  for (let i = 0; i < scripts.length; i++) {\n    let script = scripts[i];\n    if (typeof script === 'string') {\n      result.push({ src: script, async: false });\n    } else if (isObject(script)) {\n      result.push(script);\n    } else {\n      result.push({ fn: script, async: false });\n    }\n  }\n  return result;\n};\n","// fire and forget.\n// run a script and immediately remove it from the DOM.\nexport const runScript = (src, timeout) => {\n  return new Promise((resolve, reject) => {\n    if (timeout == null) {\n      timeout = 8000;\n    }\n    let s;\n\n    s = document.createElement('script');\n    s.src = src;\n    s.async = true;\n    s.type = 'text/javascript';\n\n    let cleanupTimeoutId = null;\n    let done = false;\n\n    const cleanUp = () => {\n      s.onerror = s.onreadystatechange = s.onload = null;\n      clearTimeout(cleanupTimeoutId);\n      clearTimeout(loadingTimeout);\n      cleanupTimeoutId = setTimeout(() => {\n        if (s && s.parentNode) {\n          s.parentNode.removeChild(s);\n        }\n      }, 500);\n    };\n\n    const onSuccess = () => {\n      const state = s.readyState;\n      if (!done && (!state || /loaded|complete/.test(state))) {\n        done = true;\n        // We call success on next tick to separate script evaluation time from\n        // callback execution time. This helps reduce thread-blocking since\n        // script-eval and initialization tend to be expensive.\n        setTimeout(() => {\n          resolve();\n          cleanUp();\n        }, 1);\n      }\n    };\n\n    const onTimeout = () => {\n      done = true;\n      cleanUp();\n      reject(new Error('timeout'));\n    };\n\n    const onError = (e) => {\n      done = true;\n      cleanUp();\n      reject(e);\n    };\n\n    const loadingTimeout = setTimeout(onTimeout, timeout);\n    s.onerror = onError;\n    s.onreadystatechange = onSuccess;\n    s.onload = onSuccess;\n\n    (document.body || document.head).appendChild(s);\n  });\n};\n\nexport default runScript;\n","import W from 'wistia_namespace.js';\n\nexport const seqId = (prefix = 'wistia_', suffix = '') => {\n  const currentVal = W._sequenceVal || 1;\n  const result = `${prefix}${currentVal}${suffix}`;\n  W._sequenceVal = currentVal + 1;\n  return result;\n};\n","import root from 'utilities/root.js';\nimport Wistia from 'wistia_namespace.js';\nimport { merge } from 'utilities/obj.js';\nimport { wlog } from 'utilities/wlog.js';\nimport { removeScriptsBySrc } from 'utilities/script-utils.js';\nimport { cacheMediaData, uncacheMediaData } from 'utilities/media-data-cache.js';\nimport {\n  eV1Protocol,\n  cdnFastWistiaComHost,\n  cdnFastWistiaNetHost,\n  mediaDataHost,\n} from 'utilities/hosts.js';\nimport { setOrGet as wlocalStorage } from 'utilities/legacyLocalstorage.js';\nimport { send } from 'utilities/metrics.js';\nimport { mediaDataTransforms } from 'utilities/media-data-transforms.js';\nimport { countMetric } from 'utilities/simpleMetrics.js';\n\nif (Wistia._remoteData == null) {\n  Wistia._remoteData = {};\n}\n\nexport const fetchFreshMediaDataJson = (hashedId, options) => {\n  const url = mediaDataUrl(hashedId, options);\n  return fetch(url)\n    .then((response) => response.json())\n    .catch((e) => {\n      wlog.error('error fetching mediaData', e);\n    });\n};\n\n/**\n *\n * @param {string} hashedId hashedId string of the media or ab-test\n * @param {Object} options options object - can be `password`, `idType`, or any\n * embed options that will be merged into the mediaData.embedOptions\n * @returns {Promise} Returns a promise containing the `mediaData` object\n */\nexport const fetchMedia = (hashedId, options = {}) => {\n  return new Promise((resolve, reject) => {\n    const cachedData = dataFromCache(hashedId, options);\n    if (cachedData) {\n      wlog.info('fetchMedia', hashedId, 'from local cache', cachedData);\n      let chosenMedia = cachedData;\n\n      // pick a media if the cachedData is an ab-test\n      if (cachedData.type && cachedData.type === 'ab-test') {\n        wlog.info('fetch', hashedId, 'local cache-ab-test', cachedData);\n        chosenMedia = abTestMediaSelector(cachedData, options);\n      }\n\n      resolve(cachedData);\n    } else {\n      wlog.info('fetchMedia', hashedId, 'fetching');\n      const url = mediaDataUrl(hashedId, options);\n      const newUrl = new window.URL(mediaDataUrl(hashedId, options));\n      if (options.password != null) {\n        newUrl.searchParams.append('password', options.password);\n      }\n\n      if (options.idType) {\n        newUrl.searchParams.append('idType', options.idType);\n      }\n\n      fetch(newUrl)\n        .then((response) => response.json())\n        .then((mediaWithOpts) => {\n          let mediaData = mediaWithOpts;\n          if (mediaWithOpts.error) {\n            wlog.info('fetch', hashedId, 'error', mediaWithOpts);\n            cacheMedia(hashedId, mediaWithOpts);\n          } else if (mediaWithOpts.type && mediaWithOpts.type === 'ab-test') {\n            wlog.info('fetch', hashedId, 'responded-ab-test', mediaWithOpts);\n            mediaData = abTestMediaSelector(mediaWithOpts, options);\n          } else {\n            mediaData = transformResponse(mediaWithOpts, options);\n            cacheMedia(hashedId, mediaWithOpts.media);\n          }\n\n          resolve(mediaData);\n        })\n        .catch((error) => {\n          wlog.error(`error out fetching ${url}`);\n          // This will be an aggregate of any player loading failures\n          countMetric('player/failure/fetch-media-failed');\n\n          reject(error);\n        });\n    }\n  });\n};\n\nexport const transformResponse = (mediaData, options) => {\n  const mediaWithOpts = { ...mediaData };\n  const transformOpts = merge({}, mediaWithOpts.media?.embedOptions, options);\n\n  if (mediaWithOpts.error) {\n    return mediaWithOpts;\n  }\n\n  delete mediaWithOpts.media.unnamed_assets;\n  mediaDataTransforms(mediaWithOpts.media, transformOpts);\n  return mediaWithOpts.media;\n};\n\nexport const mediaDataUrl = (hashedId, options = {}) => {\n  const host = mediaDataHost(options);\n  return `${eV1Protocol()}//${host}/embed/medias/${hashedId}.json`;\n};\n\nexport const mediaDataScriptRegExp = (hashedId) => {\n  const protocolMatch = location.protocol === 'https:' ? 'https' : 'https?';\n  return new RegExp(\n    `^(${protocolMatch}:)?//((${cdnFastWistiaComHost().replace(\n      '.',\n      '\\\\.',\n    )})|(${cdnFastWistiaNetHost().replace('.', '\\\\.')}))/embed/medias/${hashedId}\\\\.jsonp\\\\??`,\n  );\n};\n\nexport const cacheMedia = (hashedId, data) => {\n  return cacheMediaData(hashedId, data);\n};\n\nexport const cacheAbTest = (hashedId, data) => {\n  return (Wistia._remoteData[`ab_test_${hashedId}`] = data);\n};\n\nexport const uncacheMedia = (hashedId) => {\n  uncacheMediaData(hashedId);\n  removeSpeedDemonScriptAndData(hashedId);\n};\n\nconst removeSpeedDemonScriptAndData = (hashedId) => {\n  window[`wistiajsonp-/embed/medias/${hashedId}.json`] = null;\n  removeScriptsBySrc(mediaDataUrl(hashedId), {\n    scriptRegex: mediaDataScriptRegExp(hashedId),\n  });\n};\n\nexport const mediaFromCache = (hashedId) => {\n  return dataFromCache(hashedId, { idType: 'media' });\n};\n\nexport const abTestFromCache = (hashedId) => {\n  return dataFromCache(hashedId, { idType: 'ab-test' });\n};\n\nconst dataFromCache = (hashedId, options = {}) => {\n  // default to getting a media from the cache\n  const type = options.idType || 'media';\n\n  const resultFromFetchCache = Wistia._remoteData[`${type}_${hashedId}`];\n  if (resultFromFetchCache) {\n    return resultFromFetchCache;\n  }\n\n  const speedDemonData = root[`wistiajsonp-/embed/medias/${hashedId}.json`];\n  if (speedDemonData != null && speedDemonData.media) {\n    return speedDemonData.media;\n  }\n\n  return null;\n};\n\n// given an ab_test response data, we choose a media to initialize\n// 1. if there is a winner from the ab_test, we always choose that media\n// 2. if there is a saved hashedId in local storage, we will use that next\n// 3. if neither, we will choose one at random to display, and sve the chosen one\n// in local storage for subsequent views\nexport const abTestMediaSelector = (responseData, options) => {\n  if (responseData.error) {\n    return responseData;\n  }\n\n  // warn if one (or both) of the medias is not present\n  if (responseData.missingVideos) {\n    console.warn(\n      'The following videos were not present in the AbTest: ',\n      responseData.missingVideos,\n    );\n  }\n\n  cacheAbTest(responseData.hashedId, responseData);\n\n  // filter out control or variants that were not included\n  const eligibleMediaDatas = [responseData.control, responseData.variant].filter(Boolean);\n  eligibleMediaDatas.forEach((m) => {\n    const transformOpts = merge({}, m.media?.embedOptions, options);\n    mediaDataTransforms(m.media, transformOpts);\n    cacheMedia(m.media.hashedId, m.media);\n  });\n\n  const localStorageKey = `ab_test.${responseData.hashedId}.selected_media_hashed_id`;\n\n  let savedHashedId;\n  if (responseData.winnerHashedId) {\n    savedHashedId = responseData.winnerHashedId;\n  } else {\n    savedHashedId = wlocalStorage(localStorageKey);\n  }\n\n  let selectedMedia;\n\n  // determine a random number\n  let coinFlipResult;\n  let cryptoRandom;\n  let mathRandom;\n  if (typeof crypto !== 'undefined') {\n    cryptoRandom = crypto.getRandomValues(new Uint8Array(1));\n    coinFlipResult = cryptoRandom[0] & 1;\n  } else {\n    mathRandom = Math.random();\n    coinFlipResult = Number(mathRandom > 0.5);\n  }\n\n  // if we get any amount of media datas back other than 2, just\n  // pick the control\n  const index = eligibleMediaDatas.length === 2 ? coinFlipResult : 0;\n  selectedMedia = eligibleMediaDatas[index].media;\n\n  // override with a saved media if there is one\n  let savedMedia = false;\n  eligibleMediaDatas.some((m) => {\n    if (m.media.hashedId === savedHashedId) {\n      selectedMedia = m.media;\n      savedMedia = true;\n    }\n\n    return m.media.hashedId === savedHashedId;\n  });\n\n  const trackingData = {\n    numberOfMedias: eligibleMediaDatas.length,\n    coinFlip: coinFlipResult,\n    savedMedia,\n    agent: navigator.userAgent || null,\n    selectedHashedId: selectedMedia.hashedId,\n    stringCryptoRandom: String(cryptoRandom),\n  };\n\n  if (cryptoRandom != null) {\n    trackingData.cryptoRandom = cryptoRandom[0];\n  } else {\n    trackingData.mathRandom = mathRandom;\n  }\n\n  send('count', 'player/ab-test-selection', 1, trackingData);\n\n  wlocalStorage(localStorageKey, selectedMedia.hashedId);\n  return selectedMedia;\n};\n","import W from 'wistia_namespace.js';\n\nif (W._remoteData == null) {\n  W._remoteData = {};\n}\n\nexport const cacheMediaData = (hashedId, data) => {\n  return (W._remoteData[`media_${hashedId}`] = data);\n};\n\nexport const uncacheMediaData = (hashedId) => {\n  W._remoteData[`media_${hashedId}`] = null;\n  delete W._remoteData[`media_${hashedId}`];\n};\n","import root from 'utilities/root.js';\nimport { Url, proto as urlProto } from 'utilities/url.js';\nimport { appHostname } from '../appHostname.js';\n\nconst APP_WISTIA_COM = appHostname('app');\nconst CDN_FAST_WISTIA_COM = appHostname('fast');\nconst CDN_FAST_WISTIA_NET = __FAST_HOSTNAME__;\nconst CDN_FAST_WISTIA_CANARY = __FAST_HOSTNAME_CANARY__;\nconst PROD_CDN_FAST_WISTIA_NET = __PROD_FAST_HOSTNAME_NET__;\nconst PROD_CDN_FAST_WISTIA_COM = __PROD_FAST_HOSTNAME_COM__;\n\nconst DELIVERY_HOST = __EMBED_HOST__;\nconst DELIVERY_SSL_HOST = __SSL_EMBED_HOST__;\nconst AKAMAI_HOST = __AKAMAI_HOST__;\nconst PROD_AKAMAI_HOST = __PROD_AKAMAI_HOST__;\nconst AKAMAI_SSL_HOST = __AKAMAI_SSL_HOST__;\nconst PROD_AKAMAI_SSL_HOST = __PROD_AKAMAI_SSL_HOST__;\nconst FASTLY_SSL_HOST = __FASTLY_SSL_HOST__;\nconst PROD_FASTLY_SSL_HOST = __PROD_FASTLY_SSL_HOST__;\nconst METRICS_HOST = __METRICS_HOST__;\n\nconst DEFAULT_PROTOCOL = (() => {\n  if (typeof window !== 'undefined' && root === window && root.location) {\n    return root.location.protocol;\n  }\n  return 'https:';\n})();\n\nconst sslOrNonSsl = (protocol, sslHost, nonSslHost) => {\n  return protocol === 'https:' ? sslHost : nonSslHost;\n};\n\nexport const deliveryHost = (protocol = DEFAULT_PROTOCOL) => {\n  return sslOrNonSsl(protocol, DELIVERY_SSL_HOST, DELIVERY_HOST);\n};\n\nexport const prodAkamaiHost = (protocol = DEFAULT_PROTOCOL) => {\n  return sslOrNonSsl(protocol, PROD_AKAMAI_SSL_HOST, PROD_AKAMAI_HOST);\n};\n\nexport const appHost = () => {\n  return APP_WISTIA_COM;\n};\n\n/**\n * @param {string} embedHost\n * @returns {string}\n */\nexport const cdnFastWistiaComHost = (embedHost) => {\n  if (embedHost) {\n    return embedHost;\n  }\n  return CDN_FAST_WISTIA_COM;\n};\n\nexport const cdnFastWistiaNetHost = () => {\n  return CDN_FAST_WISTIA_NET;\n};\n\nexport const cdnFastWistiaCanaryHost = () => {\n  return CDN_FAST_WISTIA_CANARY;\n};\n// We run this immediately because we'll be guaranteed that E-v1 is in the DOM\n// when this is executing--unless we're loading a legacy thing like\n// playlist-v1.js or embed-shepherd_v1.js. We can use the result to determine\n// what host we should load other dynamic assets on.\nexport const eV1Url = (() => {\n  const scripts = document.getElementsByTagName('script');\n  for (let i = 0; i < scripts.length; i++) {\n    const s = scripts[i];\n    if (s.src) {\n      const url = new Url(s.src);\n\n      // Check that this is definitely our script.\n      const pathIsEv1 = /\\/assets\\/external\\/E-v1?\\.js$/.test(url.rawPath);\n      const hasKnownHost =\n        url.host === cdnFastWistiaComHost() ||\n        url.host === cdnFastWistiaNetHost() ||\n        url.host === cdnFastWistiaCanaryHost();\n\n      // Check that the script's protocol is sensible for the page we're on.\n      const usesHttpsIfRequired = location.protocol === 'https:' && url.protocol === 'https:';\n      const isProtocolRelative = url.protocol === '' || url.protocol == null;\n      const protoIsSane =\n        usesHttpsIfRequired || isProtocolRelative || location.protocol === 'http:';\n\n      // It's possible there are multiple versions of the script and one failed\n      // to load. Let's use the domain that succeeded.\n      const scriptHasLoaded = !s.readyState || /loaded|complete/.test(s.readyState);\n\n      if (pathIsEv1 && hasKnownHost && protoIsSane && scriptHasLoaded) {\n        return url;\n      }\n    }\n  }\n\n  // If we can't find an instance of E-v1 matching\n  return new Url(`${urlProto()}//${cdnFastWistiaNetHost()}/E-v1.js`);\n})();\n\n/**\n * @returns { string } string of the host\n */\nexport const eV1Host = () => {\n  return eV1Url.host;\n};\n\n/**\n * @returns { string } string of the host with port\n */\nexport const eV1HostWithPort = () => {\n  if (eV1Url.port) {\n    return `${eV1Host()}:${eV1Url.port}`;\n  }\n\n  return eV1Host();\n};\n\n/**\n * @returns { string } string of the protocol\n */\nexport const eV1Protocol = () => {\n  return eV1Url.protocol;\n};\n\nexport const mediaDataHost = (options = {}) => {\n  // If embedHost is specified, just use that.\n  if (options.embedHost) {\n    return forceValidFastWistiaHost(options.embedHost);\n  }\n\n  // Try to match whatever host E-v1 is set to by default.\n  return eV1HostWithPort();\n};\n\nexport const metricsHost = () => {\n  return METRICS_HOST;\n};\n\nexport const VALID_PRODUCTION_HOSTS = ['wistia.net', 'wistia.com', 'wistia.st'];\nconst VALID_PRODUCTION_HOSTS_R = new RegExp(\n  `(${VALID_PRODUCTION_HOSTS.map((h) => `\\\\.${h.replace('.', '\\\\.')}`).join('|')})$`,\n);\n\nexport const forceValidFastWistiaHost = (host) => {\n  if (host && VALID_PRODUCTION_HOSTS_R.test(host)) {\n    return host;\n  }\n\n  return eV1HostWithPort();\n};\n","import { cast, clone, getDeep, isArray, setAndPreserveUndefined, eachLeaf } from 'utilities/obj.js';\nimport { wlog } from 'utilities/wlog.js';\n\nexport const proto = (url = location.href) => {\n  if (/^http:\\/\\//.test(url)) {\n    return 'http:';\n  }\n\n  return 'https:';\n};\n\n// decompose the raw query params into a JSON object\n// root[level1][level2][level3] to deep set\n// param[a]=1&param[a]=2 to create an array\nexport const queryParamsToObject = (raw) => {\n  // get each key/val pair separated by &\n  const result = {};\n  if (!raw) {\n    return result;\n  }\n\n  const parts = raw.split('&');\n  for (let i = 0; i < parts.length; i++) {\n    let part = parts[i];\n\n    // break up key/vals\n    let pair = part.split('=');\n    let key = pair[0];\n    let val = pair[1];\n    try {\n      key = debrack(decodeURIComponent(key)) || '';\n    } catch (e) {\n      // log on a timeout so that wlog has a chance to set its level from page\n      // url.\n      setTimeout(() => {\n        wlog.notice(e);\n      }, 50);\n      key = '';\n    }\n\n    // deep cast each piece of the key (e.g. \"foo.1\" yields [\"foo\", 1])\n    cast(key);\n\n    // if the key already exists in params\n    const existing = getDeep(result, key);\n    if (existing != null) {\n      // make this value an array of same-name params\n      if (isArray(existing)) {\n        existing.push(urlComponentToObject(val));\n      } else {\n        const arr = [existing];\n        arr.push(urlComponentToObject(val));\n        setAndPreserveUndefined(result, key, arr);\n      }\n    } else {\n      // otherwise save key/val\n      setAndPreserveUndefined(result, key, urlComponentToObject(val));\n    }\n  }\n\n  // return the json object\n  return result;\n};\n\n// Any val that starts with json:slashslash should have its data\n// parsed as JSON.\nexport const urlComponentToObject = (val) => {\n  if (val == null) {\n    return val;\n  }\n\n  let result;\n  try {\n    result = decodeURIComponent(val);\n  } catch (e) {\n    // log on a timeout so that wlog has a chance to set its level from page\n    // url.\n    setTimeout(() => {\n      wlog.notice(e);\n    }, 50);\n    result = val;\n  }\n  return result;\n};\n\nexport const objectToQueryParams = (obj) => {\n  const result = [];\n  eachLeaf(obj, (leafVal, path) => {\n    if (leafVal != null) {\n      result.push(`${encodeURIComponent(brack(path))}=${encodeURIComponent(leafVal)}`);\n    } else {\n      result.push(encodeURIComponent(brack(path)));\n    }\n  });\n  return result.join('&');\n};\n\nexport const splitPath = (str) => {\n  const result = [];\n  if (str == null) {\n    return result;\n  }\n  const parts = str.split(/\\/+/);\n  for (let i = 0; i < parts.length; i++) {\n    let part = parts[i];\n    if (part != null && part !== '') {\n      result.push(part);\n    }\n  }\n  return result;\n};\n\n// `path` can be a string or an array of strings.\nexport const joinPath = (path) => {\n  if (typeof path === 'string') {\n    path = path.split('/');\n  }\n  if (path == null) {\n    return '';\n  }\n  return `/${path.join('/')}`;\n};\n\n// convert array [abc, def, ghi] to bracketed format \"abc[def][ghi]\"\nexport const brack = (path) => {\n  let result = path[0];\n  for (let i = 1; i < path.length; i++) {\n    result += `[${path[i]}]`;\n  }\n  return result;\n};\n\n// convert \"abc[def][ghi][jkl]\" to array [abc, def, ghi, jkl]\nexport const debrack = (str) => {\n  return str.match(/([\\w\\-_]+)/g);\n};\n\n/// /\n// An object to represent an URL, and to make it easy to\n// get/set various properties and parameters of the URL.\n/// /\nconst URL_CONSTRUCTOR_KEYS = ['protocol', 'host', 'port', 'params', 'path'];\nexport const Url = function (url) {\n  const self = this;\n\n  // if an url is supplied, parse. if it's an object, explicitly\n  // set options. otherwise, just assume we're building an url\n  // from scratch.\n  const construct = function () {\n    self.params = {};\n    self.path = [];\n    self.host = '';\n    if (typeof url === 'object') {\n      self.fromOptions(url);\n    } else if (url) {\n      self.fromRaw(url);\n    }\n  };\n\n  construct();\n\n  return self;\n};\n\nconst uproto = Url.prototype;\n\nuproto.fromOptions = function (options) {\n  for (let i = 0; i < URL_CONSTRUCTOR_KEYS.length; i++) {\n    let opt = URL_CONSTRUCTOR_KEYS[i];\n    if (options[opt] != null) {\n      this[opt] = options[opt];\n    }\n  }\n  return this;\n};\n\n// parse the url and save the info\nuproto.fromRaw = function (raw) {\n  this.rawUrl = raw;\n\n  let match;\n\n  // protocol\n  match = raw.match(/^((?:https?:)|(?:file:)|(?:ftp:))?\\/\\//);\n  if (match) {\n    this.protocol = match[1] || undefined;\n  }\n\n  // host\n  match = raw.match(/\\/\\/([^:?#/]*)/);\n  if (match) {\n    this.host = match[1] || undefined;\n  }\n\n  // path\n  match = raw.match(/\\/\\/.*?(\\/[^?#$]+)/) || raw.match(/(^\\/[^/][^?#$]+)/);\n  if (match) {\n    this.setPath(match[1]);\n  }\n\n  // port\n  match = raw.match(/:(\\d+)/);\n  if (match) {\n    this.port = parseInt(match[1], 10);\n  }\n\n  // url parameters\n  match = raw.match(/\\?([^#]+)/);\n  if (match) {\n    this.rawParams = match[1];\n    this.params = queryParamsToObject(this.rawParams);\n  }\n\n  // anchor\n  match = raw.match(/#(.*)$/);\n  if (match) {\n    this.anchor = match[1];\n  }\n\n  return this;\n};\n\nuproto.clone = function () {\n  return new Url({\n    protocol: this.protocol,\n    host: this.host,\n    port: this.port,\n    path: clone(this.path),\n    params: clone(this.params),\n    anchor: this.anchor,\n  });\n};\n\nuproto.ext = function (ext) {\n  if (ext != null) {\n    const current = this.ext();\n    const i = this.path.length - 1;\n    const regexp = new RegExp(`\\\\.${current}`, 'g');\n    if (current) {\n      this.path[i] = `${this.path[i].replace(regexp, '')}`;\n    }\n    return (this.path[i] = `${this.path[i]}.${ext}`);\n  }\n  const match = this.path[this.path.length - 1].match(/\\.(.*)$/);\n  return (match != null && match[1]) || null;\n};\n\n// accept loc for testing purposes\nuproto.isRelative = function (loc = window.location) {\n  const proto = this.protocol;\n  const host = this.host;\n  return (\n    (proto == null || proto === '' || proto === loc.protocol) && (!host || host === loc.hostname)\n  );\n};\n\nuproto.toString = function () {\n  if (this.isRelative()) {\n    return this.relative();\n  }\n  return this.absolute();\n};\n\n// print this url object as a simple string\n// choose sane defaults if parts aren't specified\nuproto.absolute = function () {\n  let protocolPart = '';\n  if (this.protocol != null) {\n    protocolPart = this.protocol;\n  }\n  let portPart = '';\n  if (this.port != null) {\n    portPart = `:${this.port}`;\n  }\n  return `${protocolPart}//${this.host || location.host}${portPart}${this.relative()}`;\n};\n\nuproto.relative = function () {\n  let pathPart = '';\n  if (this.path.length > 0) {\n    pathPart = joinPath(this.path);\n    if (this._hasTrailingSlash) {\n      pathPart += '/';\n    }\n  }\n  let paramPart = `?${objectToQueryParams(this.params)}`;\n  if (paramPart.length === 1) {\n    paramPart = '';\n  }\n  return `${pathPart}${paramPart}${this.relativeAnchor()}`;\n};\n\nuproto.authority = function () {\n  const portPart = this.port != null ? `:${this.port}` : '';\n  return `${this.host}${portPart}`;\n};\n\nuproto.relativeProtocol = function () {\n  let portPart = '';\n  if (this.port != null) {\n    portPart = `:${this.port}`;\n  }\n  return `//${this.host}${portPart}${this.relative()}`;\n};\n\nuproto.relativeAnchor = function () {\n  let anchorPart = '';\n  if (this.anchor != null) {\n    anchorPart = `#${this.anchor}`;\n  }\n  return `${anchorPart}`;\n};\n\nuproto.setPath = function (rawPath) {\n  this.rawPath = rawPath;\n  this._hasTrailingSlash = /\\/$/.test(this.rawPath);\n  this.path = splitPath(this.rawPath);\n};\n\n// create some aliases in Url to create/parse URLs\nUrl.create = (options) => {\n  return new Url(options);\n};\n\nexport const createUrl = Url.create;\nUrl.parse = (str) => {\n  return new Url(str);\n};\nexport const parseUrl = Url.parse;\n","export const appHostname = (subdomain = 'app') => {\n  return `${subdomain}.${__HOSTNAME__}`;\n};\n","import W from 'wistia_namespace.js';\nimport {\n  getWistiaLocalStorage,\n  removeWistiaLocalStorage,\n  updateWistiaLocalStorage,\n} from 'utilities/wistiaLocalStorage.js';\nimport { getDeep, setDeep, unsetDeep } from 'utilities/obj.js';\n\n/*\n * DEPRECATED: Use utilities/wistiaLocalStorage.js directly instead.\n *\n * This module has two failings.\n *\n * First, it must include utilities/obj for its deep setting and getting\n * functionality, which is a core part of its API. However, this convenience\n * does not merit the size of its inclusion; if we want to do deep setting and\n * getting, we can just compose with Obj.setDeep and Obj.getDeep at the import site.\n *\n * Second, in order to avoid lots of JSON.parse calls, it keeps a cache that\n * should mirror the contents of localStorage. However, because localStorage\n * data is shared across tabs with the same domain--and because we are never\n * syncing the actual localStorage values here--changes in multiple open tabs\n * will overwrite each other, causing general strangeness.\n */\n\nif (!W._localStorage) {\n  W._localStorage = getWistiaLocalStorage();\n}\n\nexport const uncache = () => {\n  W._localStorage = {};\n};\n\nexport const setOrGet = (key, val, unset = false) => {\n  if (val != null) {\n    const fn = unset ? unsetDeep : setDeep;\n    W._localStorage = updateWistiaLocalStorage((ls) => fn(ls, key, val));\n    return val;\n  }\n  if (key != null) {\n    return getDeep(W._localStorage, key);\n  }\n  return W._localStorage;\n};\n\nexport const removeLocalStorage = (key) => {\n  return setOrGet(key, 'nada', true);\n};\n\nexport const dumpLocalStorage = removeWistiaLocalStorage;\n","import W from 'wistia_namespace.js';\nimport {\n  getLocalStorage,\n  removeLocalStorage,\n  setLocalStorage,\n  updateLocalStorage,\n} from 'utilities/namespacedLocalStorage.js';\n\n// This localStorage utility can be used in situations where we don't need to\n// do very frequent updates or reads. If frequent updates or reads are\n// expected, you should use namespacedLocalStorage.js with its own namespace,\n// since the entire namespace is deserialized and serialized on read and write\n// respectively.\n\nconst WISTIA_NAMESPACE = 'wistia';\n\nexport const getWistiaLocalStorage = () => {\n  return getLocalStorage(WISTIA_NAMESPACE);\n};\n\nexport const removeWistiaLocalStorage = () => {\n  W._localStorage = removeLocalStorage(WISTIA_NAMESPACE);\n  return W._localStorage;\n};\n\nexport const setWistiaLocalStorage = (obj) => {\n  W._localStorage = setLocalStorage(WISTIA_NAMESPACE, obj);\n  return W._localStorage;\n};\n\nexport const updateWistiaLocalStorage = (fn) => {\n  W._localStorage = updateLocalStorage(WISTIA_NAMESPACE, fn);\n  return W._localStorage;\n};\n","import W from 'wistia_namespace.js';\n\n/*\n * This module is designed as a simpler version of our old localStorage\n * utility.  To reduce potential bundle size, it doesn't make use of Obj\n * utilities or wlog, and doesn't return early based on browser detection.\n *\n * To avoid multiple tab bugs, it does not try to do any kind of commit\n * debouncing. Every call to `set` involves JSON.serialize() and every call to\n * `get` involves JSON.parse(). Therefore, if you are performing many\n * operations, you should cache an intermediate value. The\n * updateLocalStorage function is also provided for doing many updates\n * with a single parse and serialize call.\n *\n * If you are working with localStorage on something that requires lots of\n * updates, you should use a separate namespace. That way there is less to\n * deserialize and serialize on each read and write.\n */\n\nconst throwAsync = (e) => {\n  setTimeout(() => {\n    throw e;\n  }, 0);\n};\n\nconst OBJ_PROP = '_namespacedLocalStorage';\n\nconst localStorageWorks = (ns = 'wistia-test-localstorage') => {\n  if (W._localStorageWorks != null) {\n    return W._localStorageWorks;\n  }\n  try {\n    // no-ops that test get, set, and remove. These may throw an exception\n    // in Private Browsing mode on iOS and Safari.\n    const currentVal = localStorage.getItem(ns);\n    localStorage.removeItem(ns);\n    localStorage.setItem(ns, currentVal);\n    localStorage.removeItem(ns);\n    W._localStorageWorks = true;\n  } catch (e) {\n    W._localStorageWorks = false;\n  }\n  return W._localStorageWorks;\n};\n\n// Gets our memory store, which we use in parallel with localStorage in case\n// localStorage is disabled. In some browsers and situations, disabled\n// localStorage will throw exceptions.\nconst getMemory = () => {\n  if (W[OBJ_PROP] == null) {\n    W[OBJ_PROP] = {};\n  }\n  return W[OBJ_PROP];\n};\n\nexport const getLocalStorage = (ns) => {\n  if (!localStorageWorks()) {\n    return getMemory()[ns] || {};\n  }\n\n  if (localStorage[ns]) {\n    try {\n      if (localStorage[ns] === 'null') {\n        // \"null\" is valid JSON, and JSON.parse(\"null\") will return null, which\n        // isn't usable for our purposes at all.\n        return {};\n      }\n      return JSON.parse(localStorage[ns]);\n    } catch (e) {\n      throwAsync(e);\n    }\n  }\n  return {};\n};\n\nexport const removeLocalStorage = (ns) => {\n  if (!localStorageWorks()) {\n    getMemory()[ns] = {};\n    return;\n  }\n\n  try {\n    localStorage.removeItem(ns);\n  } catch (e) {\n    throwAsync(e);\n  }\n};\n\nexport const setLocalStorage = (ns, obj) => {\n  if (!localStorageWorks()) {\n    if (obj != null && typeof obj === 'object') {\n      getMemory()[ns] = obj;\n    }\n    return obj;\n  }\n\n  try {\n    // We set W._localStorage for compatibility with the old localStorage util,\n    // which would otherwise overwrite any changes we make. :0\n    getMemory()[ns] = obj;\n\n    localStorage[ns] = JSON.stringify(obj);\n  } catch (e) {\n    throwAsync(e);\n\n    // TODO: We might want some strategy of dealing with QuotaExceededError\n    // exceptions. Ideally we'd be really smart about pruning, but our other\n    // options are (a) just don't update localStorage (that's what we're\n    // doing now), or (b) clobber our localStorage to see if that helps.\n  }\n  return obj;\n};\n\nexport const updateLocalStorage = (ns, fn) => {\n  const obj = getLocalStorage(ns);\n\n  // fn() may throw an exception. we catch and report because we don't want\n  // an exception after modifying in-place localStorage to get our local store\n  // out of sync.\n  try {\n    fn(obj);\n  } catch (e) {\n    throwAsync(e);\n  }\n  return setLocalStorage(ns, obj);\n};\n","import Wistia from 'wistia_namespace.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\nimport { wlog } from 'utilities/wlog.js';\nimport { merge } from 'utilities/obj.js';\nimport { pageLoaded } from 'utilities/elem.js';\nimport { proto as urlProto } from 'utilities/url.js';\nimport { metricsHost } from 'utilities/hosts.js';\nimport { isVisitorTrackingEnabled } from 'utilities/trackingConsentApi.js';\n\nconst W = Wistia;\n\nif (W._metricsCache == null) {\n  W._metricsCache = {};\n}\n\nconst METRICS_CACHE = W._metricsCache;\n\nexport const send = (type, key, val, extraData = {}) => {\n  try {\n    if (METRICS_CACHE.toMput == null) {\n      METRICS_CACHE.toMput = [];\n    }\n    if (METRICS_CACHE.requestId == null) {\n      METRICS_CACHE.requestId = 0;\n    }\n\n    const messageObj = merge(\n      {\n        type,\n        key,\n        value: val != null ? val : null,\n        request_id: METRICS_CACHE.requestId,\n      },\n      extraData,\n    );\n\n    const serialized = JSON.stringify(messageObj);\n    wlog.debug('send metrics', serialized);\n    METRICS_CACHE.toMput.push(serialized);\n\n    doTimeout(\n      'metrics.debounce',\n      () => {\n        pageLoaded(() => {\n          msend.apply(this, METRICS_CACHE.toMput);\n          METRICS_CACHE.toMput = [];\n          METRICS_CACHE.requestId += 1;\n        });\n      },\n      500,\n    );\n  } catch (e) {\n    wlog.error(e);\n  }\n};\n\nexport const msend = (...messages) => {\n  if (!isVisitorTrackingEnabled()) {\n    return;\n  }\n  const url = `${urlProto()}//${metricsHost()}/mput?topic=metrics`;\n  return fetch(url, {\n    method: 'POST',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    body: messages.join('\\n'),\n  });\n};\n\nexport const count = (key, val = 1, extraData = {}) => {\n  return send('count', key, val, extraData);\n};\n\nexport const sample = (key, val, extraData) => {\n  return send('sample', key, val, extraData);\n};\n","import Wistia from 'wistia_namespace.js';\nimport { isArray, isEmpty } from 'utilities/obj.js';\n\nconst W = Wistia;\n\nif (W._timeouts == null) {\n  W._timeouts = {};\n}\n\n// Improved timeouts!\n// allows us to\n//   1. auto-debounce if an identical key is replaced\n//   2. associate timeouts with a specific context, but access them globally\n//   3. Clear all timeouts in a specific context\n//   4. Do nextTick by not specifying the time argument\n// e.g. Wistia.timeout(\"video1234\", function() { ... });\n//\n// In our implementation, we treat the first dot-delimited value in the key\n// as a namespace. This is an optimization since most of our videos prefix\n// their timeouts with a uuid. By keeping them in a namespace, it means\n// clearTimeouts doesn't need to iterate through _all_ timeouts globally,\n// which makes doTimeout itself faster (since it calls clearTimeouts internally).\n//\n// Returns the timeoutId.\nexport const doTimeout = (key, fn, time = 1) => {\n  if (isArray(key)) {\n    key = key.join('.');\n  }\n  const namespace = timeoutNamespace(key);\n  clearTimeouts(key, namespace);\n  if (fn) {\n    let timeouts = W._timeouts[namespace];\n    if (timeouts == null) {\n      timeouts = W._timeouts[namespace] = {};\n    }\n    let timeoutId = setTimeout(() => {\n      delete timeouts[key];\n      fn();\n    }, time);\n    timeouts[key] = timeoutId;\n    return timeoutId;\n  }\n  return W._timeouts[namespace][key];\n};\n\n// This will clear timeouts matching the key. Key is dot-delimited list\n// like:\n//\n// mynamespace.more_specific.\n// mynamespace.anothernamespace.more_specific\n//\n// We allow passing in namespace as an optimization for doTimeout.\nexport const clearTimeouts = (key, namespace = null) => {\n  if (isArray(key)) {\n    key = key.join('.');\n  }\n  namespace = namespace || timeoutNamespace(key);\n\n  // If there's no namespacing on the input key, then we should treat the\n  // input as both a namespace _and_ a key. This handles the namespace case.\n  // We handle the key case with our normal logic.\n  let timeouts;\n  if (namespace === '__global__') {\n    timeouts = W._timeouts[key];\n    if (timeouts) {\n      for (let k in timeouts) {\n        let v = timeouts[k];\n        clearTimeout(v);\n        delete timeouts[k];\n      }\n    }\n  }\n\n  timeouts = W._timeouts[namespace];\n  if (timeouts) {\n    for (let k in timeouts) {\n      let v = timeouts[k];\n      if (\n        k.indexOf &&\n        k.indexOf(key) === 0 &&\n        (k.length === key.length || k.charAt(key.length) === '.')\n      ) {\n        clearTimeout(v);\n        delete timeouts[k];\n      }\n    }\n  }\n\n  // Cleaning out namespaces is not particularly efficient, and isn't\n  // particularly helpful, so let's only do it once every 5 seconds.\n  if (!W.blockSweepTimeouts) {\n    W.blockSweepTimeouts = true;\n    setTimeout(sweepTimeouts, 0);\n    setTimeout(() => {\n      W.blockSweepTimeouts = false;\n    }, 5000);\n  }\n};\n\n// Clear out any namespaces that are no longer active\nconst sweepTimeouts = () => {\n  for (let namespace in W._timeouts) {\n    let timeouts = W._timeouts[namespace];\n    if (isEmpty(timeouts)) {\n      delete W._timeouts[namespace];\n    }\n  }\n};\n\nconst timeoutNamespace = (key) => {\n  const dotIndex = key.indexOf('.');\n  if (dotIndex > 0) {\n    return key.substring(0, dotIndex);\n  }\n  return '__global__';\n};\n","import W from 'wistia_namespace.js';\nimport { globalTrigger } from 'utilities/globalBindAndTrigger.js';\nimport { getWistiaLocalStorage, updateWistiaLocalStorage } from 'utilities/wistiaLocalStorage.js';\n\nexport const migrateLegacyVisitorTracking = () => {\n  const legacyIsEnabled = getWistiaLocalStorage().visitorTrackingEnabled;\n  if (legacyIsEnabled != null) {\n    // Migrate old structure to new structure\n    //\n    // old:\n    // localStorage\n    //   visitorTrackingEnabled: boolean\n    //\n    // new:\n    // localStorage\n    //   visitorTracking: {\n    //     isEnabled: boolean,\n    //     updatedAt: timestamp,\n    //   }\n    //\n    updateWistiaLocalStorage((ls) => delete ls.visitorTrackingEnabled);\n    W._visitorTracking = {};\n    W._visitorTracking[W._visitorTrackingDomain] = {\n      isEnabled: legacyIsEnabled,\n      updatedAt: Date.now(),\n    };\n    updateWistiaLocalStorage((ls) => (ls.visitorTracking = W._visitorTracking));\n  }\n};\n\nif (!W._visitorTrackingDomain) {\n  W._visitorTrackingDomain = location.hostname || '';\n}\n\n// Initialize from localStorage, or with an empty hash if not set.\nif (!W._visitorTracking) {\n  migrateLegacyVisitorTracking();\n  W._visitorTracking = getWistiaLocalStorage().visitorTracking || {};\n}\n\nexport const consent = (val) => {\n  if (val == null) {\n    return isVisitorTrackingEnabled();\n  }\n  return setVisitorTrackingEnabled(val);\n};\nW.consent = consent;\n\nexport const setVisitorTrackingEnabled = (val, domain = W._visitorTrackingDomain) => {\n  if (val === 'default') {\n    delete W._visitorTracking[domain];\n  } else {\n    W._visitorTracking[domain] = {\n      isEnabled: `${val}` === 'true',\n      updatedAt: Date.now(),\n    };\n  }\n  updateWistiaLocalStorage((obj) => (obj.visitorTracking = W._visitorTracking));\n  globalTrigger('visitortrackingchange', val);\n};\n\nconst isCurrentDomainOrAnyParentDomainsEnabled = () => {\n  if (W._visitorTrackingDomain) {\n    const domainParts = W._visitorTrackingDomain.split('.');\n    while (domainParts.length > 0) {\n      const entry = W._visitorTracking[domainParts.join('.')];\n      const enabledVal = entry && entry.isEnabled;\n      if (enabledVal != null) {\n        return enabledVal;\n      }\n      domainParts.shift();\n    }\n  }\n\n  // returns undefined instead of false as a result so that we can have\n  // different behavior if it has not been set.\n};\n\nexport const isVisitorTrackingEnabled = () => {\n  if (typeof W._visitorTracking === 'boolean') {\n    // Legacy. We previously persisted this data as a boolean\n    return W._visitorTracking;\n  }\n\n  if (W._visitorTracking) {\n    // _visitorTracking has been set. Let's check the value for the current\n    // domain. And if that's set, we return.\n    const isEnabledVal = isCurrentDomainOrAnyParentDomainsEnabled();\n    if (isEnabledVal != null) {\n      return Boolean(isEnabledVal);\n    }\n  }\n\n  const apis = [];\n  if (W.api && W.api.all) {\n    try {\n      apis.push(...W.api.all());\n    } catch (e) {\n      // If W.api.all() is called before W._data is setup, this will throw\n      // an exception. That's okay--it just means there are effectively no\n      // video embeds yet.\n    }\n  }\n\n  if (W.channel && W.channel.all) {\n    try {\n      apis.push(...W.channel.all());\n    } catch (e) {\n      // If W.api.all() is called before W._data is setup, this will throw\n      // an exception. That's okay--it just means there are effectively no\n      // channel embeds yet.\n    }\n  }\n\n  // By default, if any videos have privacy mode enabled, then we disable\n  // visitor tracking for all videos on the page. In practice, we would only\n  // see this occur if videos from multiple accounts--with different privacy\n  // mode settings--appear on the same page.\n  const isPrivacyModeEnabled = apis.some((api) => {\n    const data = api._mediaData || api._galleryData || {};\n    return data.privacyMode === true;\n  });\n\n  return !isPrivacyModeEnabled;\n};\n","import { assign } from 'utilities/obj.js';\nimport { Url } from 'utilities/url.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { readyPublicOver400 } from './assets.js';\n\nconst detect = cachedDetect();\n\nconst convertStillImageToWebp = (media) => {\n  if (media.assets && detect.webp) {\n    media.assets = media.assets.map((asset) => {\n      // there was a flow with the uploader + notPlayablePlayer where we have assets\n      // but they're not ready and don't have urls, so just double check for that here\n      if (asset.type === 'still_image' && Object(asset).url) {\n        const url = new Url(asset.url);\n        url.ext('webp');\n        asset.url = url.absolute();\n      }\n\n      return asset;\n    });\n  }\n\n  return media;\n};\n\nconst maybeCloneOriginalAsMp4 = (media, options = {}) => {\n  if (options.allowOriginalAsMp4 !== true) {\n    // only transform if the embed options ask for it\n    return media;\n  }\n\n  const original = media.assets.filter((a) => a.type === 'original')[0];\n\n  if (readyPublicOver400(media.assets).length > 0) {\n    // we have a derivative we can show instead\n    return media;\n  }\n\n  media.assets = [\n    ...media.assets,\n    assign({}, original, {\n      display_name: `${original.display_name} copy`,\n      container: 'mp4',\n      codec: 'h264',\n      type: 'mp4_video',\n    }),\n  ];\n\n  return media;\n};\n\nexport const mediaDataTransforms = (media, options = {}) => {\n  let transformedMedia = assign({}, media);\n\n  transformedMedia = maybeCloneOriginalAsMp4(transformedMedia, options);\n  transformedMedia = convertStillImageToWebp(transformedMedia);\n\n  return transformedMedia;\n};\n","import { clone, merge, select, except, only, sort } from 'utilities/obj.js';\nimport { Url } from 'utilities/url.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport * as Hosts from 'utilities/hosts.js';\nimport { wlog } from 'utilities/wlog.js';\nimport { appHostname } from '../appHostname.js';\n\nconst aps = Array.prototype.slice;\n\nexport const FAILED = -1;\nexport const QUEUED = 0;\nexport const PROCESSING = 1;\nexport const READY = 2;\n\n// Advanced sorting and filtering so we can be expressive and concise when\n// choosing assets.\nconst FILTER_KEYS = ['select', 'sortFn', 'sortBy', 'unique'];\nexport const filter = (assets, options = {}) => {\n  // there was an issues in the uploader + notPlayablePlayer flow where we\n  // occasionally asked to filter assets when we didn't have any. If we\n  // don't have assets just gtfo\n  if (!assets) {\n    return [];\n  }\n  // We started out passing the whole mediaData object here, but we only\n  // operate on assets, and that's more convenient for filtering result sets\n  // multiple times. This if continues to allow mediaData to be passed in.\n  if (assets.assets) {\n    assets = assets.assets;\n  }\n\n  // If qualityMin/qualityMax are specified, filtered the assets with those\n  // before doing anything else. That's because those aren't set directly on\n  // the assets; rather, it is a computed value for each asset.\n  if (options.qualityMin != null || options.qualityMax != null) {\n    assets = withinQualityRange(assets, options.qualityMin, options.qualityMax);\n    options = except(options, ['qualityMin', 'qualityMax']);\n  }\n\n  const filterOptions = only(options, FILTER_KEYS);\n  const selectFn = filterOptions.select || except(options, FILTER_KEYS);\n\n  if (selectFn) {\n    filterOptions.select = selectFn;\n  }\n\n  let result = filterOptions.select ? select(assets, filterOptions.select) : clone(assets);\n\n  if (filterOptions.sortFn || filterOptions.sortBy) {\n    result = sort(result, filterOptions.sortFn || filterOptions.sortBy);\n  }\n\n  // If \"unique\" is given, it means we only want the first asset with that\n  // property. We can leverage sortBy and select to meaningfully order the\n  // assets, essentially letting us choose which one is unique.\n  if (filterOptions.unique) {\n    const uniqHash = {};\n    for (let i = 0; i < result.length; i++) {\n      let asset = result[i];\n      let bucket = asset[`${filterOptions.unique}`] || '__undefined__';\n      if (!uniqHash[bucket]) {\n        uniqHash[bucket] = asset;\n      }\n    }\n    result = [];\n    for (let k in uniqHash) {\n      result.push(uniqHash[k]);\n    }\n  }\n\n  return result;\n};\n\nexport const one = (assets, options) => {\n  return filter(assets, options)[0] || null;\n};\n\nexport const readyPublicMp3s = (assets) => {\n  return filter(assets, {\n    ext: 'mp3',\n    status: READY,\n    public: true,\n  });\n};\n\nexport const readyPublicMp4s = (assets) => {\n  return filter(assets, {\n    container: 'mp4',\n    status: READY,\n    public: true,\n  });\n};\n\nexport const readyPublicM3u8s = (assets) => {\n  return filter(assets, {\n    container: 'm3u8',\n    status: READY,\n    public: true,\n  });\n};\n\nexport const filterOver400 = (assets) => {\n  const result = [];\n  for (let i = 0; i < assets.length; i++) {\n    let a = assets[i];\n    let vbitrateInRange =\n      a.opt_vbitrate != null && a.opt_vbitrate >= 500 && a.opt_vbitrate <= 100000;\n    let widthInRange = a.width != null && a.width > 400;\n    if (vbitrateInRange || widthInRange) {\n      result.push(a);\n    }\n  }\n  return result;\n};\n\nexport const readyPublicOver400 = (assets) => {\n  return filterOver400(\n    filter(assets, {\n      container: /mp4/,\n      public: true,\n      status: READY,\n    }),\n  );\n};\n\nexport const nonfailedPublicOver400 = (assets) => {\n  return filterOver400(\n    filter(assets, {\n      container: /mp4/,\n      public: true,\n      status: (s) => {\n        return s !== FAILED;\n      },\n    }),\n  );\n};\n\nexport const withinQualityRange = (assets, qualityMin = 100, qualityMax = 10000) => {\n  return filter(assets, {\n    select: (asset) => {\n      // quality is based on width * height, and given back in a format like\n      // 720, 1080, 3840, etc.\n      const quality = numericSizeSnapped(asset.width, asset.height);\n      return qualityMin <= quality && quality <= qualityMax;\n    },\n  });\n};\n\nexport const numericSizeSnapped = (width, height) => {\n  if (height > width) {\n    // let's mathematically rotate vertical videos when determining their\n    // snapped size.\n    const tmpWidth = width;\n    width = height;\n    height = tmpWidth;\n  }\n\n  const aspect = width / height;\n  const pixels = width * height + 1; // add 1 to avoid aspect rounding issues\n  if (pixels >= 3840 * (3840 / aspect)) {\n    return 2160;\n  }\n  if (pixels >= 2560 * (2560 / aspect)) {\n    return 1440;\n  }\n  if (pixels >= 1920 * (1920 / aspect)) {\n    return 1080;\n  }\n  if (pixels >= 1280 * (1280 / aspect)) {\n    return 720;\n  }\n  if (pixels >= 960 * (960 / aspect)) {\n    return 540;\n  }\n  if (pixels >= 640 * (640 / aspect)) {\n    return 360;\n  }\n  return height;\n};\n\n// Expect that assets are a subset of assets that we are allowed to select.\n// This function does not have any special logic to filter only selectable\n// assets.\nexport const findClosestAssetByQuality = (assets, quality) => {\n  let height;\n  if (quality === '4k') {\n    height = 2160;\n  } else {\n    // '360p' yields 360, '1080i' yields 1080, etc.\n    height = parseInt(quality, 10);\n  }\n\n  const exactMatch = withinQualityRange(assets, height, height)[0];\n  if (exactMatch) {\n    return exactMatch;\n  }\n\n  const surroundingAssets = nearestOutsideRange(assets, height, height);\n  if (surroundingAssets.length === 1) {\n    return surroundingAssets[0];\n  }\n  const aspect = videoAspect(assets);\n  const width = Math.round(aspect * height);\n  const [lowerAsset, upperAsset] = surroundingAssets;\n  const lowerDiff = Math.abs(lowerAsset.width - width);\n  const upperDiff = Math.abs(upperAsset.width - width);\n  if (lowerDiff < upperDiff) {\n    return lowerAsset;\n  }\n  return upperAsset;\n};\n\nexport const still = (assets) => {\n  let stillAsset = one(assets, {\n    type: /^still_image$/,\n    sortBy: 'created_at desc',\n  });\n\n  // If no still is associated, check for channel artwork\n  if (!stillAsset) {\n    stillAsset = channelArtworkStill(assets);\n  }\n\n  // If no still or channel art is associated, generate from the first video asset\n  // we can find.\n  if (!stillAsset) {\n    stillAsset = one(assets, { container: /mp4/, sortBy: 'width desc' });\n  }\n\n  return stillAsset;\n};\n\nexport const channelArtworkStill = (assets) => {\n  return one(assets, {\n    type: /^channel_still_image$/,\n    sortBy: 'created_at desc',\n  });\n};\n\nexport const thumbnailAssets = (assets, options) => {\n  if (options.stillUrl) {\n    return [{ height: null, url: options.stillUrl, width: null }];\n  }\n\n  const stillAsset = still(assets);\n  if (!stillAsset) {\n    return [];\n  }\n  const stillAspect = stillAsset.width / stillAsset.height;\n  return [320, 640, 960, 1280, 1920, 3840].map((width) => {\n    const height = Math.round(width / stillAspect);\n    const url = stillUrl(assets, { videoWidth: width, videoHeight: height, playButton: false });\n    return { height, url, width };\n  });\n};\n\nconst FAST_HOSTNAME = appHostname('fast');\nexport const stillUrl = (assets, options = {}) => {\n  const stillAsset = still(assets);\n\n  // @TODO should this throw an error instead?\n  if (!stillAsset) return;\n\n  if (stillAsset.status !== READY) {\n    // occasionally we might get a stillAsset that isn't ready, but its\n    // channel art is for an audio! fallback to that first!\n    const channelArtwork = channelArtworkStill();\n    if (channelArtwork && channelArtwork.status === READY) {\n      return channelArtwork.url;\n    }\n\n    return `//${FAST_HOSTNAME}/assets/images/blank.gif`;\n  }\n\n  options = merge(\n    {\n      aspect: stillAsset.width / stillAsset.height || 1, // default to square if we can't determine the aspect\n      stillUrl: stillAsset.url,\n      playButton: false,\n      playerColor: options.playerColor || '636155',\n      videoWidth: stillAsset.width || 640,\n      videoHeight: stillAsset.height || 360,\n      stillSnap: true,\n    },\n    options,\n  );\n\n  let stillWidth = options.videoWidth;\n  let stillHeight = options.videoHeight;\n  const result = new Url(options.stillUrl);\n\n  if (options.retina) {\n    result.params.image_play_button_size = '2x';\n    stillWidth *= 2;\n    stillHeight *= 2;\n  }\n\n  // By default, we snap to a pre-generated still size\n  if (options.stillSnap) {\n    stillWidth = getStillWidth({\n      videoWidth: stillWidth,\n      stillAssetWidth: stillAsset.width || 640, // there have been times where we fail to have proper width returned\n    });\n\n    stillHeight = Math.round(stillWidth / options.aspect);\n  }\n\n  // Don't do anything special if this is not a Wistia hosted image.\n  if (!isBakeryUrl(options.stillUrl)) {\n    return options.stillUrl;\n  }\n\n  if (options.protocol === 'https:') {\n    result.protocol = 'https:';\n    // Under normal circumstances, the host for assets should depend on the\n    // environment  but if you're using the embedHost option to use non-prod\n    // code with prod embeds, we force using a prod host.\n    result.host =\n      options.embedHost === __PROD_FAST_HOSTNAME_COM__ ||\n      options.embedHost === __PROD_FAST_HOSTNAME_NET__\n        ? __PROD_SSL_EMBED_HOST__\n        : __SSL_EMBED_HOST__;\n  }\n\n  result.params.image_crop_resized = `${stillWidth}x${stillHeight}`;\n\n  if (options.playButton == null || options.playButton) {\n    result.params.image_play_button = 1;\n    result.params.image_play_button_color = `${`${options.playerColor}`.replace(/^#+/, '')}e0`;\n  }\n\n  if (options.ext) {\n    result.ext(options.ext);\n  }\n\n  // if the extension has not been transformed, default to a jpg\n  if (result.ext() === 'bin') {\n    result.ext('jpg');\n  }\n\n  return result.absolute();\n};\n\n// We only make three sizes of a thumbnail for a given video: 1280, 960, and\n// 640 wide. We have logic on the server that matches this as well. The idea\n// is that since we only use these three, we can generate them beforehand so\n// they're always ready and automatic for the people.\nexport const getStillWidth = (options) => {\n  const potentialStillWidths = [640, 960, 1280, 1920, 3840];\n\n  // We also have a still that's the exact width of the one they uploaded\n  // or generated (so long as it is less than 3840px across)\n  if (options.stillAssetWidth < 3840) {\n    potentialStillWidths.push(options.stillAssetWidth);\n  }\n\n  // We don't create thumbnails that are larger than the stillAssetWidth,\n  // so eliminate anything that's larger than that, because it's wasteful to\n  // scale up an image past it's original size!\n  const availableStillWidths = [];\n  for (let i = 0; i < potentialStillWidths.length; i++) {\n    let width = potentialStillWidths[i];\n    if (width <= options.stillAssetWidth) {\n      availableStillWidths.push(width);\n    }\n  }\n\n  // sort the widths in place.\n  availableStillWidths.sort((a, b) => {\n    return a - b;\n  });\n\n  // Use the still that's equal to or slightly larger than the size of the\n  // video embed.\n  for (let i = 0; i < availableStillWidths.length; i++) {\n    let width = availableStillWidths[i];\n    if (options.videoWidth <= width) {\n      return width;\n    }\n  }\n\n  // Can't find one that fits? Let's use the biggest available width.\n  return Math.max(...availableStillWidths);\n};\n\nexport const BAKERY_HOSTS = [\n  __EMBED_HOST__,\n  __SSL_EMBED_HOST__,\n  appHostname('embed'),\n  appHostname('prime'),\n  appHostname('mixergy-cdn'),\n  __AKAMAI_HOST__, // XXX: akamai test\n  appHostname('embed-fastly'), // XXX: akamai test\n  __AKAMAI_SSL_HOST__,\n  __PROD_EMBED_HOST__,\n  __PROD_SSL_EMBED_HOST__,\n  __PROD_AKAMAI_HOST__,\n  __PROD_AKAMAI_SSL_HOST__,\n  __PROD_FASTLY_SSL_HOST__,\n];\n\n// Check if a given url is like embed.wistia.com, embed-ssl.wistia.com,\n// prime.wistia.com, etc.\nexport const isBakeryUrl = (rawUrl) => {\n  if (rawUrl == null) {\n    return false;\n  }\n  const url = new Url(rawUrl);\n  if (!url.host) {\n    return false;\n  }\n  return BAKERY_HOSTS.join(',').indexOf(url.host) >= 0;\n};\n\nexport const onePublicReadyWithContainer = (assets, type, options) => {\n  options = merge(\n    {\n      container: type,\n      public: true,\n      status: READY,\n    },\n    options,\n  );\n\n  return one(assets, options);\n};\n\nexport const mp4 = (assets, options) => {\n  return onePublicReadyWithContainer(assets, 'mp4', options);\n};\n\nexport const webm = (assets, options) => {\n  return onePublicReadyWithContainer(assets, 'webm', options);\n};\n\nexport const m3u8 = (assets, options) => {\n  return onePublicReadyWithContainer(assets, 'm3u8', options);\n};\n\nexport const original = (assets) => {\n  return one(assets, { type: 'original' });\n};\n\n// If we support webm, prefer webm (since VP9 codec is better), otherwise\n// use mp4 (h264)\nexport const playable = (assets, options, detect = cachedDetect()) => {\n  if (detect.video.webm) {\n    return webm(assets, options) || mp4(assets, options);\n  }\n  return mp4(assets, options);\n};\n\nexport const videoAspect = (assets) => {\n  const asset = mp4(assets) || m3u8(assets) || webm(assets) || original(assets);\n  if (asset && asset.height) {\n    return asset.width / asset.height;\n  }\n  // no assets available; use default aspect 1.6667\n  return 640 / 360;\n};\n\nexport const originalAspect = (assets) => {\n  const derivativeAspect = videoAspect(assets);\n  const asset = original(assets);\n  if (asset && asset.width && asset.height) {\n    const candidateAspect = asset.width / asset.height;\n    if (\n      (candidateAspect > 1 && derivativeAspect < 1) ||\n      (candidateAspect < 1 && derivativeAspect > 1)\n    ) {\n      // the original is rotated relative to its derivatives\n      return 1 / candidateAspect;\n    }\n    return candidateAspect;\n  }\n  return derivativeAspect;\n};\n\nexport const iphone = (assets, options) => {\n  const aspect = videoAspect(assets);\n  if (aspect > 1) {\n    options = merge({ width: 640 }, options);\n    return mp4(assets, options) || smallestNormalMp4(assets, options);\n  }\n  const opt1 = merge({ width: 320 }, options);\n  const opt2 = merge({ width: 640 }, options);\n  return mp4(assets, opt1) || mp4(assets, opt2) || smallestNormalMp4(assets, options);\n};\n\nexport const smallestNormalMp4 = (assets, options) => {\n  options = merge({ sortBy: 'width asc', width: [640, 1920] }, options);\n  return mp4(assets, options);\n};\n\nexport const urlWithCorrectHost = (assetUrl, proto = Hosts.eV1Protocol()) => {\n  const parsedUrl = new Url(assetUrl);\n  if (isBakeryUrl(assetUrl)) {\n    if (proto === 'https:') {\n      parsedUrl.host = Hosts.deliveryHost(location.protocol);\n      parsedUrl.protocol = 'https:';\n    } else {\n      parsedUrl.host = Hosts.deliveryHost(location.protocol);\n      parsedUrl.protocol = 'http:';\n    }\n  }\n  return parsedUrl.absolute();\n};\n\n// It is possible for our customers to give us quality ranges that are\n// impossible to solve for a given video. In these cases, we want to instead\n// use the assets that are closest to satisfying their constraints. For\n// example, if they specify 4k and we only go up to 1080p, it'll use 1080p.\n// Or if they specify a range _between_ two, say 800p to 900p, it'll use the\n// two surrounding values: 720p and 1080p.\nexport const nearestOutsideRange = (assets, lower, upper) => {\n  if (assets.length === 0) {\n    return [];\n  }\n\n  const sortedAssets = aps.call(assets).sort((a, b) => {\n    return numericSizeSnapped(a.width, a.height) - numericSizeSnapped(b.width, b.height);\n  });\n\n  let lowerAsset;\n  let upperAsset;\n  for (let i = 0; i < sortedAssets.length; i++) {\n    let asset = sortedAssets[i];\n    let assetSize = numericSizeSnapped(asset.width, asset.height);\n    if (assetSize < lower) {\n      lowerAsset = asset;\n    }\n    if (assetSize >= upper) {\n      upperAsset = asset;\n      break;\n    }\n  }\n\n  // get rid of nulls\n  const result = [];\n  if (lowerAsset) {\n    result.push(lowerAsset);\n  }\n  if (upperAsset) {\n    result.push(upperAsset);\n  }\n\n  // If somehow we didn't end up with any assets, don't fail completely, but\n  // let us know.\n  if (result.length === 0) {\n    wlog.error('nearestOutsideRange: no nearby assets found, using first in list', sortedAssets[0]);\n    result.push(sortedAssets[0]);\n  }\n\n  return result;\n};\n\n// This operates on the array in-place\nexport const moveToFront = (assets, toFront) => {\n  if (!toFront) {\n    return assets;\n  }\n\n  let index = -1;\n  for (let i = 0; i < assets.length; i++) {\n    let asset = assets[i];\n    if (asset.url === toFront.url) {\n      index = i;\n      break;\n    }\n  }\n\n  // If it's -1, it wasn't found. If it's 0, it's already in front.\n  if (index > 0) {\n    assets.splice(index, 1);\n    assets.unshift(toFront);\n  }\n\n  return assets;\n};\n","import W from 'wistia_namespace.js';\nimport assign from 'utilities/assign.js';\nimport pageLoaded from 'utilities/pageLoaded.js';\nimport { isVisitorTrackingEnabled } from 'utilities/trackingConsentApi.js';\n\nif (W._simpleMetricsCache == null) {\n  W._simpleMetricsCache = {};\n}\n\nif (W._simpleMetricsDebounceInterval == null) {\n  W._simpleMetricsDebounceInterval = 500;\n}\n\nconst METRICS_CACHE = W._simpleMetricsCache;\n\nexport const countMetric = (key, val = 1, extraData = {}) => {\n  return sendMetric('count', key, val, extraData);\n};\n\nexport const sendMetrics = (...messages) => {\n  if (!isVisitorTrackingEnabled()) {\n    return;\n  }\n  const url = `https://${__METRICS_HOST__}/mput?topic=metrics`;\n  return fetch(url, {\n    method: 'POST',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    body: messages.join('\\n'),\n  });\n};\n\nexport const sampleMetric = (key, val, extraData) => {\n  return sendMetric('sample', key, val, extraData);\n};\n\nconst getCircularReplacer = () => {\n  // form a closure and use this\n  // weakset to monitor object reference.\n  const seen = new WeakSet();\n\n  // return the replacer function\n  return (key, value) => {\n    if (typeof value === 'object' && value !== null) {\n      if (seen.has(value)) {\n        return '[Circular]';\n      }\n      seen.add(value);\n    }\n    return value;\n  };\n};\n\nexport const sendMetric = (type, key, val, extraData = {}) => {\n  if (!isVisitorTrackingEnabled()) {\n    return;\n  }\n  try {\n    if (METRICS_CACHE.toMput == null) {\n      METRICS_CACHE.toMput = [];\n    }\n\n    const messageObj = assign(\n      {\n        type,\n        key,\n        value: val != null ? val : null,\n      },\n      extraData,\n    );\n\n    const serialized = JSON.stringify(messageObj, getCircularReplacer());\n    METRICS_CACHE.toMput.push(serialized);\n\n    clearTimeout(W._msendTimeout);\n    W._msendTimeout = setTimeout(() => {\n      pageLoaded(() => {\n        sendMetrics.apply(this, METRICS_CACHE.toMput);\n        METRICS_CACHE.toMput = [];\n      });\n    }, W._simpleMetricsDebounceInterval);\n  } catch (e) {\n    console.error(e.message);\n    console.error(e.stack);\n  }\n};\n\n// only used in testing to clear the cache\nexport const _clearMetricsCache = () => {\n  METRICS_CACHE.toMput = [];\n};\n","export const interBoldItalicFontFamily = 'WistiaPlayerInterBoldItalic, Helvetica, Sans-Serif';\nexport const interFontFamily = 'WistiaPlayerInter, Helvetica, Sans-Serif';\nexport const interSemiBoldFontFamily = 'WistiaPlayerInterSemiBold, Helvetica, Sans-Serif';\nexport const interNumbersSemiBold = 'WistiaPlayerInterNumbersSemiBold, Helvetica, Sans-Serif';\n","export const standardSvgAttrs = ({\n  width,\n  height,\n  styleOverride = {},\n  ariaHidden = false,\n} = {}) => {\n  return {\n    x: '0px',\n    y: '0px',\n    viewBox: `0 0 ${width} ${height}`,\n    'enable-background': `new 0 0 ${width} ${height}`,\n    'aria-hidden': `${!!ariaHidden}`,\n    style: {\n      fill: '#ffffff',\n      height: '100%',\n      left: 0,\n      strokeWidth: 0,\n      top: 0,\n      width: '100%',\n      ...styleOverride,\n    },\n  };\n};\n","import W from 'wistia_namespace.js';\nimport { elemBind } from 'utilities/elem.js';\nimport { cachedDetect } from 'utilities/detect.js';\n\nconst detect = cachedDetect();\n\nif (W._isMouseDown == null) {\n  W._isMouseDown = false;\n\n  const onMouseDown = (event) => {\n    W._isMouseDown = true;\n    W._lastMouseDownAt = Date.now();\n    setTimeout(() => {\n      if (event.defaultPrevented) {\n        // the corresponding mouseup or touchend won't be fired.\n        W._isMouseDown = false;\n      }\n    }, 0);\n  };\n\n  const onMouseUp = () => {\n    W._lastMouseUpAt = Date.now();\n    setTimeout(() => {\n      W._isMouseDown = false;\n    }, 0);\n  };\n\n  // we need to wait a tick before we can reset ._isMouseDown because on ios\n  // we can get into the situation where if _isMouseDown is still true, we actually\n  // 'click' on the first item in the context menu, which is not what we want\n  const onTouchEnd = () => {\n    W._lastMouseUpAt = Date.now();\n    setTimeout(() => {\n      W._isMouseDown = false;\n    }, 0);\n  };\n\n  if (detect.touchScreen) {\n    elemBind(document, 'touchstart', onMouseDown, true);\n    elemBind(document, 'touchend', onTouchEnd, true);\n  } else {\n    elemBind(document, 'mousedown', onMouseDown, true);\n    elemBind(document, 'mouseup', onMouseUp, true);\n  }\n\n  // windows/osx handle the firing of the contextMenu differently\n  const contextHandler = detect.windows ? onMouseUp : onMouseDown;\n  elemBind(document, 'contextmenu', contextHandler, true);\n}\n\nexport const isMouseDown = () => {\n  if (W._mouseDownForceReturnVal != null) {\n    return W._mouseDownForceReturnVal;\n  }\n\n  return W._isMouseDown;\n};\n\nconst isMouseDownWithinInterval = (interval) => {\n  const lastMouseDownAt = Math.max(W._lastMouseDownAt || 0, (W._lastMouseUpAt || 0) - 1);\n  return lastMouseDownAt > Date.now() - interval;\n};\n\n// iOS has a 350ms delay on click events. This can make it so an event\n// like \"focus\" may fire after the touchstart/touchend handlers\nexport const isMouseDownRecently = () => {\n  if (W._mouseDownForceReturnVal != null) {\n    return W._mouseDownForceReturnVal;\n  }\n  return isMouseDownWithinInterval(500);\n};\n","import W from 'wistia_namespace.js';\nimport { merge, clone } from 'utilities/obj.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\n\nconst languages = (W.languages = W.languages || {});\nconst translations = (W.translations = W.translations || {});\n\n// set translationPromises if doesn't exist\nif (!W._translationPromises) {\n  W._translationPromises = {};\n}\n\nexport const supportedLanguages = [\n  'ar',\n  'de',\n  'es',\n  'en-US',\n  'fr',\n  'it',\n  'ja',\n  'ko',\n  'pt',\n  'ru',\n  'zh-CN',\n];\n\nconst defineLanguage = (code, text, translations) => {\n  languages[code] = { code, text: decodeEntities(text) };\n  if (translations) {\n    defineTranslations(code, translations);\n  }\n};\n\nexport const getLanguage = (code) => {\n  return languages[code];\n};\n\nexport const defineTranslations = (code, keyValPairs) => {\n  if (languages[code] == null) {\n    throw new Error(`Must define a language with code ${code} before defining its translations.`);\n  }\n\n  const translation = translations[code];\n  if (translation) {\n    merge(translation, keyValPairs);\n  } else {\n    translations[code] = clone(keyValPairs);\n  }\n};\n\nconst withFallbackText = (text) => {\n  if (text == null) {\n    return '?';\n  }\n  return text;\n};\n\nlet dummyTextArea;\nconst cachedDecodings = (W.cachedDecodings = W.cachedDecodings || {});\nconst decodeEntities = (text) => {\n  if (!dummyTextArea) {\n    // Create this lazily to avoid race conditions while document is rendering.\n    dummyTextArea = document.createElement('textarea');\n  }\n  if (cachedDecodings[text] != null) {\n    // If we've decoded this before, use that value; DOM operations aren't\n    // fast.\n    return cachedDecodings[text];\n  }\n  dummyTextArea.innerHTML = text;\n  cachedDecodings[text] = dummyTextArea.value;\n  return dummyTextArea.value;\n};\n\nexport const getTranslation = (code, key) => {\n  let text;\n  if (translations[code] && translations[code][key]) {\n    text = translations[code][key];\n  } else {\n    text = translations['en-US'][key];\n  }\n  return decodeEntities(withFallbackText(text));\n};\n\nexport const getLanguagePreference = () => {\n  if (navigator.languages || navigator.language) {\n    W.languagePreference = navigator.languages || [navigator.language];\n  } else {\n    // in old browsers that don't support navigator.language(s), like IE 9/10,\n    // just go with English.\n    W.languagePreference = ['en-US'];\n  }\n\n  return W.languagePreference;\n};\n\nexport const loadAndDefineTranslation = (code) => {\n  if (W._translationPromises[code]) {\n    return W._translationPromises[code];\n  }\n\n  const result = new Promise((resolve, reject) => {\n    dynamicImport([`assets/external/translations/${code}.js`])\n      .then((moduleClass) => {\n        const { languageCode, languageLabel, translations } = moduleClass;\n        defineLanguage(languageCode, languageLabel, translations);\n        resolve({\n          code,\n          translations: translations[code],\n        });\n      })\n      .catch(reject);\n  });\n\n  W._translationPromises[code] = result;\n  return result;\n};\n\nexport const matchingLanguages = (languagePrefs = getLanguagePreference) => {\n  return languagePrefs().reduce((matches, langCode) => {\n    const isFullMatch = supportedLanguages.indexOf(langCode) !== -1;\n\n    // strip the region off a language, e.g. `es-ES` -> `es`\n    const partialLangCode = langCode.split('-')[0];\n\n    // take a partial match if the language hits, just not the region, e.g. `es-ES` -> `es`\n    const isPartialMatch = supportedLanguages.indexOf(partialLangCode) !== -1;\n\n    if (isFullMatch) {\n      matches.push(langCode);\n    } else if (isPartialMatch) {\n      matches.push(partialLangCode);\n    }\n\n    return matches;\n  }, []);\n};\n\nexport const getDefaultTranslation = () => {\n  let matchingLanguage = matchingLanguages()[0];\n\n  // if there is not match, or if it is 'en', go to our\n  // default of 'en-US'\n  if (!matchingLanguage || matchingLanguage === 'en') {\n    matchingLanguage = 'en-US';\n  }\n\n  if (translations[matchingLanguage]) {\n    return Promise.resolve({\n      code: matchingLanguage,\n      translations: translations[matchingLanguage],\n    });\n  }\n\n  return loadAndDefineTranslation(matchingLanguage);\n};\n\n// Most translations are defined where they are used, however these translations are\n// rather generic and used in multiple places. They are defined here so we don't\n// duplicate multiple translation keys.\ndefineLanguage('en-US', 'English');\ndefineTranslations('en-US', {\n  PLAY: 'Play',\n  PLAY_BUTTON_LIVE_NOT_STARTED: 'Livestream has not started',\n  PLAY_BUTTON_TITLE_WHEN_NOT_PLAYING: 'Play Video',\n  PLAY_BUTTON_TITLE_WHEN_PLAYING: 'Pause',\n\n  REWATCH: 'Rewatch',\n\n  SKIP: 'Skip',\n});\n","import { eV1Protocol, eV1HostWithPort } from './hosts.js';\n\nexport type DynamicImportOptions = {\n  host?: string;\n};\nexport const dynamicImport = async (\n  filePath: string,\n  options: DynamicImportOptions = {},\n): Promise<unknown> => {\n  const host: string = options.host ?? eV1HostWithPort();\n\n  return import(/* webpackIgnore: true */ `${eV1Protocol()}//${host}/${filePath}`);\n};\n","import Wistia from 'wistia_namespace.js';\nimport poll from 'utilities/poll.js';\nimport throttle from 'utilities/throttle.js';\nimport { unescapeHtml } from 'utilities/unescape-html.js';\n\nexport { poll, throttle, unescapeHtml };\n\n// replace spaces in text with &nbsp; this prevents the line from wrapping.\n// specifically, it allows menu items in the vulcan ui to push their parent div\n// open as wide as the text.\nexport const unbreakifyText = (text = '') => {\n  return text.replace(' ', '&nbsp;');\n};\n\nexport const stripHtml = (htmlStr) => {\n  const tmp = document.createElement('div');\n  tmp.innerHTML = htmlStr;\n  return tmp.textContent || tmp.innerText || '';\n};\n\nexport const camelCase = (snakeStr) => {\n  return snakeStr.replace(/[_-]([a-z])/g, (g) => {\n    return g.charAt(1).toUpperCase();\n  });\n};\n\nexport const snakeCase = (camelStr) => {\n  return camelStr.replace(/[A-Z]/g, (g) => {\n    return `_${g.toLowerCase()}`;\n  });\n};\n\n// Not safe IE8 and below.\nexport const shallowCamelizeKeys = (o) => {\n  return Object.keys(o).reduce((memo, key) => {\n    memo[camelCase(key)] = o[key];\n    return memo;\n  }, {});\n};\n\n// Not safe IE8 and below.\nexport const shallowSnakeKeys = (o) => {\n  return Object.keys(o).reduce((memo, key) => {\n    memo[snakeCase(key)] = o[key];\n    return memo;\n  }, {});\n};\n\n// the implementations of base64Decode and base64Encode here are adapted from\n// https://stackoverflow.com/a/30106551/529530, and designed to safely handle\n// multibyte characters\n\nexport const base64Decode = (input) => {\n  return decodeURIComponent(\n    atob(input)\n      .split('')\n      .map((c) => {\n        return `%${`00${c.charCodeAt(0).toString(16)}`.slice(-2)}`;\n      })\n      .join(''),\n  );\n};\n\nexport const base64Encode = (input) => {\n  return btoa(\n    encodeURIComponent(input).replace(/%([0-9A-F]{2})/g, (match, p1) => {\n      return String.fromCharCode(`0x${p1}`);\n    }),\n  );\n};\n\nexport const notSetOrTrue = (val) => {\n  return val == null || val === true;\n};\n\n// prevent scrolling outside a container\n// topMargin and bottomMargin are optional and can be used to provide a cushion to adjust to determine\n// if you are at the top. We have seen some weird behavior with some uses where the scrollTop maxes out\n// at scrollHeight - offsetHeight - 1.  Possible subpixel rendering issue???\nexport const preventOuterMouseWheel = (e, container, topMargin = 0, bottomMargin = 0) => {\n  const { scrollTop, scrollHeight, offsetHeight } = container;\n  const hitTop = (extra = 0) => {\n    return scrollTop + extra - topMargin <= 0;\n  };\n  const hitBottom = (extra = 0) => {\n    return scrollTop + extra + bottomMargin >= scrollHeight - offsetHeight;\n  };\n\n  const delta = e.deltaY || -e.wheelDelta;\n  const dir = delta > 0 ? 'down' : 'up';\n  const isModernBrowser = !!e.deltaY;\n  if (isModernBrowser) {\n    if ((dir === 'up' && hitTop()) || (dir === 'down' && hitBottom())) {\n      e.preventDefault();\n    }\n  } else {\n    // IE scrolls 47.5 pixels each scroll but reports 120\n    const extra = (47.5 * delta) / 120;\n    if (dir === 'up' && hitTop(extra)) {\n      e.preventDefault();\n      // Manually set scroll to avoid scrolling parent in IE 11\n      container.scrollTop = 0;\n    } else if (dir === 'down' && hitBottom(extra)) {\n      e.preventDefault();\n      container.scrollTop = scrollHeight - offsetHeight;\n    }\n  }\n};\n\n// parent.frames.length should tell us how many iframes exist on the parent\n// page. However, if the user has overwritten the accessor with something\n// that's not safe for CORS (i.e. they changed it at all), then\n// parent.frames.length throws an exception and screws up the embedding\n// process. This function just gives a safe way of getting the value, or\n// defaulting to something unknown.\nexport const parentFramesLength = function () {\n  try {\n    return parent.frames.length;\n  } catch (e) {\n    Wistia.warn(e);\n    return 1;\n  }\n};\n","const throttle = (wait, fn, options = {}) => {\n  let context = null;\n  let args = null;\n  let result = null;\n  let timeout = null;\n  let previous = 0;\n  const later = function () {\n    previous = options.leading === false ? 0 : new Date().getTime();\n    timeout = null;\n    result = fn.apply(context, args);\n    if (!timeout) {\n      context = args = null;\n    }\n  };\n  return function () {\n    const now = new Date().getTime();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      clearTimeout(timeout);\n      timeout = null;\n      previous = now;\n      result = fn.apply(context, args);\n      if (!timeout) {\n        context = args = null;\n      }\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n};\n\nexport default throttle;\n","const unescapedCache = {};\n\nexport const unescapeHtml = (encodedHtmlStr, options = {}) => {\n  if (!encodedHtmlStr) {\n    return '';\n  }\n\n  if (options.cache) {\n    const cachedVal = unescapedCache[encodedHtmlStr];\n    if (unescapedCache[encodedHtmlStr]) {\n      return cachedVal;\n    }\n  }\n\n  const e = document.createElement('div');\n  e.innerHTML = encodedHtmlStr.toString().replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  let result;\n  if (e.childNodes.length > 0) {\n    result = e.childNodes[0].nodeValue;\n  } else {\n    result = '';\n  }\n\n  if (options.cache) {\n    unescapedCache[encodedHtmlStr] = result;\n  }\n\n  return result;\n};\n","import { wlog } from 'utilities/wlog.js';\nimport Wistia from 'wistia_namespace.js';\n\nconst logger = wlog.getPrefixedFunctions('event_loop');\n\n// The EventLoop class abstracts a particular async pattern. That's the one\n// where we set a recursive timeout which we can start/stop at will. The\n// problem with that pattern is that doTimeout has a bit of overhead\n// associated with it, and we'll be running several event loops for each video\n// on the page. As we add more polling functions and more videos, it bogs down\n// the execution speed.\n//\n// EventLoop allows us to setup one global loop with low latency and overhead.\n// Then we add functions onto the event loop, and those functions can have\n// different intervals, though they will always fire in multiples of the event\n// loop's latency (which by default is 100ms). So if you set an interval of 1,\n// it would still only fire once every 100ms. Or if you set an interval of\n// 250, it would fire at 300, then 600, then 1200, etc. So you might as well\n// set multiples of the latency.\n//\n// Besides efficiency, there is also some value in built-in error handling,\n// logging, convenience methods like @resync(), and the predictability of\n// execution when everything is in the same loop.\n\nexport const EventLoop = function (options = {}) {\n  this._timeoutId = null;\n  this._latency = options.latency != null ? options.latency : 100;\n  this._blurLatency = options.blurLatency != null ? options.blurLatency : 2000;\n  this._functions = {};\n  this._paused = {};\n\n  window.addEventListener('blur', () => this.blur(), false);\n  window.addEventListener('focus', () => this.focus(), false);\n\n  this.start();\n};\n\nconst EventLoopPrototype = EventLoop.prototype;\nEventLoopPrototype.start = function () {\n  clearTimeout(this._timeoutId);\n  this._loopFn =\n    this._loopFn ||\n    (() => {\n      this.runFunctions();\n      this._timeoutId = setTimeout(this._loopFn, this._latency);\n    });\n  this._loopFn();\n};\n\n// Sometimes we want things to respond really super fast after an event.\n// Calling \"resync\" basically restarts the loop at the moment it's called.\nEventLoopPrototype.resync = function () {\n  this.start();\n};\n\n// Same as resync, but sometimes we want to do it in async manner.\nEventLoopPrototype.resyncNextTick = function () {\n  setTimeout(() => {\n    this.resync();\n  }, 0);\n};\n\nEventLoopPrototype.stop = function () {\n  clearTimeout(this._timeoutId);\n};\n\nEventLoopPrototype.clear = function () {\n  this._functions = {};\n};\n\nEventLoopPrototype.runFunctions = function () {\n  if (this._pausedDirty) {\n    this.updatePaused();\n  }\n  const toRemove = [];\n  for (let k in this._functions) {\n    let entry = this._functions[k];\n    let now = new Date().getTime();\n    let timeSinceLastRun = now - entry.lastRanAt;\n    if (!entry.paused && timeSinceLastRun >= entry.interval) {\n      entry.lastRanAt = now;\n      try {\n        let result = entry.fn();\n        if (result === this.remove) {\n          toRemove.push(k);\n        }\n      } catch (e) {\n        logger.error(e);\n      }\n    }\n  }\n  for (let i = 0; i < toRemove.length; i++) {\n    this.remove(toRemove[i]);\n  }\n};\n\nEventLoopPrototype.add = function (key, interval, fn) {\n  const now = new Date().getTime();\n  this._functions[key] = {\n    addedAt: now,\n    lastRanAt: -1,\n    interval,\n    fn,\n  };\n  const fnResult = fn();\n  if (this._functions[key]) {\n    this._functions[key].lastRanAt = new Date().getTime();\n  }\n  if (this._functions[key] && fnResult === this.remove) {\n    delete this._functions[key];\n  } else {\n    this._pausedDirty = true;\n  }\n};\n\n// NOTE: If an event loop function returns the @remove function, then it is\n// equivalent to calling this method after all other functions in that loop\n// iteration have completed.\nEventLoopPrototype.remove = function (key) {\n  this.forEachMatchingKey(key, (k) => {\n    delete this._functions[k];\n  });\n};\n\nEventLoopPrototype.forEachMatchingKey = function (key, fn) {\n  for (let k in this._functions) {\n    let entry = this._functions[k];\n    if (this.key1IncludesKey2(key, k)) {\n      fn(k, entry);\n    }\n  }\n};\n\nEventLoopPrototype.latency = function (latency) {\n  if (latency != null) {\n    this._latency = latency;\n  } else {\n    return this._latency;\n  }\n};\n\nEventLoopPrototype.interval = function (key, interval) {\n  if (interval != null) {\n    if (this._functions[key] == null) {\n      logger.notice(\n        'setting interval of ',\n        key,\n        'to',\n        interval,\n        'failed because',\n        key,\n        'is not defined',\n      );\n    } else {\n      this._functions[key].interval = interval;\n    }\n  } else {\n    return this._functions[key].interval;\n  }\n};\n\nEventLoopPrototype.pause = function (key) {\n  this._paused[key] = true;\n  this._pausedDirty = true;\n};\n\nEventLoopPrototype.unpause = function (key) {\n  this._paused[key] = false;\n  this._pausedDirty = true;\n};\n\nEventLoopPrototype.isPaused = function (exactKey) {\n  for (let superKey in this.paused) {\n    let isPaused = this._paused[superKey];\n    if (isPaused && this.key1IncludesKey2(superKey, exactKey)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nEventLoopPrototype.updatePaused = function () {\n  for (let k in this._functions) {\n    let entry = this._functions[k];\n    entry.paused = this.isPaused(k);\n  }\n  this._pausedDirty = false;\n};\n\n// @key1IncludesKey2('a', 'a.b.c') => true\n// @key1IncludesKey2('a.b', 'a.b.c') => true\n// @key1IncludesKey2('b.c', 'a.b.c') => false\n// @key1IncludesKey2('foo', 'a.b.c') => false\n// @key1IncludesKey2('foo', 'foo') => true\nEventLoopPrototype.key1IncludesKey2 = function (key1, key2) {\n  return (\n    typeof key2.indexOf === 'function' &&\n    key2.indexOf(key1) === 0 &&\n    (key2.length === key1.length || key2.charAt(key1.length) === '.')\n  );\n};\n\nEventLoopPrototype.blur = function () {\n  if (this._blurred) {\n    return;\n  }\n  this._blurred = true;\n  this._savedLatency = this._latency;\n  this._latency = this._blurLatency;\n};\n\nEventLoopPrototype.focus = function () {\n  if (!this._blurred) {\n    return;\n  }\n  this._blurred = false;\n  this._latency = this._savedLatency;\n  this.resync();\n};\n\nif (Wistia.eventLoop == null) {\n  Wistia.eventLoop = new EventLoop({ latency: 100, blurLatency: 100 });\n}\nexport const globalEventLoop = Wistia.eventLoop;\n","import { Url } from 'utilities/url.js';\nimport { indexOf } from 'utilities/obj.js';\n\nconst getPageUrlStr = () => {\n  if (top !== self) {\n    // iframe\n    return document.referrer || '';\n  }\n\n  return location.href || '';\n};\n\nconst DEFAULT_REGEX = /^w_([^&]+)/;\nconst embedOptionsFromQueryParams = (whitelist, pageUrlStr, regex = DEFAULT_REGEX) => {\n  if (!pageUrlStr) {\n    pageUrlStr = getPageUrlStr();\n  }\n\n  const url = new Url(pageUrlStr);\n  const params = url.params || {};\n\n  const embedOptions = {};\n  for (let key in params) {\n    if (Object.hasOwn(params, key)) {\n      const match = key.match(regex);\n      if (match) {\n        const embedOptionName = match[1];\n\n        // TODO: See if we can use Array.prototype.indexOf instead of our own\n        // util. Just didn't want to deal with potential downstream breakage\n        // from a refactor.\n        if (indexOf(whitelist, embedOptionName) >= 0) {\n          embedOptions[embedOptionName] = params[key];\n        }\n      }\n    }\n  }\n\n  return embedOptions;\n};\n\nexport default embedOptionsFromQueryParams;\n","import assign from 'utilities/assign.js';\n\nconst backgroundResetStyles = {\n  'background-attachment': 'scroll',\n  'background-color': 'transparent',\n  'background-image': 'none',\n  'background-position': '0 0',\n  'background-repeat': 'no-repeat',\n  'background-size': '100% 100%',\n};\n\nconst defaultResetStyles = {\n  'box-sizing': 'inherit',\n  'box-shadow': 'none',\n  color: 'inherit',\n  display: 'block',\n  float: 'none',\n  font: 'inherit',\n  'font-family': 'inherit',\n  'font-style': 'normal',\n  'font-weight': 'normal',\n  'font-size': 'inherit',\n  'letter-spacing': 0,\n  'line-height': 'inherit',\n  margin: 0,\n  'max-height': 'none',\n  'max-width': 'none',\n  'min-height': 0,\n  'min-width': 0,\n  padding: 0,\n  position: 'static',\n  'text-decoration': 'none',\n  'text-transform': 'none',\n  'text-shadow': 'none',\n  transition: 'none',\n  'word-wrap': 'normal',\n  '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\n  '-webkit-user-select': 'none',\n  '-webkit-font-smoothing': 'antialiased',\n};\n\nconst listResetStyles = {\n  'list-style-type': 'none',\n  position: 'static',\n};\n\nconst h1ResetStyles = {\n  'font-size': '2em',\n};\n\nconst h2ResetStyles = {\n  'font-size': '1.5em',\n};\n\nconst h3ResetStyles = {\n  'font-size': '1.17em',\n};\n\nconst labelResetStyles = {\n  float: 'none',\n  outline: 'none',\n};\n\nconst buttonResetStyles = {\n  border: 0,\n  'border-radius': 0,\n  outline: 'none',\n  position: 'static',\n};\n\nconst imgResetStyles = {\n  border: 0,\n  display: 'inline-block',\n  'vertical-align': 'top',\n};\n\nconst joinHashAsStyles = (hash) => {\n  const pairs = [];\n  for (let name in hash) {\n    const value = hash[name];\n    pairs.push(`${name}:${value}`);\n  }\n  return pairs.join(';');\n};\n\nconst resetDeclarations = `\n&{font-size:14px;}\ndiv,span,ul,li,label,fieldset,button,img,a,svg,p{${joinHashAsStyles(defaultResetStyles)}}\na{border:0;}\nh1{${joinHashAsStyles(assign({}, defaultResetStyles, h1ResetStyles))}}\nh2{${joinHashAsStyles(assign({}, defaultResetStyles, h2ResetStyles))}}\nh3{${joinHashAsStyles(assign({}, defaultResetStyles, h3ResetStyles))}}\np{margin:1.4em 0;}\na,span,svg{display:inline;}\nul,ol,li{${joinHashAsStyles(assign({}, defaultResetStyles, listResetStyles))}}\nul:before,ol:before,li:before{display:none}\nul:after,ol:after,li:after{display:none}\nlabel{${joinHashAsStyles(assign({}, backgroundResetStyles, labelResetStyles))}}\nbutton{${joinHashAsStyles(assign({}, backgroundResetStyles, buttonResetStyles))}}\nimg{${joinHashAsStyles(assign({}, imgResetStyles, buttonResetStyles))}}\nbutton::-moz-focus-inner{border: 0;}\n`;\n\nconst expandLine = (prefixSelector, suffixSelector, line) => {\n  const startOfPropsIndex = line.indexOf('{');\n  const selectorString = line.substring(0, startOfPropsIndex);\n  const declString = line.substring(startOfPropsIndex, line.length);\n  const selectors = selectorString.split(/,\\s*/);\n  return selectors\n    .map((selector) => {\n      if (selector.indexOf('&') >= 0) {\n        return `${selector.replace(/&/g, prefixSelector)}${suffixSelector}${declString}`;\n      }\n      if (selector.indexOf('::') >= 0) {\n        return `${prefixSelector}${suffixSelector} ${selector}${declString}`;\n      }\n      return `${prefixSelector}${selector}${suffixSelector}${declString}`;\n    })\n    .join('\\n');\n};\n\nexport const cssResetForSelector = (prefixSelector, suffixSelector) => {\n  return resetDeclarations\n    .trim()\n    .split(/\\n+/)\n    .map((line) => {\n      return expandLine(prefixSelector, suffixSelector, line);\n    })\n    .join('\\n');\n};\n","import { h, render, Component } from 'preact';\nimport { cachedDetect } from 'utilities/detect.js';\nimport TouchEvents from '../media/players/vulcanV2Player/TouchEvents.js';\n\nconst detect = cachedDetect();\n\nclass CustomEventsWrapper extends Component {\n  render() {\n    const TagName = this.props.tagName || 'div';\n    return (\n      <TagName {...this.props} ref={this.props.elemRef}>\n        {this.props.children}\n      </TagName>\n    );\n  }\n\n  componentDidMount() {\n    this._savedBase = this.base;\n    this.setupBindings();\n  }\n\n  componentDidUpdate() {\n    // this.base may have changed with any render, so we need to reset our\n    // bindings.\n    if (this.base !== this._savedBase) {\n      this._savedBase = this.base;\n      this.destroyBindings();\n      this.setupBindings();\n    }\n  }\n\n  componentWillUnmount() {\n    this.destroyBindings();\n  }\n\n  setupBindings() {\n    this.unbinds = [];\n    if (detect.touchScreen) {\n      const touchEvents = (this.touchEvents = new TouchEvents(this.base));\n      touchEvents.on('swipe', this.onSwipe);\n      touchEvents.on('pinch', this.onPinch);\n      touchEvents.on('longpress', this.onLongPress);\n      touchEvents.on('touchmove', this.onCustomTouchMove);\n    }\n  }\n\n  destroyBindings() {\n    if (this.touchEvents) {\n      this.touchEvents.destroy();\n      this.touchEvents = null;\n    }\n    if (this.unbinds) {\n      this.unbinds.map((unbind) => unbind());\n      this.unbinds = null;\n    }\n  }\n\n  onSwipe = (e, ctx) => {\n    const onSwipe = this.props.onSwipe;\n    if (onSwipe) {\n      onSwipe(e, ctx);\n    }\n  };\n\n  onPinch = (e, ctx) => {\n    const onPinch = this.props.onPinch;\n    if (onPinch) {\n      onPinch(e, ctx);\n    }\n  };\n\n  onLongPress = (e, ctx) => {\n    const onLongPress = this.props.onLongPress;\n    if (onLongPress) {\n      onLongPress(e, ctx);\n    }\n  };\n\n  onCustomTouchMove = (e, ctx) => {\n    const onTouchMove = this.props.onCustomTouchMove;\n    if (onTouchMove) {\n      onTouchMove(e, ctx);\n    }\n  };\n}\n\nexport default CustomEventsWrapper;\n","import W from 'wistia_namespace.js';\nimport { bindify } from 'utilities/bindify.js';\nimport { elemBind, elemUnbind, elemWidth, elemHeight, elemOffset } from 'utilities/elem.js';\nimport { cachedDetect } from 'utilities/detect.js';\n\nconst detect = cachedDetect();\n\nclass TouchEvents {\n  constructor(rootElem) {\n    this.rootElem = rootElem;\n    this.xDown = this.yDown = null;\n    this.xDiff = this.yDiff = 0;\n    this.isSwipe = false;\n    this.isPinch = false;\n    this.startedAt = null;\n    this.initialPinchDistance = null;\n    this.touch1 = this.touch2 = null;\n    this.pinchDistance = 0;\n    this.pinchScale = 0;\n\n    // NOTE: Chrome's Best Practices Audit doesn't like that we don't set the\n    // passive: true here, but we need it to properly support pinch to zoom--so\n    // the entire browser doesn't zoom when you're specifically pinching the\n    // video. Even though this will show up as a penalty in an Audit, I believe\n    // it should be okay since the callback will not run except when the\n    // touchstart has been initiated within the video boundaries.\n    elemBind(\n      rootElem,\n      'touchstart',\n      this.onTouchStart,\n      detect.passiveSupported ? { passive: false } : false,\n    );\n  }\n\n  updatePinch(e) {\n    const rootOffset = this.rootOffset;\n    if (e.touches.length === 2) {\n      this.touch1 = {\n        left: e.touches[0].pageX - rootOffset.left,\n        top: e.touches[0].pageY - rootOffset.top,\n      };\n      this.touch2 = {\n        left: e.touches[1].pageX - rootOffset.left,\n        top: e.touches[1].pageY - rootOffset.top,\n      };\n      this.pinchDistance = Math.sqrt(\n        (this.touch1.left - this.touch2.left) ** 2,\n        (this.touch1.top - this.touch2.top) ** 2,\n      );\n      if (this.initialPinchDistance == null) {\n        this.initialPinchDistance = this.pinchDistance;\n      }\n      this.pinchScale = this.pinchDistance / this.initialPinchDistance;\n      this.pinchDelta = this.pinchDistance - this.initialPinchDistance;\n\n      this.isPinch = true;\n\n      return this.pinchScale;\n    }\n    return 0;\n  }\n\n  getTouchContext(e) {\n    const rootOffset = this.rootOffset;\n    const timeDelta = Date.now() - this.startedAt;\n\n    // A touchEvent will fire with no touches when touch ends; in this case,\n    // xOffset and yOffset will be NaN.\n\n    const touch = Object(e.touches[0]);\n    const xOffset = touch.pageX - rootOffset.left;\n    const yOffset = touch.pageY - rootOffset.top;\n\n    return {\n      xOffset,\n      yOffset,\n      xDelta: this.xDiff,\n      yDelta: this.yDiff,\n      absXDelta: Math.abs(this.xDiff),\n      absYDelta: Math.abs(this.yDiff),\n      delta: Math.sqrt(this.xDiff * this.xDiff + this.yDiff * this.yDiff),\n      startedAt: this.startedAt,\n      isSwipe: !this.isPinch && this.isSwipe,\n      isTap: timeDelta < 1000 && !this.isPinch && !this.isSwipe,\n      isLongPress: timeDelta >= 1000 && !this.isPinch && !this.isSwipe,\n      isPinch: this.isPinch,\n      timeDelta,\n      pinchScale: this.pinchScale,\n      pinchDistance: this.pinchDistance,\n    };\n  }\n\n  touchIsInsideRootElem(touch) {\n    return (\n      touch.left >= 0 &&\n      touch.left < this.rootWidth &&\n      touch.top >= 0 &&\n      touch.top < this.rootHeight\n    );\n  }\n\n  touchesAreInsideRootElem() {\n    return this.touchIsInsideRootElem(this.touch1) && this.touchIsInsideRootElem(this.touch2);\n  }\n\n  resetTouchContext() {\n    this.xDown = this.yDown = null;\n    this.xDiff = this.yDiff = 0;\n    this.isSwipe = false;\n    this.isPinch = false;\n    this.startedAt = null;\n    this.pinchDelta = 0;\n    this.pinchDistance = 0;\n    this.initialPinchDistance = null;\n    this.touch1 = this.touch2 = null;\n  }\n\n  onTouchStart = (event) => {\n    this.rootWidth = elemWidth(this.rootElem);\n    this.rootHeight = elemHeight(this.rootElem);\n    this.rootOffset = elemOffset(this.rootElem);\n    this.resetTouchContext();\n    if (event.touches[0]) {\n      this.xDown = event.touches[0].clientX;\n      this.yDown = event.touches[0].clientY;\n    }\n\n    this.updatePinch(event);\n\n    if (event.touches.length == 2 && this.touchesAreInsideRootElem()) {\n      event.preventDefault();\n    }\n\n    this.startedAt = Date.now();\n    elemBind(document, 'touchmove', this.onTouchMoveDocument, { passive: false });\n    elemBind(document, 'touchend', this.onTouchEndDocument);\n    elemBind(this.rootElem, 'touchmove', this.onTouchMove, { passive: false });\n    elemBind(this.rootElem, 'touchend', this.onTouchEnd);\n    const ctx = this.getTouchContext(event);\n    this.trigger('touchstart', event, ctx);\n    this.maybeTriggerMoreSpecificEvent(event, ctx);\n  };\n\n  onTouchMove = (event) => {\n    event._handledByTouchMove = true;\n    const xUp = event.touches[0].clientX;\n    const yUp = event.touches[0].clientY;\n    this.xDiff = this.xDown - xUp;\n    this.yDiff = this.yDown - yUp;\n\n    this.updatePinch(event);\n\n    if (!this.isPinch) {\n      const dist = Math.sqrt(this.xDiff * this.xDiff + this.yDiff * this.yDiff);\n      if (dist > 25 || Date.now() - this.startedAt > 300) {\n        this.isSwipe = true;\n      }\n    }\n\n    const ctx = this.getTouchContext(event);\n    this.trigger('touchmove', event, ctx);\n    this.maybeTriggerMoreSpecificEvent(event, ctx);\n  };\n\n  onTouchMoveDocument = (event) => {\n    if (!event._handledByTouchMove) {\n      this.onTouchMove(event);\n    }\n  };\n\n  onTouchEnd = (event) => {\n    event._handledByTouchEnd = true;\n    const ctx = this.getTouchContext(event);\n    this.trigger('touchend', event, ctx);\n    this.maybeTriggerMoreSpecificEvent(event, ctx);\n\n    // Run this on next tick because, if pinching or swiping, there will\n    // actually be _two_ touchend events, and the second one would not have\n    // isPinch or isSwipe set, which could cause tap/longpress to fire instead.\n    setTimeout(() => {\n      this.resetTouchContext();\n      this.unbindTouchEndAndTouchMove();\n    }, 0);\n  };\n\n  onTouchEndDocument = (event) => {\n    if (!event._handledByTouchEnd) {\n      this.onTouchEnd(event);\n    }\n  };\n\n  maybeTriggerMoreSpecificEvent(event, ctx) {\n    if (ctx.isLongPress) {\n      this.trigger('longpress', event, ctx);\n    } else if (ctx.isTap) {\n      this.trigger('tap', event, ctx);\n    } else if (ctx.isSwipe) {\n      this.trigger('swipe', event, ctx);\n    } else if (ctx.isPinch) {\n      this.trigger('pinch', event, ctx);\n    }\n  }\n\n  destroy() {\n    elemUnbind(this.rootElem, 'touchstart', this.onTouchStart);\n    this.unbindTouchEndAndTouchMove();\n    this.rootElem = null;\n  }\n\n  unbindTouchEndAndTouchMove() {\n    elemUnbind(document, 'touchmove', this.onTouchMoveDocument);\n    elemUnbind(document, 'touchend', this.onTouchEndDocument);\n    elemUnbind(this.rootElem, 'touchmove', this.onTouchMove);\n    elemUnbind(this.rootElem, 'touchend', this.onTouchEnd);\n  }\n}\n\nbindify(TouchEvents.prototype);\n\nexport default TouchEvents;\n","import { h, render, Component } from 'preact';\n\nclass RawHTMLStub extends Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <div\n        class={props.class || 'w-html-stub'}\n        style={props.style}\n        ref={props.stubRef}\n        data-handle={props.handle}\n      />\n    );\n  }\n\n  componentDidMount() {\n    const mount = this.props.mount;\n    if (mount) {\n      mount(this.base);\n    }\n  }\n\n  componentWillUnmount() {\n    const destroy = this.props.destroy;\n    if (destroy) {\n      destroy();\n    }\n  }\n}\n\nexport default RawHTMLStub;\n","import assign from 'utilities/assign.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { doTimeout, clearTimeouts } from 'utilities/timeout-utils.js';\nimport { elemBind, elemRemove, elemUnbind } from 'utilities/elem.js';\nimport { h, render } from 'preact';\nimport { seqId } from 'utilities/seqid.js';\nimport { getControlDefinitions } from './control_definitions.js';\n\nconst detect = cachedDetect();\n\n// Call functions that we've pushed into control.unbinds.\nexport const callUnbinds = (control) => {\n  if (control.unbinds instanceof Array) {\n    control.unbinds.forEach((unbind) => {\n      try {\n        if (typeof unbind === 'function') {\n          unbind();\n        }\n      } catch (e) {\n        setTimeout(() => {\n          throw e;\n        }, 1);\n      }\n    });\n    control.unbinds = null;\n  }\n};\n\n/**\n * Call removeEventListeners that we've pushed into control.eventListeners.\n * @param {Control} control\n */\nexport const callRemoveEventListeners = (control) => {\n  if (control.eventListeners instanceof Map) {\n    control.eventListeners.forEach((eventListenerFn, eventName) => {\n      try {\n        if (typeof eventListenerFn === 'function') {\n          control.embedElement.removeEventListener(eventName, eventListenerFn);\n        }\n      } catch (e) {\n        setTimeout(() => {\n          throw e;\n        }, 1);\n      }\n    });\n    control.eventListeners.clear();\n  }\n};\n\nexport const destroyControl = (control) => {\n  control._destroyed = true;\n  callUnbinds(control);\n  callRemoveEventListeners(control);\n  removeRootElem(control);\n  unmountReactMounts(control);\n  unsetObjectProperties(control);\n};\n\nexport const maybeDestroyControls = ({ controls, isControlDisabled, shouldMount }) => {\n  const destroyedControls = [];\n  for (let handle in controls) {\n    const control = controls[handle];\n    if (isControlDisabled(handle) || !shouldMount(control.constructor)) {\n      if (control.destroy) {\n        try {\n          control.destroy();\n        } catch (e) {\n          setTimeout(() => {\n            throw e;\n          }, 1);\n        }\n      }\n      control.__destroyed = true;\n      delete controls[control.constructor.handle];\n      destroyedControls.push(control);\n    }\n  }\n  return destroyedControls;\n};\n\nexport const maybeInitializeControls = ({\n  controlDefinitions,\n  controls,\n  isControlDisabled,\n  initControl,\n  onMount,\n  shouldMount,\n  reevaluateShouldMount,\n}) => {\n  const newControls = [];\n  const existingControls = [];\n  for (let handle in controlDefinitions) {\n    const ControlClass = controlDefinitions[handle];\n    const hasBeenInitialized = controls[handle] != null;\n    const shouldDoMount = !isControlDisabled(handle) && shouldMount(ControlClass);\n    reevaluateShouldMount(ControlClass);\n\n    if (shouldDoMount && hasBeenInitialized) {\n      existingControls.push(controls[handle]);\n    } else if (!hasBeenInitialized && shouldDoMount) {\n      try {\n        const control = (controls[handle] = initControl(ControlClass));\n        control.mounted = new Promise((resolve) => {\n          control.__didMount = () => {\n            control.mounted.isResolved = true;\n            onMount(handle);\n            resolve();\n          };\n        });\n        newControls.push(control);\n      } catch (e) {\n        setTimeout(() => {\n          throw e;\n        }, 1);\n      }\n    }\n  }\n  return [newControls, existingControls];\n};\n\nconst mountControl = (control, mountFn) => {\n  try {\n    const handle = control.constructor.handle;\n    const mountResult = mountFn();\n    if (mountResult && mountResult.then && mountResult.catch) {\n      mountResult.handle = handle;\n      mountResult.then(() => {\n        control.__didMount();\n      });\n    } else {\n      control.__didMount();\n    }\n    return Promise.resolve(mountResult);\n  } catch (e) {\n    setTimeout(() => {\n      throw e;\n    }, 0);\n    return Promise.resolve();\n  }\n};\n\nconst renderHourglassLoader = (control, promise, options) => {\n  return new Promise((resolve) => {\n    // we wanna wait 300ms before showing the loading indication\n    const timeoutKey = `${control.video.uuid}.loading_indicator.${seqId()}`;\n    doTimeout(\n      timeoutKey,\n      () => {\n        control.video.controls.loadingHourglass.show(options);\n\n        if (detect.touchScreen) {\n          elemBind(document, 'touchstart', () => {\n            try {\n              control.video.controls.loadingHourglass.hide();\n            } catch (e) {\n              setTimeout(() => {\n                throw e;\n              }, 0);\n            }\n            resolve();\n            return elemUnbind;\n          });\n        } else {\n          elemBind(document, 'mousedown', () => {\n            try {\n              control.video.controls.loadingHourglass.hide();\n            } catch (e) {\n              setTimeout(() => {\n                throw e;\n              }, 0);\n            }\n            resolve();\n            return elemUnbind;\n          });\n        }\n      },\n      300,\n    );\n\n    promise.then(() => {\n      clearTimeouts(timeoutKey);\n      control.video.controls.loadingHourglass.hide();\n      resolve();\n    });\n  });\n};\n\nexport const mountControls = (controls, mountRefs) => {\n  return Promise.all(\n    controls.map((control) => {\n      const handle = control.constructor.handle;\n\n      if (!control.loading) {\n        control.loading = (promise, options = {}) => {\n          return renderHourglassLoader(control, promise, options);\n        };\n      }\n\n      if (control.eventListeners instanceof Map) {\n        control.eventListeners.forEach((eventListenerFn, eventName) => {\n          control.embedElement.addEventListener(eventName, eventListenerFn);\n        });\n      }\n\n      const mountPoint = mountRefs[handle];\n      return mountControl(control, () => control.mount(mountPoint));\n    }),\n  );\n};\n\nexport const setControlProps = (controls, propsByType) => {\n  for (let handle in controls) {\n    const control = controls[handle];\n    control.__prevProps = control.props || {};\n    control.props = assign({}, propsByType[control.constructor.type]);\n  }\n};\n\nexport const removeRootElem = (control) => {\n  // Remove all DOM elements inside the rootElem.\n  if (control.rootElem) {\n    elemRemove(Array.prototype.slice.call(control.rootElem.childNodes));\n  }\n};\n\nconst renderNothingForReactMount = (reactMount) => {\n  const containerElem = reactMount[0];\n  const renderedElem = reactMount[1];\n  if (containerElem && renderedElem) {\n    render(<nothing />, containerElem);\n  }\n};\n\nexport const runOnControlPropsUpdated = (controls) => {\n  controls.forEach((control) => {\n    if (typeof control.onControlPropsUpdated === 'function') {\n      try {\n        control.onControlPropsUpdated(control.__prevProps || {});\n      } catch (e) {\n        setTimeout(() => {\n          throw e;\n        }, 0);\n      }\n    }\n    control.__prevProps = null;\n  });\n};\n\nconst startsWithDoubleUnderscore = (str) => {\n  return str[0] === '_' && str[1] === '_';\n};\n\nexport const getSortedControlsByType = (controls) => {\n  const result = {};\n\n  // bucket\n  for (let handle in controls) {\n    const control = controls[handle];\n    const type = control.constructor.type;\n    if (result[type] == null) {\n      result[type] = [];\n    }\n    result[type].push(control);\n  }\n\n  // sort each bucket\n  for (let type in result) {\n    result[type].sort((control1, control2) => {\n      return (control1.constructor.sortValue || 0) - (control2.constructor.sortValue || 0);\n    });\n  }\n\n  return result;\n};\n\nexport const pickControlDefinitionsWithTypes = (types) => {\n  const globalControlDefinitions = getControlDefinitions();\n  const result = {};\n  for (let k in globalControlDefinitions) {\n    const controlDef = globalControlDefinitions[k];\n    if (types.indexOf(controlDef.type) >= 0) {\n      result[k] = controlDef;\n    }\n  }\n  return result;\n};\n\nexport const unmountReactMounts = (control) => {\n  // Controls that render to react can save the relevant mount points like:\n  //\n  // control.reactMounts = [control.rootElem, control.thumbnailElem]\n  //\n  // or in the case where there are multiple mounts (like button and dialog)\n  //\n  // control.reactMounts.button = [control.buttonRoot, control.buttonElem]\n  // control.reactMounts.dialog = [control.dialogRoot, control.dialogElem]\n  //\n  // And control code will automatically unmount on destroy to clean up any\n  // dangling react DOM nodes.\n  const reactMounts = control.reactMounts;\n  if (reactMounts) {\n    if (reactMounts instanceof Array) {\n      renderNothingForReactMount(reactMounts);\n    } else {\n      for (let mountName in reactMounts) {\n        if (Object.hasOwn(reactMounts, mountName) && reactMounts[mountName]) {\n          renderNothingForReactMount(reactMounts[mountName]);\n        }\n      }\n    }\n  }\n};\n\nexport const unsetObjectProperties = (control) => {\n  // Null out any object properties that may cause a reference.\n  for (let k in control) {\n    if (Object.hasOwn(control, k) && !startsWithDoubleUnderscore(k) && k !== 'mounted') {\n      control[k] = null;\n    }\n  }\n\n  control.__prevProps = null;\n\n  // Set control again because we would've just unset it above.\n  control._destroyed = true;\n};\n","import W from 'wistia_namespace.js';\nimport { countMetric } from 'utilities/simpleMetrics.js';\n\nif (W._controlDefinitions == null) {\n  W._controlDefinitions = {};\n}\n\nexport const defineControl = (klass) => {\n  if (klass.handle == null) {\n    console.error('Please specify a handle property for control', klass);\n    return;\n  }\n\n  const existingClass = W._controlDefinitions[klass.handle];\n  if (existingClass != null) {\n    return;\n  }\n\n  W._controlDefinitions[klass.handle] = klass;\n\n  // Don't _require_ globalBindAndTrigger to have been included, but use it if\n  // it has been. This lets us include this module in async scripts without\n  // pulling in all of wbindable and bindify.\n  if (W.trigger) {\n    W.trigger('controldefined', klass);\n  }\n};\n\nexport const getControlDefinitions = () => {\n  return W._controlDefinitions || {};\n};\n\n// NOTE: it is important for this to remain on the W global for the time being so that\n// 3rd party controls have a mechanism for registering controls\nW.defineControl = (controlClass) => {\n  countMetric(`player/custom-control-definition`, 1, {\n    name: controlClass.handle,\n    location: location.origin + location.pathname,\n  });\n\n  defineControl(controlClass);\n};\n","import { isValidIso8601, iso8601TimeToSeconds } from './iso8601Helper.js';\n\nconst areMeasuresInOrder = (durationString) => {\n  const measures = durationString.match(/[hms]/g);\n  let isProperOrder = false;\n\n  if (measures.length === 3) {\n    if (measures[0] === 'h' && measures[1] === 'm' && measures[2] === 's') {\n      return true;\n    }\n  }\n\n  if (measures.length === 2) {\n    const measureStr = measures.join('');\n    ['hm', 'hs', 'ms'].forEach((sequence) => {\n      if (measureStr === sequence) {\n        isProperOrder = true;\n      }\n    });\n\n    return isProperOrder;\n  }\n\n  return true;\n};\n\nconst doMeasuresRepeat = (durationString) => {\n  const filteredMeasures = ['h', 'm', 's'].filter((measure) => {\n    const regex = new RegExp(measure, 'g');\n\n    const matches = durationString.match(regex);\n    if (matches !== null && matches.length > 1) {\n      return true;\n    }\n\n    return false;\n  });\n\n  return filteredMeasures.length > 0;\n};\n\nexport const durationStringToSeconds = (duration) => {\n  const durationString = duration?.toString() || '';\n\n  if (!isValidDurationString(durationString)) {\n    return 0;\n  }\n\n  const hoursInSeconds = getValueForDurationKey('h', durationString) * 3600;\n  const minutesInSeconds = getValueForDurationKey('m', durationString) * 60;\n  const seconds = getValueForDurationKey('s', durationString);\n\n  return hoursInSeconds + minutesInSeconds + seconds;\n};\n\n// flexibleDuration is a duration format that uses as\n// few digits as possible to express that duration\nexport const flexibleDuration = (total) => {\n  const { hours, minutes, seconds } = secondsConverter(total, 'hms');\n\n  if (hours === 0) {\n    return `${minutes}:${padNumber(seconds, 2)}`;\n  }\n  return `${hours}:${padNumber(minutes, 2)}:${padNumber(seconds, 2)}`;\n};\n\nexport const formattedDurationToSeconds = (dur) => {\n  if (isValidDurationString(dur)) {\n    return durationStringToSeconds(dur);\n  }\n  if (isValidIso8601(dur)) {\n    return iso8601TimeToSeconds(dur);\n  }\n\n  return dur;\n};\n\nexport const accessibilityDuration = (duration) => {\n  const { hours, minutes, seconds } = secondsConverter(duration, 'hms');\n  const zeroHours = hours === 0;\n  const zeroMinutes = minutes === 0;\n  if (zeroHours && zeroMinutes) {\n    return `${seconds} second${seconds === 1 ? '' : 's'}`;\n  }\n\n  const hoursText = zeroHours ? '' : `${hours} hour${hours === 1 ? '' : 's'}`;\n  const minText = zeroMinutes ? '' : `${minutes} minute${hours === 1 ? '' : 's'}`;\n\n  return `${hoursText} ${minText}`.trim();\n};\n\nexport const humanReadableDuration = (duration) => {\n  const { hours, minutes, seconds } = secondsConverter(duration, 'hms');\n  const zeroHours = hours === 0;\n  const zeroMinutes = minutes === 0;\n  if (zeroHours && zeroMinutes) return `${seconds} Sec`;\n\n  const hoursText = zeroHours ? '' : `${hours} Hr`;\n  const minText = zeroMinutes ? '' : `${minutes} Min`;\n  return `${hoursText} ${minText}`.trim();\n};\n\nconst getValueForDurationKey = (key, string) => {\n  const regex = new RegExp(`\\\\d+${key}`);\n  const result = string.match(regex);\n  if (result) {\n    return parseInt(result[0].match(/\\d+/)[0], 10);\n  }\n  return 0;\n};\n\nconst TRIM_REGEXP = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\nexport const isValidDurationString = (duration) => {\n  if (!duration) {\n    return false;\n  }\n\n  let durationString = duration.toString();\n  durationString = durationString.replace(TRIM_REGEXP, '');\n\n  // these two blocks ensures that it fails if the string contains characters other\n  // than digits, h, m, or s\n  if (durationString.match(/[\\dhms]+/) === null || durationString.match(/[hms]+/) === null) {\n    return false;\n  }\n\n  if (durationString.match(/[\\dhms]+/)[0] !== durationString) {\n    return false;\n  }\n\n  if (doMeasuresRepeat(durationString)) {\n    return false;\n  }\n\n  if (!areMeasuresInOrder(durationString)) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const padNumber = (num, length = 0) => {\n  let result = `${num}`;\n  while (result.length < length) {\n    result = `0${result}`;\n  }\n  return result;\n};\n\nexport const secondsConverter = (total, format) => {\n  let hours = 0;\n  let minutes = 0;\n  let seconds = 0;\n\n  const useHours = /h/.test(format);\n  const useMinutes = /m/.test(format);\n\n  if (useHours && total > 0) {\n    hours += Math.floor(total / 3600);\n    total %= 3600;\n  }\n\n  if (useMinutes && total > 0) {\n    minutes += Math.floor(total / 60);\n    total %= 60;\n  }\n\n  seconds = Math.round(total);\n\n  if (useHours && minutes === 60) {\n    hours += 1;\n    minutes = 0;\n  }\n\n  if (useMinutes && seconds === 60) {\n    minutes += 1;\n    seconds = 0;\n  }\n\n  return {\n    hours,\n    minutes,\n    seconds,\n  };\n};\n\nexport const getSecondsRemaining = (start, end) => {\n  const remaining = end.getTime() - start.getTime();\n  return remaining / 1000;\n};\n","import { secondsConverter } from './duration.js';\n\nexport const iso8601TimeToSeconds = (val) => {\n  const stringVal = val.toString() || '';\n\n  let seconds = 0;\n  const multipliers = [1, 60, 3600];\n  const addends = stringVal.split(':').reverse();\n\n  addends.forEach((addend, i) => {\n    seconds += addend * multipliers[i];\n  });\n\n  return Math.abs(parseInt(seconds, 10)) | 0;\n};\n\n// Crude ISO 8601 validation\nexport const isValidIso8601 = (val) => {\n  if (!val || typeof val !== 'string') {\n    return false;\n  }\n\n  const trimRegex = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n  const trimmedVal = val.replace(trimRegex, '');\n\n  if (trimmedVal.match(/[\\d:]+/) === null) {\n    return false;\n  }\n\n  if (trimmedVal.match(/[\\d:]+/)[0] !== trimmedVal) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const secondsToIso8601Date = (seconds) => {\n  const createdAt = new Date(seconds * 1000);\n  const year = createdAt.getFullYear();\n  let month = createdAt.getMonth() + 1;\n  let day = createdAt.getDate();\n\n  if (month < 10) {\n    month = `0${month}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  return `${year}-${month}-${day}`;\n};\n\nexport const secondsToIso8601Duration = (totalSeconds) => {\n  const { hours, minutes, seconds } = secondsConverter(totalSeconds, 'hms');\n\n  let result = '';\n\n  if (hours) {\n    result += `${hours}H`;\n  }\n\n  if (minutes || (totalSeconds > 60 && seconds !== 0)) {\n    result += `${minutes}M`;\n  }\n\n  if (seconds || totalSeconds === 0) {\n    result += `${seconds}S`;\n  }\n\n  return result;\n};\n\nexport const secondsToIso8601Time = (totalSeconds) => {\n  const { hours, minutes, seconds } = secondsConverter(totalSeconds, 'hms');\n\n  const h = hours.toString();\n  const m = minutes.toString();\n  const s = seconds.toString();\n\n  const time = [\n    '00'.substring(h.length) + h,\n    '00'.substring(m.length) + m,\n    '00'.substring(s.length) + s,\n  ];\n\n  return time.join(':');\n};\n","// Logic adapted from this Javascript Color class:\n// https://github.com/moagrius/Color/blob/master/Color.js\n//\n// HSL to RGB logic (broken in Color class) taken from:\n// http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\n\n// ## Regular expressions ##\nconst rHex = /^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i;\nconst rRgb =\n  /^rgba?\\((\\d{1,3}(?:\\.\\d+)?%?),\\s*(\\d{1,3}(?:\\.\\d+)?%?),\\s*(\\d{1,3}(?:\\.\\d+)?%?)(?:,\\s*([01]?\\.?\\d*))?\\)$/;\nconst rPercent = /^\\d+(\\.\\d+)*%$/;\nconst hexBit = /([0-9a-f])/gi;\n\nconst p2v = (p) => {\n  if (rPercent.test(p)) {\n    return parseFloat(p) * 2.55;\n  }\n  return p;\n};\n\nconst hue2rgb = (a, b, c) => {\n  if (c < 0) {\n    c += 1;\n  }\n  if (c > 1) {\n    c -= 1;\n  }\n  if (c < 1 / 6) {\n    return a + (b - a) * 6 * c;\n  }\n  if (c < 1 / 2) {\n    return b;\n  }\n  if (c < 2 / 3) {\n    return a + (b - a) * (2 / 3 - c) * 6;\n  }\n  return a;\n};\n\nclass Color {\n  // ## Constructor ##\n  //\n  // Construct our own color representation either from an\n  // existing color, or a color string.\n  constructor(input) {\n    if (input instanceof Color) {\n      this.r = input.r;\n      this.g = input.g;\n      this.b = input.b;\n      this.a = input.a;\n    } else if (input) {\n      this.parse(input);\n    } else {\n      this.r = this.g = this.b = 0;\n      this.a = 1;\n    }\n  }\n\n  // ## Parse ##\n  //\n  // Accept #RRGGBB, #RRGGBBAA, rgba(R,G,B), or rgba(R,G,B,A) formats.\n  // The rgb formats also allows percents.\n  parse(input) {\n    input = String(input);\n    if (rHex.test(input)) {\n      let stripped = input.replace(/^#/, '');\n      if (stripped.length === 3 || stripped.length === 4) {\n        stripped = stripped.replace(hexBit, '$1$1');\n      }\n      this.r = parseInt(stripped.substr(0, 2), 16);\n      this.g = parseInt(stripped.substr(2, 2), 16);\n      this.b = parseInt(stripped.substr(4, 2), 16);\n      if (stripped.length === 8) {\n        this.a = parseInt(stripped.substr(6, 2), 16) / 255;\n      } else {\n        this.a = 1;\n      }\n    } else if (rRgb.test(input)) {\n      const parts = input.match(rRgb);\n      this.r = parseFloat(p2v(parts[1]));\n      this.g = parseFloat(p2v(parts[2]));\n      this.b = parseFloat(p2v(parts[3]));\n      if (parts[4]) {\n        this.a = parseFloat(parts[4]);\n      } else {\n        this.a = 1;\n      }\n    }\n    return this;\n  }\n\n  clone() {\n    return new Color(this);\n  }\n\n  // Compute internal HSL values based on internal RGB values.\n  _hslFromRgb() {\n    const r = this.r / 255;\n    const g = this.g / 255;\n    const b = this.b / 255;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    const l = (max + min) / 2;\n\n    if (max === min) {\n      this._h = this._s = 0;\n    }\n\n    const d = max - min;\n    let s;\n    if (d === 0) {\n      this._h = 0;\n      this._s = 0;\n      this._l = r * 100;\n      return this;\n    }\n    if (l > 0.5) {\n      s = d / (2 - max - min);\n    } else {\n      s = d / (max + min);\n    }\n\n    let h;\n    if (max === r) {\n      h = (g - b) / d + (g < b ? 6 : 0);\n    } else if (max === g) {\n      h = (b - r) / d + 2;\n    } else {\n      h = (r - g) / d + 4;\n    }\n    h /= 6;\n\n    this._h = h * 360;\n    this._s = s * 100;\n    this._l = l * 100;\n\n    return this;\n  }\n\n  // Compute internal RGB values based on internal HSL values.\n  _rgbFromHsl() {\n    const h = this._h / 360;\n    const s = this._s / 100;\n    const l = this._l / 100;\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n\n    this.r = hue2rgb(p, q, h + 1 / 3) * 255;\n    this.g = hue2rgb(p, q, h) * 255;\n    this.b = hue2rgb(p, q, h - 1 / 3) * 255;\n\n    return this;\n  }\n\n  // Do math to blend a channel with a different value. Alpha is\n  // the strength of the blend.\n  blendChannel(channel, value, alpha) {\n    this[channel] = alpha * value + (1 - alpha) * this[channel];\n    return this;\n  }\n\n  // Blend this color with another color by blending each RGB\n  // channel individually.\n  blend(color, alpha) {\n    color = new Color(color);\n    this.blendChannel('r', color.r, alpha);\n    this.blendChannel('g', color.g, alpha);\n    this.blendChannel('b', color.b, alpha);\n    return this;\n  }\n\n  // Increase a channel by a fixed value, but within the [0,255] range.\n  lightenChannel(channel, steps) {\n    this[channel] += steps;\n    if (this[channel] < 0) {\n      this[channel] = 0;\n    } else if (this[channel] > 255) {\n      this[channel] = 255;\n    }\n    return this;\n  }\n\n  // Lighten this color by increasing each channel by a fixed value.\n  lighten(steps) {\n    if (this.looksLikePercent(steps)) {\n      this.lightness(this.lightness() + parseFloat(steps));\n    } else {\n      this.lightenChannel('r', steps);\n      this.lightenChannel('g', steps);\n      this.lightenChannel('b', steps);\n    }\n    return this;\n  }\n\n  darken(steps) {\n    if (typeof steps === 'string') {\n      return this.lighten(`-${steps}`);\n    }\n    return this.lighten(-steps);\n  }\n\n  looksLikePercent(str) {\n    return /^-?\\d+(\\.\\d+)?%$/.test(str);\n  }\n\n  // Set the lightness of this color by modifying the L value in\n  // HSL, then recomputing the RGB.\n  //\n  // No args gets the current lightness.\n  lightness(l) {\n    this._hslFromRgb();\n    if (l != null) {\n      this._l = Math.max(0, Math.min(100, l));\n      this._rgbFromHsl();\n      return this;\n    }\n    return this._l;\n  }\n\n  // Set the saturation of this color by modifying the S value in\n  // HSL, then recomputing the RGB.\n  //\n  // No args gets the current saturation.\n  saturation(s) {\n    this._hslFromRgb();\n    if (s != null) {\n      this._s = Math.max(0, Math.min(100, s));\n      this._rgbFromHsl();\n      return this;\n    }\n    return this._s;\n  }\n\n  // Gray level accounts for the strength of each individual channel.\n  // This is more visually accurate than just averaging all the channels.\n  grayLevel() {\n    return (0.299 * this.r + 0.587 * this.g + 0.114 * this.b) / 255;\n  }\n\n  // The white level is basically paleness, and is determined by the\n  // minimum of all the RGB channels.\n  whiteLevel() {\n    return Math.min(Math.min(this.r, this.g), this.b);\n  }\n\n  isGrayscale() {\n    return this.r === this.g && this.g === this.b;\n  }\n\n  distanceFrom(color) {\n    return Math.sqrt((this.r - color.r) ** 2 + (this.g - color.g) ** 2 + (this.b - color.b) ** 2);\n  }\n\n  channelDominance() {\n    return ['r', 'g', 'b'].sort((a, b) => this[b] - this[a]);\n  }\n\n  alpha(a) {\n    if (a != null) {\n      this.a = a;\n      return this;\n    }\n    return this.a;\n  }\n\n  red(r) {\n    if (r != null) {\n      this.r = r;\n      return this;\n    }\n    return this.r;\n  }\n\n  green(g) {\n    if (g != null) {\n      this.g = g;\n      return this;\n    }\n    return this.g;\n  }\n\n  blue(b) {\n    if (b != null) {\n      this.b = b;\n      return this;\n    }\n    return this.b;\n  }\n\n  toHex() {\n    let r = Math.round(this.r).toString(16);\n    let g = Math.round(this.g).toString(16);\n    let b = Math.round(this.b).toString(16);\n    if (r.length === 1) {\n      r = `0${r}`;\n    }\n    if (g.length === 1) {\n      g = `0${g}`;\n    }\n    if (b.length === 1) {\n      b = `0${b}`;\n    }\n    return `${r}${g}${b}`;\n  }\n\n  toHexWithAlpha() {\n    let a = Math.round(this.a * 255).toString(16);\n    if (a.length === 1) {\n      a = `0${a}`;\n    }\n    return `${a}${this.toHex()}`;\n  }\n\n  toRgb() {\n    return `rgb(${Math.round(this.r)},${Math.round(this.g)},${Math.round(this.b)})`;\n  }\n\n  toRgba() {\n    return `rgba(${Math.round(this.r)},${Math.round(this.g)},${Math.round(this.b)},${this.a})`;\n  }\n\n  toRgbaOrHex() {\n    return this.toRgba();\n  }\n\n  toPercent() {\n    return `rgba(${(this.r / 255) * 100}%,${(this.g / 255) * 100}%,${(this.b / 255) * 100}%,${\n      this.a\n    })`;\n  }\n\n  // IE8 and below don't support RGBA, but we can use this gradient hack to\n  // do the same thing. The catch is that it functions as a background image\n  // instead of a color, and therefore overrides other background images in IE.\n  //\n  // This should go after a `filter` CSS property.\n  toIeGradient() {\n    return `progid:DXImageTransform.Microsoft.gradient(startColorStr='#${this.toHexWithAlpha()}', endColorStr='#${this.toHexWithAlpha()}')`;\n  }\n\n  toString() {\n    return this.toPercent();\n  }\n}\n\nexport default Color;\n","import { getLocalStorage, updateLocalStorage } from 'utilities/namespacedLocalStorage.js';\n\nconst BASICALLY_ENDED_THRESHOLD = 5;\nconst DURATION_THRESHOLD = 300;\nconst NEAR_BEGINNING_THRESHOLD = 10;\n\nexport const getLocalStorageKey = (hashedId) => {\n  return `wistia-video-progress-${hashedId}`;\n};\n\nexport const getLastTime = (hashedId) => {\n  return getLocalStorage(getLocalStorageKey(hashedId)).lastTime;\n};\n\nexport const setLastTime = (hashedId, time) => {\n  updateLocalStorage(getLocalStorageKey(hashedId), (obj) => {\n    obj.lastTime = time;\n  });\n};\n\nexport const getResumableKeyForVideo = (hashedId) => {\n  return getLocalStorage(getLocalStorageKey(hashedId)).resumableKey;\n};\n\nexport const setResumableKeyForVideo = (hashedId, key) => {\n  updateLocalStorage(getLocalStorageKey(hashedId), (obj) => {\n    obj.resumableKey = key;\n  });\n};\n\nexport const atOrNearEnd = (hashedId, duration) => {\n  return (getLastTime(hashedId) || 0) + BASICALLY_ENDED_THRESHOLD > duration;\n};\n\nexport const atOrNearBeginning = (hashedId) => {\n  const time = getLastTime(hashedId) || 0;\n  return time < NEAR_BEGINNING_THRESHOLD;\n};\n\nexport const shorterThanResumableThreshold = (duration) => {\n  return duration < DURATION_THRESHOLD;\n};\n\nexport const withinResumableTime = (hashedId, duration) => {\n  return !atOrNearBeginning(hashedId) && !atOrNearEnd(hashedId, duration);\n};\n","import { h, render, Component } from 'preact';\n\nclass ProgressIndicator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filledWidth: 0,\n      isDisplayNone: true,\n      isOpaque: false,\n      widthTransitionShouldDelay: true,\n    };\n  }\n\n  componentDidMount() {\n    this.maybeFadeInOrOut();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { isVisible: wasVisible } = prevProps;\n    this.maybeFadeInOrOut(wasVisible);\n\n    const { filledWidth: prevFilledWidth } = prevState;\n    this.maybeChangeFilledWidth(prevFilledWidth);\n  }\n\n  fadeIn() {\n    const { isVisible } = this.props;\n    clearTimeout(this.fadeTimeout);\n    this.setState({ isDisplayNone: false }, () => {\n      if (!isVisible) {\n        return;\n      }\n      this.fadeTimeout = setTimeout(() => {\n        if (!isVisible) {\n          return;\n        }\n        requestAnimationFrame(() => {\n          this.setState({ isOpaque: true });\n        });\n      }, 0);\n    });\n  }\n\n  fadeOut() {\n    const { isVisible } = this.props;\n    clearTimeout(this.fadeTimeout);\n    this.setState({ isOpaque: false }, () => {\n      if (isVisible) {\n        return;\n      }\n      this.fadeTimeout = setTimeout(() => {\n        if (isVisible) {\n          return;\n        }\n        this.setState({ isDisplayNone: true });\n      }, 200);\n    });\n  }\n\n  filledBarStyle() {\n    const { widthTransitionShouldDelay, filledWidth } = this.state;\n    const { color } = this.props;\n    return {\n      backgroundColor: `#${color}`,\n      height: '100%',\n      transition: `width 500ms ease-out ${widthTransitionShouldDelay ? '500ms' : ''}`,\n      width: `${filledWidth}%`,\n    };\n  }\n\n  maybeFadeInOrOut(wasVisible) {\n    const { isVisible } = this.props;\n    if (isVisible !== wasVisible) {\n      if (isVisible) {\n        this.fadeIn();\n      } else {\n        this.fadeOut();\n      }\n    }\n  }\n\n  maybeChangeFilledWidth(prevFilledWidth) {\n    const { percentWatched } = this.props;\n    if (percentWatched != null && percentWatched !== prevFilledWidth) {\n      // This timeout & raf combo ensures that the filled bar's transition from 0 will happen\n      setTimeout(() => {\n        requestAnimationFrame(() => {\n          this.setState({\n            filledWidth: percentWatched,\n          });\n        });\n      }, 0);\n    }\n  }\n\n  removeTransitionDelay() {\n    this.setState({ widthTransitionShouldDelay: false });\n  }\n\n  unfilledBarStyle() {\n    const { isDisplayNone, isOpaque } = this.state;\n    return {\n      backgroundColor: '#ffffff',\n      bottom: 0,\n      display: isDisplayNone ? 'none' : '',\n      height: isOpaque ? `${6 * this.props.scale}px` : 0,\n      opacity: isOpaque ? 0.8 : 0,\n      transition: 'opacity 1s, height .5s',\n      width: '100%',\n    };\n  }\n\n  render() {\n    return (\n      <div style={this.unfilledBarStyle()}>\n        <div\n          onTransitionEnd={() => this.removeTransitionDelay()}\n          style={this.filledBarStyle()}\n        ></div>\n      </div>\n    );\n  }\n}\n\nexport default ProgressIndicator;\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport { globalEventLoop } from 'utilities/event_loop.js';\n\n(function (W) {\n  if (W._initializers != null ? W._initializers.initEventLoop : undefined) {\n    return;\n  }\n\n  W._initializers.initEventLoop = () =>\n    // This will set W.eventLoop if it's not set already.\n    (W.eventLoop = globalEventLoop);\n\n  return (W._destructors.destroyEventLoop = function () {\n    if (W.eventLoop != null) {\n      W.eventLoop.stop();\n    }\n    return (W.eventLoop = null);\n  });\n})(window.Wistia);\n","(function(Wistia) {\n  var Judy, TranslationApi, W, assign, countMetric, createAndSetupWebComponent, dynamicImport, fetchMedia, handleReceivedMediaData, mediaDataTransforms, mediaFromCache, merge, optionsFromElemClass, ref, setEmbedOptionStore, translateEmbedOptionKeyValuePairForWebComponent;\n  W = Wistia;\n  if (W.embed) {\n    return;\n  }\n  Judy = require('utilities/judy.js');\n  ref = require('utilities/media_data.js'), fetchMedia = ref.fetchMedia, mediaFromCache = ref.mediaFromCache;\n  mediaDataTransforms = require('utilities/media-data-transforms.js').mediaDataTransforms;\n  merge = require('utilities/obj.js').merge;\n  assign = require('utilities/assign.js')[\"default\"];\n  dynamicImport = require('utilities/dynamicImport.ts').dynamicImport;\n  countMetric = require('utilities/simpleMetrics.js').countMetric;\n  optionsFromElemClass = require('utilities/optionsFromElemClass.ts').optionsFromElemClass;\n  setEmbedOptionStore = require('utilities/embedOptionStore.ts').setEmbedOptionStore;\n  TranslationApi = require('../players/AuroraPlayer/translationApi.ts').TranslationApi;\n  W._embed = {};\n  W.embed = function(media, options) {\n    var apiHandle, containerId, domOptions, hashedId, originalContainer, ref1, ref2, transformOptions, wistiaPlayerComponent;\n    if (options == null) {\n      options = {};\n    }\n    W.info('Wistia.embed', media, options);\n    if (typeof W.flushInitQueue === \"function\") {\n      W.flushInitQueue();\n    }\n    if (typeof media === 'string') {\n      hashedId = media;\n    } else if (media.type && media.type === 'ab-test') {\n      hashedId = media.hashedId;\n      [media.control, media.variant].filter(Boolean).forEach(function(mediaResp) {\n        return handleReceivedMediaData(mediaResp, options);\n      });\n      W.cacheAbTest(media.hashedId, media);\n    } else {\n      hashedId = media.hashedId;\n      transformOptions = merge({}, media.embedOptions, options);\n      mediaDataTransforms(media, transformOptions);\n      W.cacheMedia(hashedId, media);\n    }\n    if (options.container) {\n      if (typeof options.container === 'string') {\n        originalContainer = document.getElementById(options.container);\n      } else {\n        originalContainer = options.container;\n        countMetric('legacy/embed-with-container', 1, {\n          hashedId: hashedId,\n          url: window.location.href\n        });\n      }\n    } else if (media.container) {\n      if (typeof media.container === 'string') {\n        originalContainer = document.getElementById(options.container);\n      } else {\n        originalContainer = media.container;\n        countMetric('legacy/embed-with-container', 1, {\n          hashedId: hashedId,\n          url: window.location.href\n        });\n      }\n    } else {\n      containerId = \"wistia_\" + hashedId;\n      originalContainer = document.getElementById(containerId);\n    }\n    domOptions = optionsFromElemClass(originalContainer);\n    if (domOptions.useWebComponent || ((ref1 = mediaFromCache(hashedId)) != null ? (ref2 = ref1.embedOptions) != null ? ref2.useWebComponent : void 0 : void 0)) {\n      wistiaPlayerComponent = createAndSetupWebComponent(hashedId, Object.assign({}, options, domOptions));\n      wistiaPlayerComponent.originalContainer = originalContainer;\n      wistiaPlayerComponent.originalContainer._convertingToAurora = true;\n      wistiaPlayerComponent.id = wistiaPlayerComponent.originalContainer.id;\n      wistiaPlayerComponent.originalContainer.removeAttribute('id');\n      originalContainer.append(wistiaPlayerComponent);\n      wistiaPlayerComponent.api.translationApi;\n      return setEmbedOptionStore(\"__\" + wistiaPlayerComponent.id + \"_dom_options__\", domOptions);\n    } else {\n      apiHandle = new W.PublicApi(hashedId, options);\n      return apiHandle;\n    }\n  };\n  createAndSetupWebComponent = function(hashedId, options) {\n    var webComponent;\n    webComponent = document.createElement('wistia-player');\n    webComponent.setAttribute('media-id', hashedId);\n    Object.entries(options).forEach(function(arg) {\n      var key, ref1, translatedKey, translatedValue, val;\n      key = arg[0], val = arg[1];\n      ref1 = translateEmbedOptionKeyValuePairForWebComponent(key, val), translatedKey = ref1[0], translatedValue = ref1[1];\n      return webComponent[translatedKey] = translatedValue;\n    });\n    return webComponent;\n  };\n  translateEmbedOptionKeyValuePairForWebComponent = function(key, value) {\n    var translatedKey, translatedValue;\n    translatedKey = key;\n    translatedValue = value;\n    switch (key) {\n      case 'autoPlay':\n        translatedKey = 'autoplay';\n        break;\n      case 'controlsVisibleOnLoad':\n        translatedKey = 'hideControlsOnLoad';\n        translatedValue = !value;\n        break;\n      case 'copyLinkAndThumbnailEnabled':\n        translatedKey = 'hideCopyLinkAndThumbnail';\n        translatedValue = !value;\n        break;\n      case 'fullscreenButton':\n        translatedKey = 'fullscreenControl';\n        break;\n      case 'fullscreenOnRotateToLandscape':\n        translatedKey = 'disableFullscreenOnRotateToLandscape';\n        translatedValue = !value;\n        break;\n      case 'playbar':\n        translatedKey = 'playBarControl';\n        break;\n      case 'playButton':\n        translatedKey = 'bigPlayButton';\n        break;\n      case 'preload':\n        if (typeof value === Boolean && value === true) {\n          translatedValue = 'auto';\n        }\n        if (typeof value === Boolean && value === false) {\n          translatedValue = 'none';\n        }\n        break;\n      case 'silentAutoPlay':\n        translatedKey = 'silentAutoplay';\n        break;\n      case 'smallPlayButton':\n        translatedKey = 'playPauseControl';\n        break;\n      case 'stillUrl':\n        translatedKey = 'poster';\n        break;\n      case 'wmode':\n        translatedKey = 'transparentLetterbox';\n        if (value === 'transparent') {\n          translatedValue = true;\n        }\n        break;\n    }\n    return [translatedKey, translatedValue];\n  };\n  W.embedEngine = function(container, media, options, judyContext) {\n    var hashedId;\n    if (options == null) {\n      options = {};\n    }\n    if (judyContext == null) {\n      judyContext = {};\n    }\n    if (typeof media === 'string') {\n      hashedId = media;\n    } else {\n      hashedId = media.hashedId;\n    }\n    return new Promise(function(resolve) {\n      var doEmbed;\n      doEmbed = function(mediaData) {\n        var ctx, enginePath;\n        ctx = Judy.buildContext(judyContext);\n        enginePath = Judy.bestUsableEngine(ctx, mediaData, options);\n        return dynamicImport(\"assets/external/\" + enginePath).then(function(mod) {\n          var EngineClass, engine;\n          EngineClass = mod[\"default\"];\n          engine = new EngineClass(container, mediaData, merge({\n            duration: mediaData.duration\n          }, options));\n          return resolve(engine);\n        });\n      };\n      if (typeof media === 'string') {\n        return fetchMedia(hashedId, function(mediaData) {\n          mediaDataTransforms(mediaData, options);\n          W.cacheMedia(hashedId, mediaData);\n          return doEmbed(mediaData);\n        }, assign({}, options, {\n          errorCallback: (function(_this) {\n            return function() {\n              return countMetric('player/failure/embed-failed');\n            };\n          })(this)\n        }));\n      } else {\n        return doEmbed(media);\n      }\n    });\n  };\n  return handleReceivedMediaData = function(m, options) {\n    mediaDataTransforms(m.media, options);\n    return W.cacheMedia(m.media.hashedId, m.media);\n  };\n})(Wistia);\n","import Wistia from 'wistia_namespace.js';\nimport { cast, clone, except, getDeep, indexOf, merge } from 'utilities/obj.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { count } from 'utilities/metrics.js';\nimport { setOrGet as wlocalstorage } from 'utilities/legacyLocalstorage.js';\nimport root from 'utilities/root.js';\nimport { wlog as wlogRaw } from 'utilities/wlog.js';\nimport {\n  filter,\n  READY,\n  readyPublicMp4s,\n  readyPublicM3u8s,\n  readyPublicMp3s,\n  nonfailedPublicOver400,\n  readyPublicOver400,\n} from './assets.js';\n\nconst wlog = wlogRaw.getPrefixedFunctions('judy');\n\nconst AUTO = 'auto';\nconst EXTERNAL = 'external';\nconst HLS_VIDEO = 'hlsVideo';\nconst HTML5 = 'html5';\nconst MANUAL_QUALITY_VIDEO = 'manualQualityVideo';\nconst NATIVE_HLS_VIDEO = 'nativeHlsVideo';\nconst NOT_PLAYABLE = 'notplayable';\nconst PASSWORD_PROTECTED = 'passwordprotected';\nconst SIMPLE_HTML5 = 'simplehtml5';\nconst TWO_STROKE_VIDEO = 'twoStrokeVideo';\nconst VULCAN_V2 = 'vulcan-v2';\nconst SPHERICAL_VIDEO = 'sphericalVideo';\nconst PLAYERS = [VULCAN_V2, HTML5, SIMPLE_HTML5, EXTERNAL, NOT_PLAYABLE, PASSWORD_PROTECTED];\n\nexport const PLUGIN_CONFIGS = {\n  notPlayableVideo: {\n    on: true,\n    initBeforeHasData: true,\n    async: false,\n    loadWeight: -1,\n  },\n  vulcanV2Player: {\n    on: true,\n    initBeforeHasData: false,\n    async: false,\n    loadWeight: -1,\n  },\n  hlsVideo: {\n    on: true,\n    initBeforeHasData: false,\n    async: false,\n    loadWeight: 0,\n  },\n  nativeHlsVideo: {\n    on: true,\n    initBeforeHasData: false,\n    async: false,\n    loadWeight: 0,\n  },\n  passwordProtectedVideo: {\n    on: true,\n    initBeforeHasData: true,\n    async: false,\n    loadWeight: -1,\n  },\n  encodingProgress: {\n    on: true,\n    initBeforeHasData: false,\n    async: true,\n    loadWeight: 100,\n  },\n  externalPlayer: {\n    on: true,\n    initBeforeHasData: false,\n    async: false,\n    loadWeight: -1,\n  },\n  html5Player: {\n    on: true,\n    initBeforeHasData: false,\n    async: false,\n    loadWeight: -1,\n  },\n};\n\nexport const bestPlayer = (context, mediaData, embedOptions) => {\n  const { detect, logger } = context;\n\n  const assets = mediaData.assets;\n\n  const isSpherical = isSphericalVideo({ mediaData, options: embedOptions }, detect);\n\n  if (detect.oldandroid) {\n    logger.info('external on old android');\n    return EXTERNAL;\n  }\n  if (canUsePlayer(context, VULCAN_V2, assets) && isSpherical) {\n    logger.info('default, ret', VULCAN_V2);\n    return VULCAN_V2;\n  }\n  if (canUsePlayer(context, VULCAN_V2, assets)) {\n    logger.info('default, ret', VULCAN_V2);\n    return VULCAN_V2;\n  }\n  if (mediaData.mediaType === 'Audio' || mediaData.mediaType === 'LiveStream') {\n    // audio and lives are only supported with vulcan_v2\n    return VULCAN_V2;\n  }\n  if (canUsePlayer(context, HTML5, assets)) {\n    logger.info('default, ret', HTML5);\n    return HTML5;\n  }\n  logger.info('nothing left, use', EXTERNAL);\n  // Everything supports external, but nobody likes it. It's just an image\n  // and a link to an mp4 file.\n  return EXTERNAL;\n};\n\nexport const bestUsableEngine = (context, mediaData, options = {}) => {\n  const { detect, logger } = context;\n  logger.info('bestUsableEngineClass');\n  const allowHls = shouldServeHls(context, mediaData, options);\n\n  const isSpherical = isSphericalVideo(\n    {\n      mediaData,\n      options,\n    },\n    detect,\n  );\n\n  if (options.engine) {\n    return options.engine;\n  }\n\n  if (isSpherical) {\n    logger.info(SPHERICAL_VIDEO);\n    return 'engines/spherical_video.js';\n  }\n\n  if (mediaData.mediaType === 'Audio') {\n    return 'engines/simple_audio.js';\n  }\n\n  if (isTwoStrokeVideo(mediaData)) {\n    logger.info(TWO_STROKE_VIDEO);\n    return 'engines/two_stroke_video.js';\n  }\n\n  if (options.secondaryVideoUrl) {\n    logger.info(TWO_STROKE_VIDEO);\n    return 'engines/two_stroke_video.js';\n  }\n\n  if (allowHls && detect.nativeHls) {\n    logger.info(NATIVE_HLS_VIDEO);\n    return 'engines/native_hls_video.js';\n  }\n\n  if (allowHls) {\n    logger.info(HLS_VIDEO);\n    return 'engines/hls_video.js';\n  }\n\n  logger.info(MANUAL_QUALITY_VIDEO);\n  return 'engines/manual_quality_video.js';\n};\n\n// Given a media data blob and options--and assuming all engine scripts have\n// been loaded--return the engine class that we should initialize.\nexport const bestUsableEngineClass = (context, mediaData, options = {}) => {\n  const { detect, logger } = context;\n  logger.info('bestUsableEngineClass');\n  const allowHls = shouldServeHls(context, mediaData, options);\n\n  const engines = Wistia.engines || {};\n\n  if (mediaData.mediaType === 'Audio') {\n    return engines.SimpleAudio;\n  }\n\n  if (isTwoStrokeVideo(mediaData) && engines.TwoStrokeVideo) {\n    logger.info(TWO_STROKE_VIDEO);\n    return engines.TwoStrokeVideo;\n  }\n\n  if (options.secondaryVideoUrl && engines.TwoStrokeVideo) {\n    logger.info(TWO_STROKE_VIDEO);\n    return engines.TwoStrokeVideo;\n  }\n\n  if (allowHls && detect.nativeHls && engines.NativeHlsVideo) {\n    logger.info(NATIVE_HLS_VIDEO);\n    return engines.NativeHlsVideo;\n  }\n\n  if (allowHls && engines.HlsVideo) {\n    logger.info(HLS_VIDEO);\n    return engines.HlsVideo;\n  }\n\n  logger.info(MANUAL_QUALITY_VIDEO);\n  return engines.ManualQualityVideo;\n};\n\nexport const buildContext = (overrides = {}) => {\n  const pageUrl = contextUrl(overrides);\n  return { ...getDefaultContext(), ...overrides, pageUrl };\n};\n\nexport const canPlayInline = (context) => {\n  const { detect } = context;\n  return detect.android || detect.ios.version >= 10;\n};\n\nexport const canUsePlayer = (context, player, assets) => {\n  return isSupportedPlayer(context, player) && hasAssetsForPlayer(context, player, assets);\n};\n\nexport const choosePlayer = (context, mediaData, embedOptions) => {\n  const { detect } = context;\n  const { logger } = context;\n  const { assets } = mediaData;\n  let { playerForce } = embedOptions;\n\n  logger.info('choosePlayer input', mediaData.hashedId);\n\n  // This can be falsey if there is no specific player preference. Users may\n  // also pass in \"auto\" to be explicit, which means there should be no\n  // preference.\n  let playerPreference = determinePlayerPreferenceFromInput(context, mediaData, embedOptions);\n\n  // Loudly error but don't die if given invalid input.\n  if (playerForce && !isValidPlayer(context, playerForce)) {\n    logger.error(`Invalid playerForce option: \"${playerForce}\", ignoring`);\n    playerForce = null;\n  }\n  if (playerPreference && playerPreference !== AUTO && !isValidPlayer(context, playerPreference)) {\n    logger.error(`Invalid playerPreference option: \"${playerPreference}\", ignoring`);\n    playerPreference = AUTO;\n  }\n\n  logger.info('playerPreference is', playerPreference);\n\n  if (playerForce) {\n    // This is really only used when testing.\n    logger.info('\"playerForce\" used, return', playerForce);\n    return playerForce;\n  }\n  if (isPasswordProtected(context, embedOptions)) {\n    // the video is marked as being password protected. it's expected that the\n    // password protected player, upon a successful password entry, changes an\n    // option and is replaced such that isPasswordProtected() returns false.\n    logger.info('return', PASSWORD_PROTECTED);\n    return PASSWORD_PROTECTED;\n  }\n  if (isNotPlayable(context, mediaData)) {\n    // We can generate embed codes before a video can actually be played. If we\n    // can't field any kind of player, we want to embed NOT_PLAYABLE instead,\n    // which shows upload and encoding progress, then re-embeds as a \"real\"\n    // player once it reaches 100%.\n    logger.info('return', NOT_PLAYABLE);\n    return NOT_PLAYABLE;\n  }\n  if (playerPreference !== AUTO && canUsePlayer(context, playerPreference, assets)) {\n    const isSpherical = isSphericalVideo({ mediaData, options: embedOptions }, detect);\n    if (playerPreference !== VULCAN_V2 && isSpherical) {\n      logger.info(\"this player doesn't support spherical, return\", VULCAN_V2);\n      return VULCAN_V2;\n    }\n    // Hooray! The customer has chosen a preference that we can actually use.\n    // Let's use it.\n    logger.info('\"playerPreference\" used, return', playerPreference);\n    return playerPreference;\n  }\n  // Okay, we are not being compelled to use any particular player. Choose\n  // the best one that we can support.\n  logger.info('choosing player with no preference');\n  return bestPlayer(context, mediaData, embedOptions);\n};\n\n// return the url to use for building up the Judy context.\nconst contextUrl = (opts = {}) => {\n  if (opts.pageUrl) {\n    return opts.pageUrl;\n  }\n\n  if (Object(window.FreshUrl).originalUrl) {\n    return window.FreshUrl.originalUrl;\n  }\n\n  if (window.top === window.self) {\n    return location.href || '';\n  }\n\n  return document.referrer || '';\n};\n\nexport const determinePlayerPreferenceFromInput = (context, mediaData, embedOptions) => {\n  // platformPreference is a legacy option. It used to have difference\n  // semantics as playerPreference, but let's treat it the same now.\n  const playerPreference = embedOptions.playerPreference || embedOptions.platformPreference;\n\n  if (playerPreference && playerPreference !== AUTO) {\n    if (playerPreference === HTML5) {\n      if (isMobile(context)) {\n        return HTML5;\n      }\n      return VULCAN_V2;\n    }\n    if (playerPreference === SIMPLE_HTML5) {\n      // Because \"html5\" is an overloaded term on desktop, we add this other one\n      // so we can more easily test the simple/mobile html5 player.\n      return HTML5;\n    }\n    return playerPreference;\n  }\n  // no preference was specified\n  return AUTO;\n};\n\n// the browser can support hlsjs or native HLS\nexport const doesBrowserSupportHlsTools = (detect) => {\n  const hasPromise = Boolean(window.Promise);\n\n  return (detect.mediaSource || detect.nativeHls) && hasPromise;\n};\n\n// Given a media data blob and options, return _all_ engines and sub-engines\n// that will need to be loaded. This is how we determine which scripts to load.\nexport const enginesToLoad = (context, mediaData, options = {}) => {\n  const { detect, logger } = context;\n  let engineNames = [];\n\n  logger.info('enginesToLoad');\n\n  const allowHls = shouldServeHls(context, mediaData, options);\n  if (allowHls && detect.nativeHls) {\n    logger.info(NATIVE_HLS_VIDEO);\n    engineNames.push(NATIVE_HLS_VIDEO);\n  } else if (allowHls) {\n    logger.info(HLS_VIDEO);\n    engineNames.push(HLS_VIDEO);\n  } else {\n    logger.info(MANUAL_QUALITY_VIDEO);\n    engineNames.push(MANUAL_QUALITY_VIDEO);\n  }\n\n  const isSpherical = isSphericalVideo({ mediaData, options }, detect);\n\n  if (isSpherical) {\n    engineNames.push(SPHERICAL_VIDEO);\n    logger.info(SPHERICAL_VIDEO);\n  }\n\n  if (isTwoStrokeVideo(mediaData)) {\n    logger.info(TWO_STROKE_VIDEO);\n    engineNames.push(TWO_STROKE_VIDEO);\n\n    // recursively add more engines based on the secondaryMediaData option.\n    const secondaryOptions = except(options, ['twoStroke']);\n    const secondaryMediaData = mediaData.secondaryMediaData;\n    const secondaryEnginesToLoad = enginesToLoad(context, secondaryMediaData, secondaryOptions);\n    engineNames = engineNames.concat(secondaryEnginesToLoad);\n  } else if (options.secondaryVideoUrl) {\n    logger.info('secondaryVideoUrl', TWO_STROKE_VIDEO);\n    engineNames.push(TWO_STROKE_VIDEO);\n  }\n\n  // Make sure engine names are unique in this array.\n  const tmpHash = {};\n  engineNames.forEach((engineName) => {\n    tmpHash[engineName] = true;\n  });\n  const result = [];\n  for (let engineName in tmpHash) {\n    result.push(engineName);\n  }\n\n  return result;\n};\n\nlet cachedDefaultContext;\nexport const getDefaultContext = () => {\n  if (cachedDefaultContext) {\n    return cachedDefaultContext;\n  }\n\n  cachedDefaultContext = {\n    detect: clone(cachedDetect()),\n    inIframe: top !== self,\n    location: window.location,\n    logger: wlog,\n    pageUrl: location.href,\n    silenceGlobalWarnings: root.wistiaSilenceGlobalWarnings,\n    userAgent: navigator.userAgent,\n  };\n\n  return cachedDefaultContext;\n};\n\nconst getPluginConfig = (context, pluginName) => {\n  const result = {};\n  result[pluginName] = PLUGIN_CONFIGS[pluginName];\n  return result;\n};\n\nexport const hasAssetsForPlayer = (context, player, assets) => {\n  if (!isValidPlayer(context, player)) {\n    return false;\n  }\n\n  if (player === NOT_PLAYABLE || player === PASSWORD_PROTECTED) {\n    // No special asset requirements for these.\n    return true;\n  }\n  if (player === VULCAN_V2) {\n    return hasReadyVideoAssets(assets) || hasReadyAudioAssets(assets);\n  }\n  if (player === HTML5) {\n    return readyPublicMp4s(assets).length > 0;\n  }\n  if (player === EXTERNAL) {\n    return readyPublicMp4s(assets).length > 0;\n  }\n  throw new Error(`Unhandled player type '${player}'`);\n};\n\nconst hasReadyVideoAssets = (assets) => {\n  return readyPublicMp4s(assets).length > 0 || readyPublicM3u8s(assets).length > 0;\n};\n\nconst hasReadyAudioAssets = (assets) => {\n  return readyPublicMp3s(assets).length > 0;\n};\n\nexport const hasEnoughReadyMp4Assets = (assets) => {\n  const mp4Assets = filter(assets, {\n    container: 'mp4',\n    metadata: (m) => {\n      return m && m.max_bitrate;\n    },\n    public: true,\n    sortBy: 'width desc',\n    status: READY,\n    type: /\\b(?!captioned_video)\\S+/, // no burned in captions\n  });\n\n  // ensure that we have at least one asset at or above 400 width. This prevents\n  // using HLS from using too low quality an asset, say in the scenario where\n  // the other assets are still being processed.\n  const hasAssetWithBitRateAndSize = Boolean(mp4Assets[0] && mp4Assets[0].width >= 400);\n  return hasAssetWithBitRateAndSize;\n};\n\nexport const hasSupportedHlsAssets = (mediaData) => {\n  if (!hasEnoughReadyMp4Assets(mediaData.assets)) {\n    count('player/originV2/media-has-no-metadata', 1, { hashedId: mediaData.hashedId });\n  }\n  return hasEnoughReadyMp4Assets(mediaData.assets);\n};\n\nconst hlsOverrideValue = ({ pageUrl }, embedOptions) => {\n  const paramVal = hlsQueryParamValue(pageUrl);\n  if (paramVal != null) {\n    return paramVal;\n  }\n\n  const localStorageVal = wlocalstorage('forceHls');\n  if (localStorageVal != null) {\n    return localStorageVal;\n  }\n\n  return embedOptions.hls;\n};\n\nconst hlsQueryParamValue = (pageUrl) => {\n  const match = pageUrl && pageUrl.match && pageUrl.match(/[&?]whls=([^&]+)/);\n  const val = match && match[1];\n  if (val != null) {\n    return cast(val);\n  }\n  return null;\n};\n\n// Chromecast doesn't work with hlsjs because it only understands a src\n// that can be referenced externally. And playsinline=false or\n// nativeMode=true is our signal to use something close to a native player.\nexport const isBrowserInNativeAndroid = (detect, embedOptions) => {\n  return detect.android && (embedOptions.playsinline === false || embedOptions.nativeMode === true);\n};\n\n// chrome 49 and earlier (the last supported version on Win XP/Vista) does\n// not support MSE well enough for hls.js.\nexport const isBrowserOldChrome = (detect) => {\n  return detect.chrome && parseInt(detect.chrome.version, 10) < 50;\n};\n\nexport const isHlsEnabled = (context, mediaData, embedOptions) => {\n  // always prefer the hls override value if it is present, regardless of the\n  // hls_enabled value\n  const overrideValue = hlsOverrideValue(context, embedOptions);\n  if (overrideValue === true || overrideValue === false) {\n    return overrideValue;\n  }\n\n  if (mediaData.hls_enabled === false) {\n    return false;\n  }\n  return true;\n};\n\nexport const isMobile = ({ detect }) => {\n  return detect.iphone || detect.ipad || detect.android;\n};\n\nexport const isNotPlayable = (context, mediaData) => {\n  const assets = mediaData.assets;\n\n  const assetsArentReady =\n    mediaData.type === 'Audio'\n      ? readyPublicMp3s(assets).length == 0\n      : readyPublicMp4s(assets).length == 0;\n\n  // LiveStreams won't have ready assets, but that does not mean we're in an\n  // unplayable position.\n  if (mediaData.mediaType === 'LiveStream') {\n    return false;\n  }\n\n  return (\n    assets.length === 0 ||\n    (assets.length === 1 && assets[0].type === 'original') ||\n    assetsArentReady ||\n    (nonfailedPublicOver400(assets).length > 0 && readyPublicOver400(assets).length === 0) ||\n    (isTwoStrokeVideo(mediaData) && isNotPlayable(context, mediaData.secondaryMediaData))\n  );\n};\n\nexport const isPasswordProtected = (context, embedOptions) => {\n  const pluginOpts = getDeep(embedOptions, 'plugin.passwordProtectedVideo');\n  return pluginOpts != null && pluginOpts.on !== false;\n};\n\nconst isSphericalVideo = (mediaInfo = {}) => {\n  if (mediaInfo.options.overrideSpherical) {\n    return false;\n  }\n\n  const mediaDataSpherical = String(mediaInfo.mediaData?.spherical);\n  const optsSpherical = String(mediaInfo.opts?.spherical);\n\n  return mediaDataSpherical === 'true' || optsSpherical === 'true';\n};\n\nexport const isSupportedPlayer = (context, player) => {\n  if (!isValidPlayer(context, player)) {\n    return false;\n  }\n  return indexOf(supportedPlayers(context), player) >= 0;\n};\n\nconst isTwoStrokeVideo = (mediaData) => {\n  return !!mediaData.secondaryMediaData;\n};\n\nexport const isValidPlayer = (context, player) => {\n  return indexOf(PLAYERS, player) >= 0;\n};\n\nexport const logWarnings = (context) => {\n  const { detect, userAgent, logger, silenceGlobalWarnings } = context;\n\n  if (silenceGlobalWarnings) {\n    // Customers can set window.wistiaSilenceGlobalWarnings = true, and that\n    // will be included in the default judy context.\n    return;\n  }\n\n  const isHeadless = /phantomjs/i.test(userAgent);\n  if (xhrHasBeenTamperedWith()) {\n    if (!isHeadless) {\n      logger.error(\n        'The XMLHttpRequest constructor has been tampered with. Because this affects CORS/Range XHR requests, HLS playback has been disabled. To enable HLS playback and other important features, please remove code that changes the definition of window.XMLHttpRequest.',\n      );\n    }\n  }\n\n  if (urlHasBeenTamperedWith()) {\n    if (detect.mediaSource && !isHeadless) {\n      logger.error(\n        'window.URL.createObjectURL has been tampered with. Because this affects use of Media Source Extensions, HLS playback has been disabled. window.URL is a browser API that should not be clobbered. Its current value is:',\n        window.URL,\n      );\n    }\n  }\n};\n\nexport const playerPlugins = (context, player, mediaData, embedOptions) => {\n  const { logger } = context;\n  const plugins = {};\n\n  logger.info('playerPlugins input', player, mediaData.hashedId, mediaData, embedOptions);\n\n  if (player === NOT_PLAYABLE) {\n    merge(plugins, getPluginConfig(context, 'notPlayableVideo'));\n  } else if (player === PASSWORD_PROTECTED) {\n    merge(plugins, getPluginConfig(context, 'passwordProtectedVideo'));\n  } else if (player === HTML5) {\n    merge(plugins, getPluginConfig(context, 'html5Player'));\n  } else if (player === EXTERNAL) {\n    merge(plugins, getPluginConfig(context, 'externalPlayer'));\n  } else if (player === VULCAN_V2) {\n    merge(plugins, getPluginConfig(context, 'vulcanV2Player'));\n  }\n\n  const pluginNames = [];\n  for (let k in plugins) {\n    pluginNames.push(k);\n  }\n  logger.info('playerPlugins output', ...pluginNames, plugins);\n\n  return plugins;\n};\n\nexport const report = (context, mediaData, embedOptions) => {\n  return {\n    bestPlayer: bestPlayer(context, mediaData, embedOptions),\n    playerPreferenceFromInput: determinePlayerPreferenceFromInput(context, mediaData, embedOptions),\n    supportedPlayers: supportedPlayers(context),\n    usablePlayers: usablePlayers(context, mediaData.assets),\n  };\n};\n\nexport const shouldServeHls = (context, mediaData, embedOptions) => {\n  // start by forcing HLS when the type is livestream, but later\n  // refactor things such that NotPlayablePlayer is used if we can't handle\n  // live\n  if (mediaData.type === 'LiveStream') {\n    return true;\n  }\n  const { detect } = context;\n  return (\n    doesBrowserSupportHlsTools(detect) &&\n    !isBrowserOldChrome(detect) &&\n    !isBrowserInNativeAndroid(detect, embedOptions) &&\n    // the account has hls enabled or explicitly trying to force\n    isHlsEnabled(context, mediaData, embedOptions) &&\n    // the media actually has desktop assets compatable with the delivery system\n    hasSupportedHlsAssets(mediaData) &&\n    // Some sites completely replace the XMLHttpRequest constructor with one\n    // that doesn't work with hls.js. If we detect that, don't use HLS\n    // (...unless we explicitly say to try it.)\n    ((!xhrHasBeenTamperedWith(context) && !urlHasBeenTamperedWith(context)) ||\n      hlsOverrideValue(context, embedOptions))\n  );\n};\n\nexport const supportedPlayers = (context) => {\n  const { detect } = context;\n  const result = [NOT_PLAYABLE, PASSWORD_PROTECTED, EXTERNAL];\n\n  if (detect.vulcanSupport) {\n    result.push(VULCAN_V2);\n  } else if (detect.iphone || detect.ipad || detect.android) {\n    result.push(VULCAN_V2);\n  }\n\n  if (detect.video.h264) {\n    result.push(HTML5);\n  }\n\n  return result;\n};\n\nexport const usablePlayers = (context, assets) => {\n  const result = [];\n  const candidates = supportedPlayers(context);\n  for (let i = 0; i < candidates.length; i++) {\n    let player = candidates[i];\n    if (canUsePlayer(context, player, assets)) {\n      result.push(player);\n    }\n  }\n  return result;\n};\n\n// `URL` is a built-in type, but a lot sites accidentally clobber it like\n// `URL = location.href`. hls.js uses it though.\nexport const urlHasBeenTamperedWith = () => {\n  return typeof (window.URL && window.URL.createObjectURL) !== 'function';\n};\n\n// `XMLHttpRequest.prototype.constructor.toString()` should be of this form if it's untampered with\nconst XMLHTTPREQUEST_CONSTRUCTOR_RE =\n  /\\s*function\\s+XMLHttpRequest\\(\\)\\s*{\\s*\\[native code\\]\\s*}\\s*/m;\n// Oddly, safari 9.x seems to display this in the [object ...] form.\nconst XMLHTTPREQUEST_CONSTRUCTOR_IN_SAFARI_9_RE = /\\[object XMLHttpRequestConstructor\\]/m;\n\nexport const xhrHasBeenTamperedWith = () => {\n  if (XMLHttpRequest && XMLHttpRequest.prototype && XMLHttpRequest.prototype.constructor) {\n    const constructorString = XMLHttpRequest.prototype.constructor.toString();\n    return !(\n      XMLHTTPREQUEST_CONSTRUCTOR_RE.test(constructorString) ||\n      XMLHTTPREQUEST_CONSTRUCTOR_IN_SAFARI_9_RE.test(constructorString)\n    );\n  }\n  return true;\n};\n","import { elemClasses } from './elem.js';\nimport { queryParamsToObject } from './url.js';\nimport { cast } from './obj.js';\n\nexport const optionsFromElemClass = (elem: HTMLElement): object => {\n  const optionClasses: string[] = [];\n  const classes = elemClasses(elem) as string[];\n\n  classes.forEach((className) => {\n    if (className.indexOf('=') > 0) {\n      optionClasses.push(className);\n    }\n  });\n\n  const options = queryParamsToObject(optionClasses.join('&'));\n  return cast(options) as object;\n};\n","import type { PublicApi } from '../types/e-v1-player-api-types.d.ts';\nimport { cast, clone, isObject } from './obj.js';\nimport { wData } from './wistiaData.js';\nimport { getOneApiHandle } from './getApiHandles.ts';\n\nexport const OPTION_PREFIX = 'wistia_embed_options_';\nexport const GLOBAL_ID_KEY = '__global__';\n\n/**\n * Get the embed options for a given key or embed id\n * @param {string} id - The key or embed id\n * @returns {object}\n */\nexport const getEmbedOptionStore = (id: string): object => {\n  // If options exist for the provided id, just return them\n  if (wData([OPTION_PREFIX, id]) !== undefined) {\n    return wData([OPTION_PREFIX, id]) as object;\n  }\n\n  // Otherwise, lets check this key's api handle\n  const apiHandleFromKey = getOneApiHandle(id) as PublicApi | 'removed' | null;\n  if (apiHandleFromKey === null || apiHandleFromKey === 'removed') {\n    return {};\n  }\n  // And compare it against all the other stored api handles\n  if (wData(OPTION_PREFIX) !== undefined) {\n    // If the api handles match, return the options for that key\n    const matchedKey = Object.keys(wData(OPTION_PREFIX) as object).find(\n      (key) => getOneApiHandle(key) === apiHandleFromKey,\n    );\n    if (wData([OPTION_PREFIX, matchedKey]) !== undefined) {\n      return wData([OPTION_PREFIX, matchedKey]) as object;\n    }\n  }\n  return {};\n};\n\n/**\n * Set the embed options for a given key or embed id\n * @param {string} id - The key or embed id\n * @param {object} options - The options to set\n * @returns {object}\n */\nexport const setEmbedOptionStore = (id: string, options: object | null): object => {\n  if (options !== null) {\n    return wData([OPTION_PREFIX, id], cast(clone(options))) as object;\n  }\n  return {};\n};\n\n/**\n * Legacy behavior replacement for W.options - Get or set embed options based\n * on the parameters provided\n * @param {string | object} id - The id of the embed or an object of options\n * @param {object} options - The options to set\n * @returns {object}\n */\nexport const getOrSetEmbedOptionStore = (\n  id?: object | string,\n  options?: object | null | undefined,\n): object => {\n  let optionsKey = id;\n  let embedOptions = options;\n\n  // Redundant \"typeof\" check is needed to make typescript happy\n  if (isObject(optionsKey) && typeof optionsKey === 'object') {\n    embedOptions = optionsKey;\n    optionsKey = GLOBAL_ID_KEY;\n  }\n\n  // Set options\n  if (embedOptions !== undefined && embedOptions !== null) {\n    return wData([OPTION_PREFIX, optionsKey], cast(clone(embedOptions))) as object;\n  }\n\n  // Get options\n  if (optionsKey !== undefined) {\n    // If options exist for the provided id, just return them\n    if (wData([OPTION_PREFIX, id]) !== undefined) {\n      return wData([OPTION_PREFIX, id]) as object;\n    }\n\n    // Otherwise, lets check this key's api handle\n    const apiHandleFromKey = getOneApiHandle(optionsKey as string) as PublicApi | 'removed' | null;\n    if (apiHandleFromKey === null || apiHandleFromKey === 'removed') {\n      return {};\n    }\n    // And compare it against all the other stored api handles\n    if (wData(OPTION_PREFIX) !== undefined) {\n      // If the api handles match, return the options for that key\n      const matchedKey = Object.keys(wData(OPTION_PREFIX) as object).find(\n        (key) => getOneApiHandle(key) === apiHandleFromKey,\n      );\n      if (wData([OPTION_PREFIX, matchedKey]) !== undefined) {\n        return wData([OPTION_PREFIX, matchedKey]) as object;\n      }\n    }\n    return {};\n  }\n  return wData(OPTION_PREFIX) as object;\n};\n","import W from 'wistia_namespace.js';\nimport { isArray, getDeep, setDeep, unsetDeep } from 'utilities/obj.js';\n\n// A simple key/value store implementation\n// stored on the Wistia namespace\n//\n// To set:\n//\n//     wData(\"key.path\", \"val\")\n//     wData([\"key\", \"path\"], \"val\")\n//\n// To get\n//\n//     wData(\"key.path\")\n//     wData([\"key\", \"path\"])\n\nexport const wData = (key, val) => {\n  if (!isArray(key)) {\n    key = key.split('.');\n  }\n  if (val != null) {\n    setDeep(W, ['_data'].concat(key), val);\n  }\n  return getDeep(W, ['_data'].concat(key));\n};\n\nexport const wRemoveData = (key) => {\n  if (!isArray(key)) {\n    key = key.split('.');\n  }\n  return unsetDeep(W, ['_data'].concat(key));\n};\n","import type { PublicApi, WistiaContainerHTMLElement } from '../types/e-v1-player-api-types.d.ts';\nimport { getAllApiEmbedElements } from './getEmbedElements.ts';\nimport { wlog } from './wlog.js';\nimport { wData } from './wistiaData.js';\n\ntype MatcherFunction = (\n  video?: MatcherFunction | PublicApi | WistiaContainerHTMLElement | 'removed' | null,\n) => void;\n\n/**\n * Initialized embeds are API embeds that have a wistiaApi property set on the\n * container. container.wistiaApi is set on legacy embeds in _public_api.js\n * @returns {PublicApi[]}\n */\nexport const getAllInitializedEmbedApiHandles = (): (PublicApi | 'removed' | undefined)[] => {\n  if (wData('video') === undefined) {\n    return [];\n  }\n  return Object.values(wData('video') as PublicApi[]);\n};\n\n/**\n * Get all initialized instances of the iframe api\n * @returns {PublicApi[]}\n */\nexport const getAllIframeApiHandles = (): (PublicApi | 'removed' | undefined)[] => {\n  if (wData('iframe_api') === undefined) {\n    return [];\n  }\n  return Object.values(wData('iframe_api') as PublicApi[]);\n};\n\n/**\n * Get all initialized instances of the API, inclusive of both\n * iframe API and regular embed public API\n * @returns {PublicApi[]}\n */\nexport const getAllApiHandles = (): (PublicApi | 'removed' | undefined)[] => {\n  return getAllInitializedEmbedApiHandles().concat(getAllIframeApiHandles());\n};\n\n/**\n * Get a single API handle by matcher\n * @param {Function | HTMLElement | number | string | undefined} matcher - The matcher\n * @returns {PublicApi | null}\n */\nexport const getOneApiHandle = (\n  matcher?: HTMLElement | MatcherFunction | number | string | undefined,\n  // fn?: MatcherFunction | undefined, // TODO: Handle the case where functions are provided\n): MatcherFunction | PublicApi | WistiaContainerHTMLElement | 'removed' | null => {\n  // If no matcher is provided, return the first api handle\n  if (matcher === undefined) {\n    return getAllApiHandles()[0] ?? null;\n  }\n\n  /* TODO: Handle the case where functions are provided to completely replicate\n   * the original behavior of the `W.api` function from _async.coffee\n   * This will also require us to port over the W.api.onFind function\n   *\n  // If a callback is provided, return the first api handle that matches\n  if (fn !== undefined) {\n    return onFindApiHandle(matcher, fn);\n  }\n\n  // If the matcher provided is a function, return the first api handle that matches\n  if (typeof matcher === 'function') {\n    return onFindApiHandle(matcher);\n  }\n   *\n   * END TODO\n   */\n\n  let container: WistiaContainerHTMLElement | null = null;\n  if (typeof matcher === 'string') {\n    const query = matcher;\n\n    // Find by DOM ID\n    container = document.getElementById(query) as WistiaContainerHTMLElement | null;\n\n    // Or find by fuzzy match on hashed ID or container\n    if (container === null) {\n      const apiHandles = getAllApiHandles();\n      const matchedHandle = apiHandles.find((handle: PublicApi) => {\n        // note: eslint flagged the logical OR below but it's intentional and necessary\n        // see: https://github.com/wistia/player-modern/pull/2964#discussion_r1274876654\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        if (handle.hashedId()?.startsWith(query) || handle.container?.id.startsWith(query)) {\n          return handle;\n        }\n        return null;\n      });\n      if (matchedHandle !== 'removed') {\n        container = (matchedHandle?.container as WistiaContainerHTMLElement | null) ?? null;\n      }\n    }\n  } else if (typeof matcher === 'number') {\n    let index = matcher;\n    const apiHandles = getAllApiHandles();\n    // Allow negative indices to get from the end\n    if (index < 0) {\n      index = apiHandles.length + index;\n    }\n\n    const apiHandle = apiHandles[index];\n    if (apiHandle !== undefined && apiHandle !== 'removed') {\n      container = apiHandle.container ?? null;\n    }\n  } else if (matcher instanceof HTMLElement) {\n    container = matcher as WistiaContainerHTMLElement;\n  } else {\n    wlog.error('Unrecognized matcher', matcher);\n  }\n\n  // If our container is a wistia-player web component, it handles its own API\n  // and we can just return it.\n  if (container?.tagName === 'WISTIA-PLAYER') {\n    // TODO: We need to call the PublicApi methods for now, but once WistiaPlayer\n    // is more built out we should be able to just send that over directly\n    return container.api as unknown as PublicApi;\n  }\n\n  // If the container has an API handle that isn't 'removed', return it\n  // More on 'removed': https://github.com/wistia/player-modern/pull/1280\n  if (container?.wistiaApi !== undefined && container.wistiaApi !== 'removed') {\n    return container.wistiaApi as unknown as PublicApi;\n  }\n  return null;\n};\n\n/**\n * Get all (non-iframe) API handles in the order they appear in the DOM\n * @returns {PublicApi[]}\n */\nexport const getAllApiHandlesByDomOrder = (): (PublicApi | 'removed' | undefined)[] => {\n  // Legacy embeds have a wistia_embed_initialized class added to the container\n  // when their public api is initialized and set (container.wistiaApi)\n  const legacyHandles = Array.from(\n    getAllApiEmbedElements('wistia_embed_initialized') as unknown as WistiaContainerHTMLElement[],\n  ).reduce((accumulator: PublicApi[], legacyContainer: WistiaContainerHTMLElement) => {\n    // Make sure the api has been initialized, set, and is not marked as 'removed'\n    if (legacyContainer.wistiaApi !== undefined && legacyContainer.wistiaApi !== 'removed') {\n      accumulator.push(legacyContainer.wistiaApi);\n    }\n    return accumulator;\n  }, []);\n\n  const wistiaPlayerHandles = Array.from(document.querySelectorAll('wistia-player')).reduce(\n    (accumulator: PublicApi[], container: WistiaContainerHTMLElement) => {\n      if (container.api !== undefined && container.api !== 'removed') {\n        accumulator.push(container.api);\n      }\n      return accumulator;\n    },\n    [],\n  );\n\n  return [...legacyHandles, ...wistiaPlayerHandles];\n};\n","import type { WistiaContainerHTMLElement } from '../types/e-v1-player-api-types.d.ts';\n\n/**\n * Get all API embed container elements. That's anything matching div/span.wistia_embed.\n * @param {string} [klass='wistia_embed'] - The class name to match on\n * @returns {HTMLElement[]}\n */\nexport const getAllApiEmbedElements = (klass = 'wistia_embed'): WistiaContainerHTMLElement[] => {\n  const allWistiaEmbedElements = document.querySelectorAll(\n    `div.${klass},span.${klass}`,\n  ) as unknown as WistiaContainerHTMLElement[];\n\n  const allApis = Array.from(allWistiaEmbedElements).map((elem) => {\n    if (elem.lastChild?.nodeName === 'WISTIA-PLAYER') {\n      return elem.lastChild as WistiaContainerHTMLElement;\n    }\n\n    return elem;\n  });\n\n  return allApis;\n};\n","import { isNumber } from '@wistia/type-guards';\nimport { StopGo } from '../../../../utilities/stopgo.js';\nimport type { WistiaPlayer } from '../../../../external/WistiaPlayer.ts';\n\ntype StopGoType = {\n  (x?: boolean): void;\n  synchronize: (y: (z: () => void) => void) => void;\n  new (): StopGoType;\n};\n\ntype videoHeightOrWidthOptions = {\n  constrain?: boolean;\n};\n\nexport class TranslationApi {\n  #commandQueueOpen: StopGoType;\n\n  #wistiaPlayerComponent: WistiaPlayer;\n\n  /**\n   * @param wpComponent instance of the wistia-player component\n   */\n  public constructor(wpComponent: WistiaPlayer) {\n    this.#wistiaPlayerComponent = wpComponent;\n\n    const SG = StopGo as StopGoType;\n    this.#commandQueueOpen = new SG();\n\n    this.#commandQueueOpen(true);\n  }\n\n  /**\n   * Often used in W.api and helper methods\n   * @returns {WistiaPlayer} returns the Aurora player component\n   */\n  public get container(): WistiaPlayer {\n    return this.#wistiaPlayerComponent;\n  }\n\n  /**\n   * Adds a media to the playlist.\n   * @param {string} mediaId - the id of the media to add\n   * @param {object} options - embed options to apply for this media in the playlist\n   * @param {object} position - position to add the media in the playlist\n   * @returns {Record<string, object | string>[]} - returns an array of media and their embed options in the playlist\n   */\n  public addToPlaylist(\n    mediaId: string,\n    options: object,\n    position: object,\n  ): Record<string, object | string>[] {\n    return this.#wistiaPlayerComponent.api?.addToPlaylist(mediaId, options, position) ?? [];\n  }\n\n  /**\n   * Maps aspect property to the old aspect method\n   * @returns {number} returns the aspect ratio of the video\n   */\n  public aspect(): number {\n    return this.#wistiaPlayerComponent.aspect;\n  }\n\n  /**\n   * bind doesn't and won't exist on wistia-player, so we need to call its PublicApi instance directly\n   * @returns {Function} returns an unbind function\n   */\n  public bind(event: string, callback: () => void): (() => void) | undefined {\n    return this.#wistiaPlayerComponent.api?.bind(event, callback);\n  }\n\n  /**\n   * Maps cancelFullscreen method to the legacy cancelFullscreen method\n   * @returns {this} .\n   */\n  public cancelFullscreen(): this {\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent\n        .cancelFullscreen()\n        .then(() => {\n          done();\n        })\n        // old api always continued with the synchronize, even if cancelFullscreen fails\n        .catch(() => {\n          done();\n        });\n    });\n\n    return this;\n  }\n\n  /**\n   * Maps duration property to the old duration method\n   * @returns {number} returns the duration of the media in seconds\n   */\n  public duration(): number {\n    return this.#wistiaPlayerComponent.duration;\n  }\n\n  /**\n   * Maps email property to the old email method\n   * @param {string | undefined} newEmail - the new email to save\n   * @returns {string} returns the email currently associated with this viewer\n   */\n  public email(newEmail: string | undefined): string | this | null {\n    // Get\n    if (newEmail === undefined) {\n      return this.#wistiaPlayerComponent.email ?? null;\n    }\n\n    // Set\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent.email = newEmail;\n      done();\n    });\n\n    return this;\n  }\n\n  /**\n   * In order to preserve the same timing executions for legacy embeds we hook up\n   * hasData, embedded, and ready to their respective legacy public_api/impl StopGos.\n   * At a later point, when the Aurora player no longer depends on the public_api to build\n   * a player, we can convert these to use newer events\n   *\n   * hasData method to execute a given callback when the video hasData\n   * Hook into the legacy public api's embedded\n   * @callback callbackFn\n   * @param {callbackFn} callbackFn - callback function\n   */\n  public embedded(callbackFn: () => void): void {\n    if (this.#wistiaPlayerComponent.api) {\n      this.#wistiaPlayerComponent.api.embedded(callbackFn);\n    } else {\n      const legacyEmbeddedCallback = () => {\n        this.#wistiaPlayerComponent.removeEventListener(\n          'legacypublicapicreated',\n          legacyEmbeddedCallback,\n        );\n        this.#wistiaPlayerComponent.api?.embedded(callbackFn);\n      };\n\n      this.#wistiaPlayerComponent.addEventListener(\n        'legacypublicapicreated',\n        legacyEmbeddedCallback,\n      );\n    }\n  }\n\n  public eventKey(): string | undefined {\n    return this.#wistiaPlayerComponent.eventKey;\n  }\n\n  /**\n   * In order to preserve the same timing executions for legacy embeds we hook up\n   * hasData, embedded, and ready to their respective legacy public_api/impl StopGos.\n   * At a later point, when the Aurora player no longer depends on the public_api to build\n   * a player, we can convert these to use newer events\n   *\n   * hasData method to execute a given callback when the video hasData\n   * @callback callbackFn\n   * @param {callbackFn} callbackFn - callback function\n   */\n  public hasData(callbackFn: () => void): void {\n    if (this.#wistiaPlayerComponent.api) {\n      this.#wistiaPlayerComponent.api.hasData(callbackFn);\n    } else {\n      const legacyHasDataCallback = () => {\n        this.#wistiaPlayerComponent.removeEventListener(\n          'legacypublicapicreated',\n          legacyHasDataCallback,\n        );\n        this.#wistiaPlayerComponent.api?.hasData(callbackFn);\n      };\n\n      this.#wistiaPlayerComponent.addEventListener('legacypublicapicreated', legacyHasDataCallback);\n    }\n  }\n\n  /**\n   * Maps mediaId property to the old hashedId method\n   * @returns {string} returns the hashed id of the video\n   */\n  public hashedId(): string {\n    return this.#wistiaPlayerComponent.mediaId;\n  }\n\n  /**\n   * Maps height of Aurora web component to the old height method\n   * @returns {number} returns the height of the video\n   */\n  public height(): number {\n    return this.#wistiaPlayerComponent.offsetHeight;\n  }\n\n  /**\n   * Maps inFullscreen property to the old inFullscreen method\n   * @returns {boolean} returns whether the video is in fullscreen\n   */\n  public inFullscreen(): boolean {\n    return this.#wistiaPlayerComponent.inFullscreen;\n  }\n\n  /**\n   * Maps muted property to the old isMuted method\n   * @returns {boolean} returns whether the video is muted\n   */\n  public isMuted(): boolean {\n    return this.#wistiaPlayerComponent.muted;\n  }\n\n  /**\n   * @returns {this} returns an instance of the TranslationApi for chaining\n   */\n  public mute(): this {\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent.muted = true;\n      done();\n    });\n\n    return this;\n  }\n\n  /**\n   * Maps name property to the old name method\n   * @returns {string} returns the name of the video\n   */\n  public name(): string | null {\n    return this.#wistiaPlayerComponent.name ?? null;\n  }\n\n  /**\n   * turns the promise version from the wistia-player into the old chainable version\n   * @returns {this} returns an instance of the TranslationApi for chaining\n   */\n  public pause(): this {\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent\n        .pause()\n        .then(() => {\n          done();\n        })\n        // old api always continued with the synchronize, even if pause failed\n        .catch(() => {\n          done();\n        });\n    });\n\n    return this;\n  }\n\n  /**\n   * Maps percentWatched property to the old percentWatched method\n   * @returns {number} returns the percent of the video that has been watched as a decimal between 0 and 1\n   */\n  public percentWatched(): number {\n    return this.#wistiaPlayerComponent.percentWatched;\n  }\n\n  /**\n   * turns the promise version from the wistia-player into the old chainable version\n   * @returns {this} returns an instance of the TranslationApi for chaining\n   */\n  public play(): this {\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent\n        .play()\n        .then(() => {\n          done();\n        })\n        // old api always continued with the synchronize, even if play failed\n        .catch(() => {\n          done();\n        });\n    });\n\n    return this;\n  }\n\n  /**\n   * Maps playbackRate property to the old playbackRate method\n   * @param {number | undefined} newRate - the new playback rate of the media\n   * @returns {number} returns the current playback rate of the media\n   */\n  public playbackRate(newRate: number | undefined): number | this {\n    // Get\n    if (newRate === undefined) {\n      return this.#wistiaPlayerComponent.playbackRate;\n    }\n\n    // Set\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent.playbackRate = newRate;\n      done();\n    });\n\n    return this;\n  }\n\n  /**\n   * In order to preserve the same timing executions for legacy embeds we hook up\n   * hasData, embedded, and ready to their respective legacy public_api/impl StopGos.\n   * At a later point, when the Aurora player no longer depends on the public_api to build\n   * a player, we can convert these to use newer events\n   *\n   * Ready method to execute a given callback when the video is ready\n   * @callback callbackFn\n   * @param {callbackFn} callbackFn - callback function\n   */\n  public ready(callbackFn: () => void): void {\n    if (this.#wistiaPlayerComponent.api) {\n      this.#wistiaPlayerComponent.api.ready(callbackFn);\n    } else {\n      const legacyReadyCallback = () => {\n        this.#wistiaPlayerComponent.removeEventListener(\n          'legacypublicapicreated',\n          legacyReadyCallback,\n        );\n        this.#wistiaPlayerComponent.api?.ready(callbackFn);\n      };\n\n      this.#wistiaPlayerComponent.addEventListener('legacypublicapicreated', legacyReadyCallback);\n    }\n  }\n\n  /**\n   * remove doesn't and won't exist on wistia-player, so we need to call its PublicApi instance directly\n   * @param {object} opts - options to pass to the remove method\n   * @returns {void}\n   */\n  public remove(opts?: object): void {\n    this.#wistiaPlayerComponent.api?.remove(opts);\n  }\n\n  /**\n   * Maps requestFullscreen method to the legacy requestFullscreen method\n   * @returns {this}\n   */\n  public requestFullscreen(): this {\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent\n        .requestFullscreen()\n        .then(() => {\n          done();\n        })\n        // old api always continued with the synchronize, even if requestFullscreen fails\n        .catch(() => {\n          done();\n        });\n    });\n\n    return this;\n  }\n\n  /**\n   * Maps secondsWatched property to the old secondsWatched method\n   * @returns {number} returns the number of unique seconds that have been watched for the video.\n   */\n  public secondsWatched(): number {\n    return this.#wistiaPlayerComponent.secondsWatched;\n  }\n\n  /**\n   * Maps secondsWatchedVector property to the old secondsWatchedVector method\n   * @returns {number[]} returns an array where each index represents the number of times the viewer has watched each second of the video.\n   */\n  public secondsWatchedVector(): number[] {\n    return this.#wistiaPlayerComponent.secondsWatchedVector;\n  }\n\n  /**\n   * Maps state property to the old state method\n   * @returns {string} returns the state of the video\n   */\n  public state(): string {\n    return this.#wistiaPlayerComponent.state;\n  }\n\n  /**\n   * Maps currentTime property to the old time method\n   * @param {number | undefined} newTime - the new time to set the video to\n   * @returns {number} returns the current time of the video\n   */\n  public time(newTime: number | undefined): number | this {\n    // Get\n    if (newTime === undefined) {\n      return this.#wistiaPlayerComponent.currentTime;\n    }\n\n    // Set\n    this.#commandQueueOpen.synchronize((done) => {\n      const seekComplete = () => {\n        this.#wistiaPlayerComponent.api?.unbind('seeked', seekComplete);\n        done();\n      };\n      this.#wistiaPlayerComponent.api?.bind('seeked', seekComplete);\n      this.#wistiaPlayerComponent.currentTime = newTime;\n    });\n\n    return this;\n  }\n\n  /**\n   * unbind doesn't and won't exist on wistia-player, so we need to call its PublicApi instance directly\n   * @returns {this} returns an instance of the TranslationApi for chaining\n   */\n  public unbind(event: string, callback: () => void): this {\n    this.#wistiaPlayerComponent.api?.unbind(event, callback);\n\n    return this;\n  }\n\n  /**\n   * map legacy unmute method to Aurora web component\n   * @returns {this} returns an instance of the TranslationApi for chaining\n   */\n  public unmute(): this {\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent.muted = false;\n\n      done();\n    });\n\n    return this;\n  }\n\n  public videoHeight(val: number, options: videoHeightOrWidthOptions = {}): number | undefined {\n    if (isNumber(val)) {\n      this.#wistiaPlayerComponent.api?._impl.videoHeight(val, options);\n    }\n\n    return this.#wistiaPlayerComponent.api?._impl.videoHeight();\n  }\n\n  /**\n   * Maps videoQuality property to the old videoQuality method\n   * @param {number | 'auto' | undefined} quality - the new quality for the video - number or string 'auto'\n   * @returns {number | this | 'auto'} returns the quality of the video or the api itself when using as a setter\n   */\n  public videoQuality(quality: number | 'auto' | undefined): number | this | 'auto' {\n    // Get\n    if (quality === undefined) {\n      return this.#wistiaPlayerComponent.videoQuality;\n    }\n\n    // Set\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent.videoQuality = quality;\n\n      done();\n    });\n\n    return this;\n  }\n\n  public videoWidth(val: number, options: videoHeightOrWidthOptions = {}): number | undefined {\n    if (isNumber(val)) {\n      this.#wistiaPlayerComponent.api?._impl.videoWidth(val, options);\n    }\n\n    return this.#wistiaPlayerComponent.api?._impl.videoWidth();\n  }\n\n  /**\n   * translation method for the visitorKey method that talks directly to the wistia global\n   * @returns {string | null} returns the visitor_key of the person watching the video.\n   */\n  public visitorKey(): string | null {\n    if (window.Wistia?.visitorKey.value() != null) {\n      return window.Wistia.visitorKey.value();\n    }\n\n    return null;\n  }\n\n  /**\n   * Maps volume property to the old volume method\n   * @param {number | undefined} level - the new volume for the video - Number between 0 and 1\n   * @returns {number} returns the volume of the video as a Number between 0 and 1\n   */\n  public volume(level: number | undefined): number | this {\n    // Get\n    if (level === undefined) {\n      return this.#wistiaPlayerComponent.volume;\n    }\n\n    // Set\n    this.#commandQueueOpen.synchronize((done) => {\n      this.#wistiaPlayerComponent.volume = level;\n\n      done();\n    });\n\n    return this;\n  }\n\n  /**\n   * Maps width of Aurora web component to the old width method\n   * @returns {number} returns the width of the video\n   */\n  public width(): number {\n    return this.#wistiaPlayerComponent.offsetWidth;\n  }\n}\n","/* eslint-disable no-void */\n/* eslint-disable no-console */\n/* eslint-disable no-loop-func */\n// Generated by CoffeeScript 1.12.7\nimport { doTimeout } from 'utilities/timeout-utils.js';\n\n// eslint-disable-next-line import/no-mutable-exports\nlet StopGo;\n\n(function () {\n  let slice = [].slice;\n\n  StopGo = (function () {\n    function StopGo() {\n      this._queue = [];\n      this._green = false;\n      this._lock = false;\n      this.allInOne = (function (_this) {\n        return function () {\n          return _this._allInOne.apply(_this, arguments);\n        };\n      })(this);\n      this.defineMethodsOn(this.allInOne);\n      return this.allInOne;\n    }\n\n    StopGo.prototype.defineMethodsOn = function (obj) {\n      let getType;\n      let k;\n      let ref;\n      let results;\n      let v;\n      getType = {};\n      ref = this;\n      results = [];\n      for (k in ref) {\n        v = ref[k];\n        results.push(\n          (function (_this) {\n            return function (k, v, klass) {\n              if (getType.toString.call(v) === '[object Function]') {\n                return (obj[k] = function () {\n                  return klass[k].apply(klass, arguments);\n                });\n              }\n            };\n          })(this)(k, v, this),\n        );\n      }\n      return results;\n    };\n\n    StopGo.prototype.flush = function () {\n      let args;\n      let fn;\n      args = arguments.length >= 1 ? slice.call(arguments, 0) : [];\n      if (!this._green) {\n        return this;\n      }\n      this._lock = true;\n      while (this._queue.length > 0) {\n        fn = this._queue.shift();\n        if (args.length || !this.goArgs) {\n          this.tryAndReport(() => {\n            return fn.apply(null, args);\n          });\n        } else {\n          this.tryAndReport(\n            (function (_this) {\n              return function () {\n                return fn.apply(null, _this.goArgs);\n              };\n            })(this),\n          );\n        }\n        if (this._block || !this._green) {\n          break;\n        }\n      }\n      this._lock = false;\n      return this;\n    };\n\n    StopGo.prototype._debug = function () {\n      return typeof console !== 'undefined' && console !== null\n        ? console.log.apply(console, arguments)\n        : void 0;\n    };\n\n    StopGo.prototype.synchronize = function () {\n      let fn;\n      let fns;\n      let j;\n      let len;\n      fns = arguments.length >= 1 ? slice.call(arguments, 0) : [];\n      for (j = 0, len = fns.length; j < len; j++) {\n        fn = fns[j];\n        this.synchronizeFn(fn);\n      }\n      return this;\n    };\n\n    StopGo.prototype.synchronizeFn = function (fn) {\n      let stopBlocking;\n      let stopBlockingTimeout;\n      let wrapperFn;\n      stopBlockingTimeout = null;\n      stopBlocking = (function (_this) {\n        return function () {\n          clearTimeout(stopBlockingTimeout);\n          _this._block = false;\n          return _this.go();\n        };\n      })(this);\n      wrapperFn = (function (_this) {\n        return function () {\n          _this._block = true;\n          _this.stop();\n          return fn(stopBlocking);\n        };\n      })(this);\n      stopBlockingTimeout = setTimeout(\n        (function (_this) {\n          return function () {\n            _this._debug('StopGo#synchronize timed out', fn);\n            return stopBlocking();\n          };\n        })(this),\n        5000,\n      );\n      this.runFn(wrapperFn);\n      return this;\n    };\n\n    StopGo.prototype.tryAndReport = function (fn) {\n      let e;\n      try {\n        return fn();\n      } catch (error) {\n        e = error;\n        if (e.stack) {\n          if (typeof console !== 'undefined' && console !== null) {\n            console.log(e.message);\n          }\n          return typeof console !== 'undefined' && console !== null ? console.log(e.stack) : void 0;\n        }\n        return typeof console !== 'undefined' && console !== null ? console.log(e) : void 0;\n      }\n    };\n\n    StopGo.prototype.clearSynchronized = function () {\n      this.setQueue([]);\n      this._block = false;\n      return (this._green = true);\n    };\n\n    StopGo.prototype.filter = function (cond) {\n      let fn;\n      this._queue = function () {\n        let j;\n        let len;\n        let ref;\n        let results;\n        ref = this._queue;\n        results = [];\n        for (j = 0, len = ref.length; j < len; j++) {\n          fn = ref[j];\n          if (cond(fn)) {\n            results.push(fn);\n          }\n        }\n        return results;\n      }.call(this);\n      return this;\n    };\n\n    StopGo.prototype.push = function (fn) {\n      this._queue.push(fn);\n      return this;\n    };\n\n    StopGo.prototype.go = function () {\n      let args;\n      args = arguments.length >= 1 ? slice.call(arguments, 0) : [];\n      this._green = true;\n      this.goArgs = args;\n      this.flush.apply(this, args);\n      return this;\n    };\n\n    StopGo.prototype.stop = function () {\n      this._green = false;\n      return this;\n    };\n\n    StopGo.prototype.run = function () {\n      let fn;\n      let fns;\n      let j;\n      let len;\n      fns = arguments.length >= 1 ? slice.call(arguments, 0) : [];\n      for (j = 0, len = fns.length; j < len; j++) {\n        fn = fns[j];\n        this.runFn(fn);\n      }\n      return this;\n    };\n\n    StopGo.prototype.then = function () {\n      return this.run.apply(this, arguments);\n    };\n\n    StopGo.prototype.runFn = function (fn) {\n      if (this._green && !this._block) {\n        if (this._lock) {\n          this.tryAndReport(fn);\n        } else {\n          this.push(fn);\n          this.flush();\n        }\n      } else {\n        this.push(fn);\n      }\n      return this;\n    };\n\n    StopGo.prototype.remove = function () {\n      let fn;\n      let fns;\n      let j;\n      let len;\n      fns = arguments.length >= 1 ? slice.call(arguments, 0) : [];\n      for (j = 0, len = fns.length; j < len; j++) {\n        fn = fns[j];\n        this.removeFn(fn);\n      }\n      return this;\n    };\n\n    StopGo.prototype.removeFn = function (targetFn) {\n      this.filter((fn) => {\n        return targetFn !== fn;\n      });\n      return this;\n    };\n\n    StopGo.prototype.setQueue = function (newQueue) {\n      this._queue = newQueue;\n      return this;\n    };\n\n    StopGo.prototype.getQueue = function () {\n      return this._queue;\n    };\n\n    StopGo.prototype._allInOne = function () {\n      let arg;\n      let rest;\n      // eslint-disable-next-line no-unused-expressions, no-sequences\n      (arg = arguments[0]), (rest = arguments.length >= 2 ? slice.call(arguments, 1) : []);\n      if (arg === true) {\n        return this.go.apply(this, rest);\n      }\n      if (arg === false) {\n        return this.stop();\n      }\n      if (arg != null) {\n        if (arg instanceof Array) {\n          return this.run.apply(this, arg);\n        }\n        if (typeof arg === 'string') {\n          return this[arg].apply(this, rest);\n        }\n        return this.run.apply(this, arguments);\n      }\n      return this._green;\n    };\n\n    return StopGo;\n  })();\n\n  StopGo.when = function () {\n    let fn1;\n    let j;\n    let lastFn;\n    let len;\n    let ref;\n    let result;\n    let stopGo;\n    let stopGos;\n    stopGos = arguments.length >= 1 ? slice.call(arguments, 0) : [];\n    result = new StopGo();\n    lastFn = function () {\n      return result.go.apply(result, arguments);\n    };\n    ref = stopGos.reverse();\n    fn1 = function (theFn, stopGo) {\n      return (lastFn = function () {\n        return stopGo(function () {\n          return theFn.apply(null, arguments);\n        });\n      });\n    };\n    for (j = 0, len = ref.length; j < len; j++) {\n      stopGo = ref[j];\n      fn1(lastFn, stopGo);\n    }\n    lastFn();\n    return result;\n  };\n\n  StopGo._drainStopGosAsync = function (prefix, stopGos, i) {\n    let stopGo;\n    if (i == null) {\n      i = 0;\n    }\n    if (stopGos.length < 1) {\n      return;\n    }\n    stopGo = stopGos.shift();\n    stopGo.run(() => {\n      return StopGo._drainStopGosAsync(prefix, stopGos, i + 1);\n    });\n    doTimeout(\n      `${prefix}.${i}`,\n      () => {\n        return stopGo.go();\n      },\n      0,\n    );\n    return stopGo;\n  };\n\n  // eslint-disable-next-line prettier/prettier\n}.call(this));\n\nexport { StopGo };\n","export const isNull = (x) => x === null;\nexport const isNotNull = (x) => !isNull(x);\nexport const isUndefined = (x) => x === undefined;\nexport const isNotUndefined = (x) => !isUndefined(x);\nexport const isNil = (x) => isNull(x) || isUndefined(x);\nexport const isNotNil = (x) => !isNil(x);\nexport const isString = (x) => typeof x === 'string';\nexport const isEmptyString = (x) => isString(x) && x === '';\nexport const isNonEmptyString = (x) => isString(x) && !isEmptyString(x);\nexport const isNumber = (x) => typeof x === 'number';\nexport const isRecord = (x) => isNotNil(x) && typeof x === 'object' && !(x instanceof Array);\nexport const isEmptyRecord = (x) => isRecord(x) && Object.keys(x).length === 0;\nexport const isNonEmptyRecord = (x) => isRecord(x) && Object.keys(x).length > 0;\nexport const isArray = (x) => isNotNil(x) && typeof x === 'object' && x instanceof Array;\nexport const isEmptyArray = (x) => isArray(x) && x.length === 0;\nexport const isNonEmptyArray = (x) => isArray(x) && x.length > 0;\nexport const isFunction = (x) => isNotNil(x) && typeof x === 'function';\nexport const isBoolean = (x) => isNotNil(x) && typeof x === 'boolean';\n// eslint-disable-next-line no-void\nexport const isVoid = (x) => x === void 0;\nexport const isError = (error) => {\n    return isNotNil(error) && error instanceof Error;\n};\n/**\n * Curried function that tests if an input is an object\n * _and_ that a key that was passed in is a property of that object\n *\n * @param key - The key to test if it is a property of the input record\n * @returns A function that takes an unknown input and then tests if the\n *  input is an object and whether the key is a property of that object or not\n */\nexport const hasKey = (x, key) => isNonEmptyRecord(x) && key in x;\n","(function(W) {\n  var GLOBAL_ID_KEY, StopGo, TranslationApi, assign, asyncChain, cast, clearTimeouts, clone, elemClasses, elemHasClass, elemMutationObserver, getAllApiEmbedElements, getOrSetEmbedOptionStore, isObject, onDocReady, optionsFromElemClass, queryParamsToObject, ref, ref1, ref2, setEmbedOptionStore, throttle, wlog;\n  if (W.embeds) {\n    return;\n  }\n  W.embeds = {};\n  StopGo = require('utilities/stopgo.js').StopGo;\n  wlog = require('utilities/wlog.js').wlog;\n  onDocReady = require('utilities/docReady.js').onDocReady;\n  asyncChain = require('utilities/asyncChain.js').asyncChain;\n  throttle = require('utilities/core.js').throttle;\n  ref = require('utilities/elem.js'), elemClasses = ref.elemClasses, elemHasClass = ref.elemHasClass, elemMutationObserver = ref.elemMutationObserver;\n  queryParamsToObject = require('utilities/url.js').queryParamsToObject;\n  clearTimeouts = require('utilities/timeout-utils.js').clearTimeouts;\n  ref1 = require('utilities/obj.js'), cast = ref1.cast, isObject = ref1.isObject, assign = ref1.assign, clone = ref1.clone;\n  optionsFromElemClass = require('utilities/optionsFromElemClass.ts').optionsFromElemClass;\n  getAllApiEmbedElements = require('utilities/getEmbedElements.ts').getAllApiEmbedElements;\n  ref2 = require('utilities/embedOptionStore.ts'), getOrSetEmbedOptionStore = ref2.getOrSetEmbedOptionStore, setEmbedOptionStore = ref2.setEmbedOptionStore, GLOBAL_ID_KEY = ref2.GLOBAL_ID_KEY;\n  TranslationApi = require('../players/AuroraPlayer/translationApi.ts').TranslationApi;\n  W.embeds.setup = function(embedElems) {\n    return W.embeds.notEmbedding(function() {\n      var doEmbedding;\n      doEmbedding = function() {\n        var e1, e2, elem, functions, hashedId, j, len, newId, options;\n        W.embeds.notEmbedding(false);\n        functions = [];\n        try {\n          embedElems = W.embeds.uninitialized(embedElems);\n          if (embedElems && embedElems.length && embedElems.length > 0) {\n            W.info('initializing', embedElems != null ? embedElems.length : void 0, 'embedElems');\n          }\n          for (j = 0, len = embedElems.length; j < len; j++) {\n            elem = embedElems[j];\n            try {\n              W.info('initializing elem', elem);\n              hashedId = W.embeds.hashedIdForElem(elem, {\n                asyncOnly: true\n              });\n              if (!document.body.contains(elem)) {\n                continue;\n              }\n              if (elem.id) {\n                if (document.getElementById(elem.id) !== elem) {\n                  newId = W.embeds.genIdFor(hashedId);\n                  W.error(\"Duplicate DOM ID found for container \\\"\" + elem.id + \"\\\". Changing it to \\\"\" + newId + \"\\\" to avoid issues.\", elem);\n                  elem.id = newId;\n                }\n              } else {\n                elem.id = W.embeds.genIdFor(hashedId);\n              }\n              options = optionsFromElemClass(elem);\n              setEmbedOptionStore(\"__\" + elem.id + \"_dom_options__\", options);\n              (function(hashedId, elem) {\n                return functions.push(function() {\n                  if (!W.embeds.containerIsInitialized(elem)) {\n                    return W.embed(hashedId, {\n                      container: elem.id\n                    });\n                  }\n                });\n              })(hashedId, elem);\n            } catch (error) {\n              e1 = error;\n              W.error(e1);\n            }\n          }\n        } catch (error) {\n          e2 = error;\n          W.error(e2);\n        }\n        functions.push(function() {\n          return W.watchForInit();\n        });\n        functions.push(function() {\n          return W.embeds.notEmbedding(true);\n        });\n        return asyncChain('embeds_setup', functions);\n      };\n      onDocReady(doEmbedding);\n      if (W.detect.ios.version === 0 && !W.detect.safari) {\n        return doEmbedding();\n      }\n    });\n  };\n  W.embeds._setupThrottled = throttle(500, W.embeds.setup);\n  W.embeds.hashedIdForElem = function(elem, options) {\n    var ref3, ref4, ref5, ref6, ref7, ref8;\n    if (options == null) {\n      options = {};\n    }\n    if (elem.tagName === 'WISTIA-PLAYER') {\n      return elem.mediaId;\n    } else {\n      if (options.asyncOnly) {\n        return ((ref3 = elem.className) != null ? (ref4 = ref3.match(/wistia_async_([^\\s]+)/)) != null ? ref4[1] : void 0 : void 0) || null;\n      } else {\n        return ((ref5 = elem.className) != null ? (ref6 = ref5.match(/wistia_async_([^\\s]+)/)) != null ? ref6[1] : void 0 : void 0) || ((ref7 = elem.className) != null ? (ref8 = ref7.match(/wistia_([^\\s]+)/)) != null ? ref8[1] : void 0 : void 0) || null;\n      }\n    }\n  };\n  W.embeds.genIdFor = function(hashedId) {\n    var base, candidate, i;\n    base = \"wistia-\" + hashedId;\n    i = 1;\n    while (true) {\n      candidate = base + \"-\" + i;\n      if (!document.getElementById(candidate)) {\n        break;\n      }\n      i += 1;\n    }\n    return candidate;\n  };\n  W.options = getOrSetEmbedOptionStore;\n  W.embeds.uninitialized = function(embedElems) {\n    var elem, hashedId, j, len, result;\n    if (embedElems == null) {\n      embedElems = getAllApiEmbedElements();\n    }\n    result = [];\n    for (j = 0, len = embedElems.length; j < len; j++) {\n      elem = embedElems[j];\n      hashedId = W.embeds.hashedIdForElem(elem, {\n        asyncOnly: true\n      });\n      if (hashedId && !W.embeds.containerIsInitialized(elem)) {\n        result.push(elem);\n      }\n    }\n    return result;\n  };\n  W.embeds.containerIsInitialized = (function(_this) {\n    return function(container) {\n      return container && (container.wistiaApi || container.translationApi || container._convertingToAurora) && !(container.wistiaApi instanceof W.IframeApiProxy);\n    };\n  })(this);\n  W.embeds.initialized = function(embedElems) {\n    var handle, ref3, results, uuid;\n    ref3 = W._data.video;\n    results = [];\n    for (uuid in ref3) {\n      handle = ref3[uuid];\n      results.push(handle);\n    }\n    return results;\n  };\n  W.embeds.observe = function() {\n    var config, e;\n    if (W.embeds.initObserver) {\n      return;\n    }\n    W.embeds.initObserver = elemMutationObserver(function(mutations) {\n      var addedNodes, embedElems, j, k, len, len1, mutation, node, ref3, ref4;\n      embedElems = [];\n      addedNodes = false;\n      for (j = 0, len = mutations.length; j < len; j++) {\n        mutation = mutations[j];\n        if (((ref3 = mutation.addedNodes) != null ? ref3.length : void 0) > 0) {\n          addedNodes = true;\n        }\n        ref4 = mutation.addedNodes || [];\n        for (k = 0, len1 = ref4.length; k < len1; k++) {\n          node = ref4[k];\n          if (elemHasClass(node, 'wistia_embed')) {\n            embedElems.push(node);\n          }\n        }\n      }\n      if (embedElems.length > 0) {\n        setTimeout((function() {\n          return W.embeds.setup(embedElems);\n        }), 10);\n      }\n      if (addedNodes) {\n        return W.embeds._setupThrottled();\n      }\n    });\n    config = {\n      subtree: true,\n      childList: true\n    };\n    if (W.detect.ios.version > 0 || W.detect.safari) {\n      return onDocReady(function() {\n        return W.embeds.initObserver.observe(document.body, config);\n      });\n    } else {\n      try {\n        return W.embeds.initObserver.observe(document.body, config);\n      } catch (error) {\n        e = error;\n        wlog.notice(e);\n        return onDocReady(function() {\n          try {\n            return W.embeds.initObserver.observe(document.body, config);\n          } catch (error) {\n            e = error;\n            return wlog.error(e);\n          }\n        });\n      }\n    }\n  };\n  W.embeds.unobserve = function() {\n    var ref3;\n    if ((ref3 = W.embeds.initObserver) != null) {\n      ref3.disconnect();\n    }\n    return W.embeds.initObserver = null;\n  };\n  W.embeds.poll = function(interval) {\n    if (interval == null) {\n      interval = 500;\n    }\n    return W.eventLoop.add('poll_setup_embeds', interval, function() {\n      return W.embeds.setup();\n    });\n  };\n  W.embeds.unpoll = function() {\n    var ref3;\n    return (ref3 = W.eventLoop) != null ? ref3.remove('poll_setup_embeds') : void 0;\n  };\n  W.embeds.watch = function() {\n    W.embeds._dontWatch = false;\n    if (W.detect.mutationObserver) {\n      W.embeds.observe();\n      return W.embeds.poll(2000);\n    } else {\n      return W.embeds.poll();\n    }\n  };\n  W.embeds.dontWatch = function() {\n    W.embeds._dontWatch = true;\n    return W.embeds.unwatch();\n  };\n  W.embeds.unwatch = function() {\n    W.embeds.unobserve();\n    return W.embeds.unpoll();\n  };\n  W.flushInit = function() {\n    var e, fn, j, len;\n    if (!window.wistiaInit) {\n      return;\n    }\n    if (wistiaInit instanceof Array) {\n      for (j = 0, len = wistiaInit.length; j < len; j++) {\n        fn = wistiaInit[j];\n        try {\n          if (typeof fn === \"function\") {\n            fn(W);\n          }\n        } catch (error) {\n          e = error;\n          wlog.error(e);\n        }\n      }\n    } else {\n      if (typeof wistiaInit === \"function\") {\n        wistiaInit(W);\n      }\n    }\n    return window.wistiaInit = null;\n  };\n  W.addQueue = function(queueName) {\n    W._queueNames.push(queueName);\n    return W.watchForInit();\n  };\n  W._queueNames = ['_wq', 'wistiaInitQueue'];\n  W._wqBoundListeners = [];\n  W.flushInitQueue = function() {\n    var apiForPlayerType, e, fn, fn1, fnQueue, j, k, key, len, len1, queue, queueName, ran, ref3, thisElement, val;\n    if (W._isFlushingInitQueue) {\n      return;\n    }\n    W._isFlushingInitQueue = true;\n    try {\n      apiForPlayerType = function(video) {\n        if (video.translationApi) {\n          return video.translationApi;\n        } else {\n          return video;\n        }\n      };\n      ref3 = W._queueNames;\n      for (j = 0, len = ref3.length; j < len; j++) {\n        queueName = ref3[j];\n        queue = window[queueName];\n        if (!(queue && queue instanceof Array && queue.length > 0)) {\n          continue;\n        }\n        fnQueue = [];\n        while (queue.length > 0) {\n          thisElement = queue.shift();\n          if (isObject(thisElement)) {\n            if (thisElement.revoke) {\n              W.revokeQueueListener(thisElement.revoke);\n            }\n            if (!thisElement.__unbinds) {\n              thisElement.__unbinds = [];\n            }\n            if (thisElement.id) {\n              ran = false;\n              if (thisElement.options) {\n                if (thisElement.id === '_all') {\n                  setEmbedOptionStore(GLOBAL_ID_KEY, thisElement.options);\n                  ran = true;\n                } else {\n                  setEmbedOptionStore(thisElement.id, thisElement.options);\n                  ran = true;\n                }\n              }\n              (function(thisElement) {\n                var args, baseArgs;\n                baseArgs = thisElement.id === '_all' ? [] : [thisElement.id];\n                if (thisElement.onFind) {\n                  args = baseArgs.concat([\n                    function(video) {\n                      return thisElement.onFind(apiForPlayerType(video));\n                    }\n                  ]);\n                  thisElement.__unbinds = thisElement.__unbinds.concat(W.api.apply(W, args));\n                  ran = true;\n                }\n                if (thisElement.onHasData) {\n                  args = baseArgs.concat([\n                    function(video) {\n                      return video.hasData(function() {\n                        return thisElement.onHasData(apiForPlayerType(video));\n                      });\n                    }\n                  ]);\n                  thisElement.__unbinds = thisElement.__unbinds.concat(W.api.apply(W, args));\n                  ran = true;\n                }\n                if (thisElement.onEmbedded) {\n                  args = baseArgs.concat([\n                    function(video) {\n                      return video.embedded(function() {\n                        return thisElement.onEmbedded(apiForPlayerType(video));\n                      });\n                    }\n                  ]);\n                  thisElement.__unbinds = thisElement.__unbinds.concat(W.api.apply(W, args));\n                  ran = true;\n                }\n                if (thisElement.onReady) {\n                  args = baseArgs.concat([\n                    function(video) {\n                      return video.ready(function() {\n                        return thisElement.onReady(apiForPlayerType(video));\n                      });\n                    }\n                  ]);\n                  thisElement.__unbinds = thisElement.__unbinds.concat(W.api.apply(W, args));\n                  ran = true;\n                }\n                if (ran) {\n                  return W._wqBoundListeners.push(thisElement);\n                } else {\n                  return W.error(\"No initialization function provided for ID \" + thisElement.id, thisElement);\n                }\n              })(thisElement);\n            } else {\n              fn1 = function(thisElement, key, val) {\n                var fn, runWhenHasData;\n                if (typeof val === 'function') {\n                  runWhenHasData = function(video) {\n                    return video.hasData(function() {\n                      return val(apiForPlayerType(video));\n                    });\n                  };\n                  fn = function() {\n                    if (key === '_all') {\n                      thisElement.__unbinds = thisElement.__unbinds.concat(W.api(runWhenHasData));\n                    } else {\n                      thisElement.__unbinds = thisElement.__unbinds.concat(W.api(key, runWhenHasData));\n                    }\n                    return W._wqBoundListeners.push(thisElement);\n                  };\n                  return fnQueue.push(fn);\n                } else if (isObject(val)) {\n                  if (key === '_all') {\n                    fn = function() {\n                      return setEmbedOptionStore(GLOBAL_ID_KEY, val);\n                    };\n                  } else {\n                    fn = function() {\n                      return setEmbedOptionStore(key, val);\n                    };\n                  }\n                  return fnQueue.push(fn);\n                } else if (key === '__unbinds' || key === 'revoke') {\n\n                } else {\n                  return W.error('Unknown initialization object:', val, 'Expected Object or Function.');\n                }\n              };\n              for (key in thisElement) {\n                val = thisElement[key];\n                fn1(thisElement, key, val);\n              }\n            }\n          } else if (typeof thisElement === 'function') {\n            (function(thisElement) {\n              var fn;\n              fn = function() {\n                return thisElement(W);\n              };\n              return fnQueue.push(fn);\n            })(thisElement);\n          } else {\n            W.notice(queueName + \": Don't know what to do with \" + thisElement + \", ignoring.\");\n          }\n        }\n        for (k = 0, len1 = fnQueue.length; k < len1; k++) {\n          fn = fnQueue[k];\n          try {\n            if (typeof fn === \"function\") {\n              fn(W);\n            }\n          } catch (error) {\n            e = error;\n            wlog.error(e);\n          }\n        }\n        queue.length = 0;\n      }\n    } catch (error) {\n      e = error;\n      wlog.error(e);\n    }\n    return W._isFlushingInitQueue = false;\n  };\n  W.getInitQueueListeners = function() {\n    return assign([], W._wqBoundListeners);\n  };\n  W.revokeQueueListener = function(listener) {\n    var j, k, len, len1, ref3, results, toRevoke, u;\n    toRevoke = listener instanceof Array ? listener : [listener];\n    results = [];\n    for (j = 0, len = toRevoke.length; j < len; j++) {\n      listener = toRevoke[j];\n      if (listener.__unbinds) {\n        ref3 = listener.__unbinds;\n        for (k = 0, len1 = ref3.length; k < len1; k++) {\n          u = ref3[k];\n          if (typeof u === \"function\") {\n            u();\n          }\n        }\n        delete listener.__unbinds;\n      }\n      results.push(W._wqBoundListeners = W._wqBoundListeners.filter(function(l) {\n        return l !== listener;\n      }));\n    }\n    return results;\n  };\n  W.watchForInit = function() {\n    if (W._pollInit == null) {\n      W._pollInit = function() {\n        W.flushInitQueue();\n        return W.flushInit();\n      };\n    }\n    W._pollInit();\n    if (W.eventLoop) {\n      W.eventLoop.unpause('poll_init');\n      return W.eventLoop.add('poll_init', 500, W._pollInit);\n    }\n  };\n  W.api = function(matcher, fn) {\n    var all, apiHandles, container, handle, index, j, len, query, ref3, ref4, ref5;\n    if (matcher != null) {\n      if (fn) {\n        return W.api.onFind(matcher, fn);\n      }\n      if (typeof matcher === 'function') {\n        return W.api.onFind(matcher);\n      }\n      if (typeof matcher === 'string') {\n        query = matcher;\n        container = document.getElementById(query);\n        if (!container) {\n          apiHandles = W.api.all();\n          for (j = 0, len = apiHandles.length; j < len; j++) {\n            handle = apiHandles[j];\n            if (((ref3 = handle.hashedId()) != null ? ref3.indexOf(query) : void 0) === 0 || ((ref4 = handle.container.id) != null ? ref4.indexOf(query) : void 0) === 0) {\n              container = handle.container;\n              break;\n            }\n          }\n        }\n      } else if (typeof matcher === 'number') {\n        index = matcher;\n        all = W.api.all();\n        if (index < 0) {\n          index = all.length + index;\n        }\n        container = ((ref5 = all[index]) != null ? ref5.container : void 0) || null;\n      } else if (window.HTMLElement && matcher instanceof HTMLElement) {\n        container = matcher;\n      } else {\n        W.error('W.api: Unrecognized matcher', matcher);\n      }\n      if ((container != null ? container.wistiaApi : void 0) && (container.wistiaApi instanceof W.PublicApi || (W.IframeApi && container.wistiaApi instanceof W.IframeApi))) {\n        return container.wistiaApi;\n      } else if ((container != null ? container.tagName : void 0) === 'WISTIA-PLAYER' && (container != null ? container.translationApi : void 0)) {\n        return container.translationApi;\n      } else {\n        return null;\n      }\n    } else {\n      return W.api.all()[0] || null;\n    }\n  };\n  W.api.all = function() {\n    return W.api._apiHandles().concat(W.api._iframeHandles());\n  };\n  W.api._apiHandles = function() {\n    return W.embeds.initialized();\n  };\n  W.api._iframeHandles = function() {\n    var handle, ref3, results, signature;\n    ref3 = W._data.iframe_api;\n    results = [];\n    for (signature in ref3) {\n      handle = ref3[signature];\n      results.push(handle);\n    }\n    return results;\n  };\n  W.api.onFind = function(matcher, fn) {\n    var runIfMatch, unbinds;\n    if (typeof matcher === 'function') {\n      fn = matcher;\n      matcher = null;\n    }\n    runIfMatch = function(video) {\n      if (matcher === null || W.api(matcher) === video) {\n        fn(video);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    wistiaEmbeds.each(runIfMatch);\n    unbinds = [wistiaEmbeds.on('initembed', runIfMatch), wistiaEmbeds.on('afterreplace', runIfMatch)];\n    return (function(_this) {\n      return function() {\n        var j, len, results, u;\n        results = [];\n        for (j = 0, len = unbinds.length; j < len; j++) {\n          u = unbinds[j];\n          results.push(u());\n        }\n        return results;\n      };\n    })(this);\n  };\n  W._asyncInitSoonAfterLoad = function(delay) {\n    if (delay == null) {\n      delay = 10;\n    }\n    return setTimeout(function() {\n      var e;\n      try {\n        W.embeds.setup();\n        if (!W.embeds._dontWatch) {\n          W.embeds.watch();\n        }\n        return W.watchForInit();\n      } catch (error) {\n        e = error;\n        return wlog.error(e);\n      }\n    }, delay);\n  };\n  W._initializers.initAsyncEmbeds = function() {\n    var base1, base2, ref3;\n    W.embeds.notEmbedding = new StopGo();\n    W.embeds.notEmbedding(true);\n    if (W._data == null) {\n      W._data = {};\n    }\n    if ((base1 = W._data).video == null) {\n      base1.video = {};\n    }\n    if ((base2 = W._data).iframe_api == null) {\n      base2.iframe_api = {};\n    }\n    if (window._inWistiaIframe) {\n      return setTimeout((function() {\n        return W.watchForInit();\n      }), 10);\n    } else {\n      W._asyncInitSoonAfterLoad();\n      W._asyncInitSoonAfterLoad(500);\n      return (ref3 = W.eventLoop) != null ? ref3.pause('poll_init') : void 0;\n    }\n  };\n  return W._destructors.destroyAsyncEmbeds = function() {\n    var ref3, ref4;\n    clearTimeouts('embeds_setup');\n    if ((ref3 = W.eventLoop) != null) {\n      ref3.remove('poll_init');\n    }\n    return (ref4 = W.embeds) != null ? ref4.unwatch() : void 0;\n  };\n})(Wistia);\n","import { StopGo } from 'utilities/stopgo.js';\nimport { wlog } from 'utilities/wlog.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\n\n// Compose all of our functions in stopGos and pass to\n// StopGo._drainStopGosAsync, which handles async draining. Add one more after\n// the last, so that `then` is naturally on a separate tick too.\nexport const asyncChain = (prefix, functions, _i = 1) => {\n  const stopGos = [];\n  for (let fn of functions) {\n    (function (fn) {\n      const safeFn = function () {\n        try {\n          return fn();\n        } catch (e) {\n          return wlog.error(e);\n        }\n      };\n      return stopGos.push(new StopGo().run(safeFn));\n    })(fn);\n  }\n  const lastStopGo = stopGos[stopGos.length - 1];\n  StopGo._drainStopGosAsync(prefix, stopGos);\n  const result = new StopGo();\n  lastStopGo.then(() => doTimeout(`${prefix}.last`, () => result.go(), 0));\n  return result;\n};\n","/*\n * decaffeinate suggestions:\n * DS002: Fix invalid constructor\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS202: Simplify dynamic range loops\n * DS205: Consider reworking code to avoid use of IIFEs\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport { wlog } from 'utilities/wlog.js';\nimport { wData } from 'utilities/wistiaData.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\nimport { seqId } from 'utilities/seqid.js';\n\n(function (W) {\n  if (W.EmbedListener) {\n    return;\n  }\n\n  W.EmbedListener = class EmbedListener extends Array {\n    constructor() {\n      super();\n      this.uuid = seqId();\n      this.logger = wlog.getPrefixedFunctions('EmbedShepherd');\n      this.bindHandles();\n      this.bind('down', () => {\n        this.logger.info('got down event, prune and rebind handles');\n        return doTimeout('prune_zombies_later', () => {\n          this.pruneZombies();\n          return this.bindHandles();\n        });\n      });\n      this.bind('up', (video) => {\n        this.logger.info('got up event, set _bound=false for', video);\n        video._bound = false;\n        return this.bindHandles();\n      });\n    }\n\n    bindHandles() {\n      const allUnboundHandles = this.allUnboundHandles();\n      this.logger.info('bindHandles', allUnboundHandles);\n      return (() => {\n        const result = [];\n        for (let handle of Array.from(allUnboundHandles)) {\n          this.logger.info('bind to all events for', handle);\n          // Actually marshalling events is now handled directly from\n          // PublicApi#trigger and Iframeapi#trigger monkeypatches to avoid code\n          // deoptimization, which leads to memory leaks on re-embed if setup\n          // when binding 'all' from here.\n          handle._bound = true;\n          result.push(this.push(handle));\n        }\n        return result;\n      })();\n    }\n\n    pruneZombies() {\n      let handle;\n      this.logger.info('pruneZombies');\n      const saved = [];\n      for (handle of Array.from(this.allBoundHandles())) {\n        if (handle.looksDown()) {\n          this.logger.info('prune zombie', handle);\n        } else {\n          saved.push(handle);\n        }\n      }\n      for (\n        let i = 0, end = this.length, asc = end >= 0;\n        asc ? i <= end : i >= end;\n        // eslint-disable-next-line no-plusplus\n        asc ? i++ : i--\n      ) {\n        delete this[i];\n      }\n      this.length = 0;\n      return (() => {\n        const result = [];\n        for (handle of Array.from(saved)) {\n          result.push(this.push(handle));\n        }\n        return result;\n      })();\n    }\n\n    allBoundHandles() {\n      const result = [];\n      for (let handle of Array.from(this.allHandles())) {\n        if (handle._bound) {\n          result.push(handle);\n        }\n      }\n      return result;\n    }\n\n    allUnboundHandles() {\n      const result = [];\n      for (let handle of Array.from(this.allHandles())) {\n        if (!handle._bound) {\n          result.push(handle);\n        }\n      }\n      return result;\n    }\n\n    allHandles() {\n      return this.apiHandles().concat(this.iframeApiHandles());\n    }\n\n    iframeApiHandles() {\n      if (!this.iframes) {\n        this.iframes = document.getElementsByTagName('iframe');\n      }\n      const result = [];\n      for (let iframe of Array.from(this.iframes)) {\n        if (\n          iframe.wistiaApi &&\n          !(iframe.wistiaApi instanceof W.IframeApiProxy) &&\n          iframe.wistiaApi !== 'removed'\n        ) {\n          result.push(iframe.wistiaApi);\n        }\n      }\n      return result;\n    }\n\n    apiHandles() {\n      const result = [];\n      if (window.Wistia) {\n        const vidHash = wData('video');\n        for (let uuid in vidHash) {\n          let handle = vidHash[uuid];\n          result.push(handle);\n        }\n      }\n      return result;\n    }\n\n    each(fn) {\n      return Array.from(this.allBoundHandles()).map((handle) => fn(handle));\n    }\n\n    onFind(fn) {\n      const runWhenUp = (video) => {\n        return video.up(() => {\n          this.logger.info('onFind', video);\n          fn(video);\n          return video.unbind;\n        });\n      };\n      this.each(runWhenUp);\n      return this.bind('initembed', runWhenUp);\n    }\n  };\n\n  W.mixin(W.EmbedListener.prototype, W.bindable);\n\n  W._initializers.initEmbedShepherd = function () {\n    if (window.wistiaEmbeds) {\n      wlog.info('EmbedShepherd window.wistiaEmbeds already exists, call bindHandles');\n      window.wistiaEmbeds.bindHandles?.();\n    } else {\n      wlog.info('EmbedShepherd initialize embed shepherd');\n      window.wistiaEmbeds = new W.EmbedListener();\n    }\n\n    wlog.info('EmbedShepherd call window.wistiaEmbedShepherdReady()');\n    return window.wistiaEmbedShepherdReady?.();\n  };\n\n  return (W._destructors.destroyEmbedShepherd = function () {\n    window.wistiaEmbeds?.each((video) => (video._bound = false));\n    return (window.wistiaEmbeds = null);\n  });\n})(window.Wistia);\n","import { dynamicImport } from 'utilities/dynamicImport.ts';\nimport { onFindApiHandle, ALL_API_HANDLES_KEY } from 'utilities/onFindApiHandle.ts';\n\n(function (Wistia) {\n  const W = Wistia;\n\n  if (!W.mux) {\n    W.mux = {};\n  }\n\n  W._initializers.initMux = () => {\n    if (W.mux._setup) {\n      return;\n    }\n\n    // to save on COGS, we don't want to initialize Mux\n    // on every load. Do a coin flip to see if we should init\n    const percentageToInitialize = 0.1;\n    let shouldRandomDisableMux;\n    const cryptoObj = window.crypto || window.msCrypto;\n    if (typeof cryptoObj !== 'undefined') {\n      const cryptoRandom = cryptoObj.getRandomValues(new Uint32Array(1));\n      shouldRandomDisableMux = cryptoRandom[0] / (0xffffffff + 1) >= percentageToInitialize;\n    } else {\n      const mathRandom = Math.random();\n      shouldRandomDisableMux = Number(mathRandom >= percentageToInitialize);\n    }\n\n    if (shouldRandomDisableMux) {\n      W.mux._disabled = true;\n      return;\n    }\n\n    W.mux._setup = true;\n    W.mux._disabled = false;\n\n    onFindApiHandle(ALL_API_HANDLES_KEY, (video) => {\n      const shouldDisableMux = () => {\n        return window.wistiaDisableMux;\n      };\n\n      if (shouldDisableMux()) {\n        return;\n      }\n\n      if (!W.mux._disabled && !video.iframe && (!video._opts || video._opts.mux !== false)) {\n        dynamicImport('assets/external/wistia-mux.js').then((mod) => {\n          video.embedded(() => {\n            if (shouldDisableMux()) {\n              return;\n            }\n\n            mod.init(video);\n          });\n        });\n      }\n    });\n  };\n\n  W._destructors.destroyMux = () => {\n    W.mux._disabled = true;\n    const all = W.api.all();\n    for (let v = 0; v < all.length; v++) {\n      all[v].mux?.destroy();\n    }\n  };\n})(window.Wistia);\n","import type { PublicApi, WistiaContainerHTMLElement } from 'src/types/e-v1-player-api-types.d.ts';\nimport { poll } from './poll.js';\nimport { getOneApiHandle } from './getApiHandles.ts';\nimport { getAllApiEmbedElements } from './getEmbedElements.ts';\nimport { elemHasClass, elemMutationObserver } from './elem.js';\nimport { isDocReady, onDocReady } from './docReady.js';\nimport { wlog } from './wlog.js';\n\ntype MatcherFunction = (\n  video?: MatcherFunction | PublicApi | WistiaContainerHTMLElement | 'removed' | null,\n) => void;\ntype MatcherEventCallback = (event: CustomEvent) => void;\ntype CleanupCallback = () => void;\n\n// Event names\nconst INIT_EMBED_EVENT = 'initembed';\nconst AFTER_REPLACE_EVENT = 'afterreplace';\n\n// The special key which matches all api handles\nexport const ALL_API_HANDLES_KEY = '_all';\n\n// The mutation observer which watches for new wistia-player elements\n// Should only be defined once\nlet WistiaPlayerElementAddedObserver = null as MutationObserver | null;\n\n// The list of functions which should run when a new api handle is found\nconst onFindApiFunctionsList = [] as MatcherFunction[];\nconst onFindApiEventCallbacksList = [] as MatcherEventCallback[];\n\n/**\n * Run a function on either legacy or web component embeds\n * @param {WistiaContainerHTMLElement} wistiaPlayer - Embed element containing the api handle\n * @param {Function} fn - Function to run\n * @returns {void}\n */\nconst runFunctionOnAnyEmbedType = (\n  wistiaPlayer: WistiaContainerHTMLElement,\n  fn: MatcherFunction,\n) => {\n  // TODO: We need to call the PublicApi methods for now, but once WistiaPlayer\n  // is more built out we should be able to just send that over directly\n  const api = wistiaPlayer.wistiaApi ?? wistiaPlayer.api ?? null;\n  if (api !== null && api !== 'removed') {\n    fn(api);\n  }\n};\n\n/**\n * Set and return the event listeners for a wistia-player custom element\n * @param {WistiaContainerHTMLElement} wistiaPlayer - Embed element\n * @param {Function} runIfMatchCallback - Function to try running when event is fired\n * @returns {Function[]} - RemoveEventListener functions\n */\nconst setAndReturnEventListeners = (\n  wistiaPlayer: WistiaContainerHTMLElement,\n  runIfMatchCallback: MatcherEventCallback,\n): CleanupCallback[] => {\n  wistiaPlayer.addEventListener(INIT_EMBED_EVENT, runIfMatchCallback);\n  wistiaPlayer.addEventListener(AFTER_REPLACE_EVENT, runIfMatchCallback);\n\n  return [\n    () => wistiaPlayer.removeEventListener(INIT_EMBED_EVENT, runIfMatchCallback),\n    () => wistiaPlayer.removeEventListener(AFTER_REPLACE_EVENT, runIfMatchCallback),\n  ] as CleanupCallback[];\n};\n\n/**\n * Set up a mutation observer to watch for new embed elements\n * Should only be called and created once\n * @returns {void}\n */\nconst createNewEmbedMutationObserver = () => {\n  WistiaPlayerElementAddedObserver = elemMutationObserver((mutations: MutationRecord[]) => {\n    mutations.forEach((mutation) => {\n      const { addedNodes } = mutation as unknown as MutationRecord;\n      addedNodes.forEach((addedNode: HTMLElement) => {\n        if (addedNode.tagName === 'WISTIA-PLAYER' || elemHasClass(addedNode, 'wistia_embed')) {\n          const wistiaPlayer = addedNode as WistiaContainerHTMLElement;\n          // Run any functions which should run when a new embed is found\n          onFindApiFunctionsList.forEach((onFindApiFunction) => {\n            runFunctionOnAnyEmbedType(wistiaPlayer, onFindApiFunction);\n          });\n\n          // And set up event listeners for that embed\n          onFindApiEventCallbacksList.forEach((onFindApiEventCallback) => {\n            setAndReturnEventListeners(wistiaPlayer, onFindApiEventCallback);\n          });\n        }\n      });\n    });\n  }) as MutationObserver;\n\n  onDocReady(() => {\n    if (WistiaPlayerElementAddedObserver !== null) {\n      try {\n        // eslint-disable-next-line observers/no-missing-unobserve-or-disconnect\n        WistiaPlayerElementAddedObserver.observe(document.body, { subtree: true, childList: true });\n      } catch (err: unknown) {\n        wlog.error(err);\n      }\n    }\n  });\n};\n\n/**\n * Run a function and set up listeners on any embeds which already exist in the dom\n * @param {Function} runIfMatch - Function to try running\n * @param {Function} runIfMatchCallback - Callback to set on event listeners\n * @returns {Function[]} - Cleanup functions (unbind or removeEventListener)\n */\nconst setupOnFindForExistingEmbeds = (\n  runIfMatch: MatcherFunction,\n  runIfMatchCallback: MatcherEventCallback,\n) => {\n  const legacyEmbeds = Array.from(getAllApiEmbedElements());\n  const webComponentEmbeds = Array.from(\n    document.getElementsByTagName('wistia-player'),\n  ) as WistiaContainerHTMLElement[];\n\n  const wistiaPlayers = legacyEmbeds.concat(webComponentEmbeds);\n\n  return wistiaPlayers.reduce(\n    (accumulator: CleanupCallback[], wistiaPlayer: WistiaContainerHTMLElement) => {\n      // Try running the function on every existing api handle now\n      runFunctionOnAnyEmbedType(wistiaPlayer, runIfMatch);\n\n      // Set up event listeners for this embed's initembed and afterreplace events\n      return [...accumulator, ...setAndReturnEventListeners(wistiaPlayer, runIfMatchCallback)];\n    },\n    [],\n  );\n};\n\n/**\n * Run a function on a single API handle or all API handles when they are found\n * @param {HTMLElement | number | string} matcher - The matcher\n * @param {Function} fn - The function to run\n * @returns {Function} - The function to unbind the event listener\n */\nexport const onFindApiHandle = (\n  matcher: HTMLElement | number | string,\n  fn: MatcherFunction,\n): void => {\n  // If the matcher is the special key '_all', run the function on any and all api handles\n  // otherwise run the function on the single api handle which matches the matcher\n  const runIfMatch = ((video) => {\n    if (matcher === ALL_API_HANDLES_KEY || getOneApiHandle(matcher) === video) {\n      fn(video);\n      return true;\n    }\n    return false;\n  }) as MatcherFunction;\n\n  // Save the event callback separately so we avoid adding duplicate event listeners\n  // when an element is removed and added back to the dom\n  const runIfMatchCallback = (event: CustomEvent<WistiaContainerHTMLElement>) => {\n    // event.detail.api contains an instance of this embed's api\n    const { api } = event.detail;\n    if (api !== 'removed') {\n      fn(api);\n    }\n  };\n\n  // Add this function to the list of functions which run and are bound to the\n  // initembed and afterreplace events when NEW embeds are added to the dom\n  onFindApiFunctionsList.push(runIfMatch);\n  onFindApiEventCallbacksList.push(runIfMatchCallback);\n\n  // Initialize the single mutation observer which watches for new embed elements\n  if (WistiaPlayerElementAddedObserver === null) {\n    createNewEmbedMutationObserver();\n  }\n\n  // Run the function on any existing embeds and add listeners for initembed and afterreplace events\n  const runOnExistingEmbeds = () => {\n    const cleanupCallbacks = setupOnFindForExistingEmbeds(runIfMatch, runIfMatchCallback);\n\n    return () => cleanupCallbacks.map((cleanupCallback) => cleanupCallback());\n  };\n\n  const POLL_INTERVAL = 300;\n  const POLL_TIMEOUT = 10000;\n\n  // Try it once immediately, then poll until the document is ready\n  runOnExistingEmbeds();\n  poll(isDocReady, runOnExistingEmbeds, POLL_INTERVAL, POLL_TIMEOUT);\n};\n","// embed.js is the \"Wistia Library.\" It has all the features we use to\n// embed a video.\n\nimport '../embeds/media/modules/_all_modules.js';\n\nimport '../embeds/media/modules/_init.coffee';\nimport './vulcanV2Player.js';\n\nimport './WistiaPlayer.ts';\n\nwindow.Wistia.wistia = Date.now();\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport { wlog, LOG_LEVELS } from 'utilities/wlog.js';\nimport { parseUrl } from 'utilities/url.js';\n\n(function (Wistia) {\n  const W = Wistia;\n  if (W.wlog) {\n    return;\n  }\n\n  W.wlog = wlog;\n\n  W.log = wlog.error;\n  W.error = wlog.error;\n  W.warn = wlog.warn;\n  W.notice = wlog.notice;\n  W.info = wlog.info;\n  W.debug = wlog.debug;\n  W.logLevels = LOG_LEVELS;\n\n  // Convenient for logging the trace of the current location. Works on Chrome\n  // and a few other browsers.\n  W.stacktrace = function () {\n    try {\n      throw new Error('stacktrace');\n    } catch (e) {\n      return e.stack;\n    }\n  };\n\n  W.logHelpers = {\n    _log(type, ...messages) {\n      const logFn = W[type];\n      messages = [].concat(this._logPrefix()).concat(messages);\n      return logFn(...Array.from(messages || []));\n    },\n    _logPrefix() {\n      return [this.constructor.name];\n    },\n    error(...messages) {\n      return this._log('error', ...Array.from(messages));\n    },\n    warn(...messages) {\n      return this._log('notice', ...Array.from(messages));\n    },\n    notice(...messages) {\n      return this._log('notice', ...Array.from(messages));\n    },\n    info(...messages) {\n      return this._log('info', ...Array.from(messages));\n    },\n    debug(...messages) {\n      return this._log('debug', ...Array.from(messages));\n    },\n    log(...messages) {\n      return this._log('error', ...Array.from(messages));\n    },\n  };\n\n  W._initializers.initWLog = function () {\n    // Allow the page to override the log level\n    let level;\n    let referrerUrl;\n    let wgrep;\n    let wgrepv;\n    const pageUrl = parseUrl(location.href);\n    if (document.referrer) {\n      referrerUrl = parseUrl(document.referrer);\n    }\n\n    if ((level = pageUrl?.params?.wlog) || (top !== self && (level = referrerUrl?.params?.wlog))) {\n      wlog.setLevel(level);\n    }\n\n    if ((wgrep = pageUrl?.params?.wgrep) || (wgrep = referrerUrl?.params?.wgrep)) {\n      wlog.setGrep(new RegExp(wgrep, 'i'));\n    }\n\n    if ((wgrepv = pageUrl?.params?.wgrepv) || (wgrepv = referrerUrl?.params?.wgrepv)) {\n      return wlog.setGrepv(new RegExp(wgrepv, 'i'));\n    }\n  };\n\n  return (W._destructors.destroyWLog = () => wlog?.reset());\n})(window.Wistia);\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\nimport { cachedDetect } from 'utilities/detect.js';\n\n((W) =>\n  (W._initializers.initDetect = function () {\n    // Detect on load, to be accessed like Wistia.detect.browser.version > 8\n    //\n    // NOTE: Do not re-detect. There is an issue with iOS + jQuery 1.10 + multiple\n    // declarations of E-v1 that somehow screws up injecting HTML5 video elements\n    // into the page.\n    if (!W.detect) {\n      return (W.detect = cachedDetect());\n    }\n  }))(window.Wistia);\n","var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  slice = [].slice;\n\n(function(Wistia) {\n  var GLOBAL_ID_KEY, Judy, StopGo, TranslationApi, Url, W, abTestMediaSelector, assign, cacheMedia, cast, clearTimeouts, clone, countMetric, doTimeout, durationStringToSeconds, dynamicImport, eV1HostWithPort, eV1Protocol, elemAddClass, elemAfter, elemAnimate, elemAppend, elemBefore, elemFromObject, elemHasClass, elemHeight, elemInDom, elemIsHidden, elemOffset, elemPrepend, elemRebind, elemRemove, elemStyle, elemUnbind, elemUnbindAll, elemUnbindAllInside, elemWidth, embedOptionsFromQueryParams, extractEmailFromParams, fetchMedia, findScriptInDomBySrc, formattedDurationToSeconds, generateRelativeBlockCss, getChannelStorage, getDeep, getEmbedOptionStore, getPluginsNotInList, getViewerPreferences, globalTrigger, inUserEventContext, inferPageUrl, inferQualityRangeFromOpts, injectJsonLd, insertIntoArray, isEmpty, isObject, isValidDurationString, maybeLoadAndSetupEmbedLinksThrottled, mediaDataScriptRegExp, mediaDataTransforms, mediaDataUrl, merge, oldTrigger, parseUrl, pluginScriptsToLoad, poll, prefetchEngineAndPlugins, proto, ref, ref1, ref10, ref11, ref12, ref13, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, removeInjectedJsonLd, root, sampleMetric, sanePlayerColor, scrollTop, secondsToIso8601Duration, secondsToIso8601Time, seqId, setDeep, throttle, toArray, transformResponse, uniqId, wData, wRemoveData;\n  W = Wistia;\n  if (W.PublicApi) {\n    return;\n  }\n  Judy = require('utilities/judy.js');\n  StopGo = require('utilities/stopgo.js').StopGo;\n  root = require('utilities/root.js')[\"default\"];\n  ref = require('utilities/pluginScriptsToLoad.js'), pluginScriptsToLoad = ref.pluginScriptsToLoad, getPluginsNotInList = ref.getPluginsNotInList;\n  prefetchEngineAndPlugins = require('utilities/prefetching.js').prefetchEngineAndPlugins;\n  ref1 = require('utilities/injectJsonLd.js'), injectJsonLd = ref1.injectJsonLd, removeInjectedJsonLd = ref1.removeInjectedJsonLd;\n  ref2 = require('utilities/url.js'), proto = ref2.proto, parseUrl = ref2.parseUrl, Url = ref2.Url;\n  ref3 = require('utilities/wistiaData.js'), wData = ref3.wData, wRemoveData = ref3.wRemoveData;\n  ref4 = require('utilities/timeout-utils.js'), doTimeout = ref4.doTimeout, clearTimeouts = ref4.clearTimeouts;\n  ref5 = require('utilities/iso8601Helper.js'), secondsToIso8601Time = ref5.secondsToIso8601Time, secondsToIso8601Duration = ref5.secondsToIso8601Duration;\n  ref6 = require('utilities/duration.js'), formattedDurationToSeconds = ref6.formattedDurationToSeconds, isValidDurationString = ref6.isValidDurationString, durationStringToSeconds = ref6.durationStringToSeconds;\n  seqId = require('utilities/seqid.js').seqId;\n  assign = require('utilities/assign.js')[\"default\"];\n  ref7 = require('utilities/obj.js'), clone = ref7.clone, merge = ref7.merge, isEmpty = ref7.isEmpty, cast = ref7.cast, setDeep = ref7.setDeep, getDeep = ref7.getDeep, isObject = ref7.isObject;\n  ref8 = require('utilities/simpleMetrics.js'), countMetric = ref8.countMetric, sampleMetric = ref8.sampleMetric;\n  poll = require('utilities/core.js').poll;\n  extractEmailFromParams = require('utilities/extractEmailFromParams.ts').extractEmailFromParams;\n  inferPageUrl = require('utilities/inferPageUrl.ts').inferPageUrl;\n  getViewerPreferences = require('utilities/viewerPreferences.js').getViewerPreferences;\n  dynamicImport = require('utilities/dynamicImport.ts').dynamicImport;\n  getChannelStorage = require('embeds/channel/channelStorage.js').getChannelStorage;\n  maybeLoadAndSetupEmbedLinksThrottled = require('./_embed_links.js').maybeLoadAndSetupEmbedLinksThrottled;\n  inferQualityRangeFromOpts = require('utilities/inferQualityRangeFromOpts.js').inferQualityRangeFromOpts;\n  generateRelativeBlockCss = require('utilities/generate.js').generateRelativeBlockCss;\n  ref9 = require('utilities/embedOptionStore.ts'), getEmbedOptionStore = ref9.getEmbedOptionStore, GLOBAL_ID_KEY = ref9.GLOBAL_ID_KEY;\n  ref10 = require('utilities/media_data.js'), fetchMedia = ref10.fetchMedia, mediaDataUrl = ref10.mediaDataUrl, mediaDataScriptRegExp = ref10.mediaDataScriptRegExp, transformResponse = ref10.transformResponse, cacheMedia = ref10.cacheMedia, abTestMediaSelector = ref10.abTestMediaSelector;\n  findScriptInDomBySrc = require('utilities/script-utils.js').findScriptInDomBySrc;\n  sanePlayerColor = require('utilities/sane-player-color.js').sanePlayerColor;\n  TranslationApi = require('../players/AuroraPlayer/translationApi.ts').TranslationApi;\n  W.Judy = Judy;\n  W.Assets = require('utilities/assets.js');\n  ref11 = require('utilities/elem.js'), elemAddClass = ref11.elemAddClass, elemAfter = ref11.elemAfter, elemAnimate = ref11.elemAnimate, elemAppend = ref11.elemAppend, elemBefore = ref11.elemBefore, elemFromObject = ref11.elemFromObject, elemHasClass = ref11.elemHasClass, elemHeight = ref11.elemHeight, elemInDom = ref11.elemInDom, elemIsHidden = ref11.elemIsHidden, elemOffset = ref11.elemOffset, elemPrepend = ref11.elemPrepend, elemRebind = ref11.elemRebind, elemRemove = ref11.elemRemove, elemStyle = ref11.elemStyle, elemUnbind = ref11.elemUnbind, elemUnbindAll = ref11.elemUnbindAll, elemUnbindAllInside = ref11.elemUnbindAllInside, elemWidth = ref11.elemWidth, inUserEventContext = ref11.inUserEventContext;\n  scrollTop = require('utilities/scroll.js').scrollTop;\n  ref12 = require('utilities/hosts.js'), eV1Protocol = ref12.eV1Protocol, eV1HostWithPort = ref12.eV1HostWithPort;\n  globalTrigger = require('utilities/globalBindAndTrigger.js').globalTrigger;\n  uniqId = require('utilities/uniqId.js').uniqId;\n  throttle = require('utilities/core.js').throttle;\n  ref13 = require('utilities/array.js'), insertIntoArray = ref13.insertIntoArray, toArray = ref13.toArray;\n  mediaDataTransforms = require('utilities/media-data-transforms.js').mediaDataTransforms;\n  embedOptionsFromQueryParams = require('utilities/embedOptionsFromQueryParams')[\"default\"];\n  W.PublicApi = (function() {\n    function PublicApi(hashedId, options) {\n      this._definePluginMethod = bind(this._definePluginMethod, this);\n      this._doResize = bind(this._doResize, this);\n      this._doMonitor = bind(this._doMonitor, this);\n      this._initWithMediaData = bind(this._initWithMediaData, this);\n      this._allocEmbedSlot = bind(this._allocEmbedSlot, this);\n      var doInit, e, ref14;\n      this.on('problem', (function(_this) {\n        return function(data) {\n          data.video = _this;\n          return globalTrigger('problem', data);\n        };\n      })(this));\n      this.info('initialize');\n      this._hasImpl = new StopGo();\n      this._notReplacing = new StopGo();\n      this._notReplacing(true);\n      this.hasPlugins = new StopGo();\n      this.up = new StopGo();\n      this.up(true);\n      this.down = new StopGo();\n      this.down(false);\n      this.inViewport = new StopGo();\n      this.inViewport(false);\n      this._implVersion = 0;\n      this._playlistIndex = 0;\n      this._attrs = {};\n      this.params = {};\n      this.options = {};\n      this.controls = {};\n      this._pluginStopGos = {};\n      this.plugins = {};\n      this.data = {};\n      this._definePluginMethod();\n      this.hashedId(hashedId);\n      this._givenOptions = options;\n      this._playlist = [];\n      this._setupContainer();\n      this._setupTranslationApiForLegacyEmbeds();\n      this._validate();\n      this._inferPropertiesBeforeMediaData();\n      this._dedupContainer();\n      this._addToGlobalCache();\n      this._setupBindings();\n      this.supportedPlayers = [];\n      this.addToPlaylist(this.hashedId(), options);\n      this.down(this.looksDown());\n      this.up(this.looksUp());\n      this._hasImpl((function(_this) {\n        return function() {\n          if (_this._wvideoInUrl()) {\n            _this._scrollToContainer();\n            if (_this.popover) {\n              return _this.embedded(function() {\n                return _this.popover.showAndPlay();\n              });\n            } else {\n              return _this.play();\n            }\n          }\n        };\n      })(this));\n      if ((ref14 = window.wistiaEmbeds) != null) {\n        ref14.bindHandles();\n      }\n      this.monitor();\n      this.embedded((function(_this) {\n        return function() {\n          return _this.monitor();\n        };\n      })(this));\n      this.ready((function(_this) {\n        return function() {\n          return _this.monitor();\n        };\n      })(this));\n      doInit = (function(_this) {\n        return function() {\n          return _this._onInitializable(function() {\n            return _this._withFreeEmbedSlots(function() {\n              var cacheKey, isJsonPScriptAlreadyInDom, matchUrl, opts, parsed, url;\n              _this._initTime = new Date().getTime();\n              _this.hasData(function() {\n                return _this._hasDataTime = new Date().getTime();\n              });\n              _this.embedded(function() {\n                return _this._embeddedTime = new Date().getTime();\n              });\n              _this.ready(function() {\n                _this._readyTime = new Date().getTime();\n                return _this.removeSwatch();\n              });\n              opts = _this._gatherOptions();\n              url = mediaDataUrl(hashedId, _this._gatherOptions());\n              matchUrl = url.replace(/\\.json(?!p)/, '.jsonp').replace(/&$/, '');\n              isJsonPScriptAlreadyInDom = findScriptInDomBySrc(matchUrl, {\n                ignoreProtocol: true,\n                scriptRegex: mediaDataScriptRegExp(hashedId)\n              });\n              if (opts.mediaData) {\n                return _this._initWithMediaData(opts.mediaData);\n              } else if (isJsonPScriptAlreadyInDom) {\n                parsed = new Url(matchUrl);\n                cacheKey = \"wistiajsonp-\" + (parsed.relative());\n                return poll(function() {\n                  return root[cacheKey] !== null && root[cacheKey] !== void 0;\n                }, function() {\n                  var mediaData, mediaWithOpts;\n                  mediaWithOpts = root[cacheKey];\n                  if (mediaWithOpts.mediaType && mediaWithOpts.mediaType === 'ab-test') {\n                    mediaData = abTestMediaSelector(mediaWithOpts, _this._gatherOptions());\n                  } else {\n                    mediaData = transformResponse(mediaWithOpts, _this._gatherOptions());\n                    cacheMedia(hashedId, mediaData);\n                  }\n                  return _this._initWithMediaData(mediaData);\n                }, 15, 30000);\n              } else {\n                return fetchMedia(_this.hashedId(), _this._gatherOptions()).then(function(mediaData) {\n                  return _this._initWithMediaData(mediaData);\n                })[\"catch\"](function() {\n                  return countMetric('player/failure/init-failed');\n                });\n              }\n            });\n          });\n        };\n      })(this);\n      if (this._shouldBePopover()) {\n        this.popover = {\n          show: (function(_this) {\n            return function() {\n              return _this._hasImpl(function() {\n                return _this.popover.show();\n              });\n            };\n          })(this),\n          hide: (function(_this) {\n            return function() {\n              return _this._hasImpl(function() {\n                return _this.popover.hide();\n              });\n            };\n          })(this),\n          height: (function(_this) {\n            return function(h, options) {\n              if (h != null) {\n                return _this._hasImpl(function() {\n                  return _this.popover.height(h, options);\n                });\n              } else {\n                return 0;\n              }\n            };\n          })(this),\n          width: (function(_this) {\n            return function(w, options) {\n              if (w != null) {\n                return _this._hasImpl(function() {\n                  return _this.popover.width(w, options);\n                });\n              } else {\n                return 0;\n              }\n            };\n          })(this)\n        };\n        dynamicImport('assets/external/popover.js').then((function(_this) {\n          return function() {\n            _this.popover = new W.Popover(_this);\n            return doInit();\n          };\n        })(this));\n      } else {\n        doInit();\n      }\n      this.trigger('initembed');\n      this.container.dispatchEvent(new CustomEvent('initembed', {\n        detail: {\n          api: this\n        }\n      }));\n      maybeLoadAndSetupEmbedLinksThrottled();\n      performance.mark('player_init_complete');\n      try {\n        sampleMetric('player/initembed-latency', performance.measure('player_init_latency', 'player_init_start', 'player_init_complete').duration);\n      } catch (error1) {\n        e = error1;\n        setTimeout(((function(_this) {\n          return function() {\n            throw e;\n          };\n        })(this)), 0);\n      }\n      setTimeout(((function(_this) {\n        return function() {\n          return _this.container.dispatchEvent(new CustomEvent('legacypublicapicreated'));\n        };\n      })(this)), 0);\n    }\n\n\n    /* \n      - {roundedPlayer} - if it is the _only_ option, it is used as the base upon which all the other border radiuses are derived\n      - {playerBorderRadius} - Determines the border radius of the thumbnail and \n          outer parts of the player.\n      - {bigPlayButtonBorderRadius} - Border radius of the big play button\n      - {controlBarBorderRadius} - Border radius of the control bar \n      - {controlBarDistance} - Distance the control bar is from the edges of the player - also how far control bar dialogs \n          are from the control bar. \n      - {floatingControlBar} - Boolean that can used to just create a floating control bar with border radius - no configuratio\n     */\n\n    PublicApi.prototype._defaultPlayerBorderRadius = function() {\n      if (this._opts.roundedPlayer) {\n        return this._opts.roundedPlayer;\n      } else if (this._opts.playerBorderRadius) {\n        return this._opts.playerBorderRadius;\n      } else {\n        return 0;\n      }\n    };\n\n    PublicApi.prototype._defaultBigPlayButtonBorderRadius = function() {\n      if (this._opts.bigPlayButtonBorderRadius) {\n        return this._opts.bigPlayButtonBorderRadius;\n      } else if (this._opts.roundedPlayer) {\n        return this._opts.roundedPlayer * 0.75;\n      } else {\n        return 0;\n      }\n    };\n\n    PublicApi.prototype._defaultControlBarBorderRadius = function() {\n      if (this._opts.controlBarBorderRadius) {\n        return this._opts.controlBarBorderRadius;\n      } else if (this._opts.roundedPlayer) {\n        return this._opts.roundedPlayer * 0.75;\n      } else if (this._opts.floatingControlBar) {\n        return 18;\n      } else {\n        return 0;\n      }\n    };\n\n    PublicApi.prototype._defaultControlBarDistance = function() {\n      if (this._opts.roundedPlayer) {\n        return this._opts.roundedPlayer / 4;\n      } else if (this._opts.controlBarBorderRadius) {\n        return this._opts.controlBarBorderRadius / 2;\n      } else if (this._opts.floatingControlBar) {\n        return 6;\n      } else {\n        return 0;\n      }\n    };\n\n    PublicApi.prototype._withFreeEmbedSlots = function(fn) {\n      var freeSlotTimeout;\n      this._setupEmbedSlots();\n      freeSlotTimeout = null;\n      this.embedded((function(_this) {\n        return function() {\n          clearTimeout(freeSlotTimeout);\n          return freeSlotTimeout = setTimeout((function() {\n            return _this._freeEmbedSlot();\n          }), _this._embedSlotThrottleInterval());\n        };\n      })(this));\n      if (this._freeEmbedSlotOnError == null) {\n        this._freeEmbedSlotOnError = (function(_this) {\n          return function() {\n            _this._freeEmbedSlot();\n            return _this.unbind;\n          };\n        })(this);\n      }\n      this.rebind('servererror', this._freeEmbedSlotOnError);\n      return W._embedSlotFree((function(_this) {\n        return function() {\n          _this._allocEmbedSlot();\n          freeSlotTimeout = setTimeout((function() {\n            return _this._freeEmbedSlot();\n          }), 1000);\n          return fn();\n        };\n      })(this));\n    };\n\n    PublicApi.prototype._onInitializable = function(callback) {\n      if (!this.popover) {\n        return callback();\n      }\n      if (!elemIsHidden(this.container)) {\n        return callback();\n      }\n      this.info('popover, delaying init until container is visible');\n      return W.eventLoop.add(this.uuid + \".wait_for_container_visible\", 500, (function(_this) {\n        return function() {\n          var e;\n          if (!elemIsHidden(_this.container)) {\n            _this.info('container became visible, initializing');\n            try {\n              callback();\n            } catch (error1) {\n              e = error1;\n              W.error(e);\n            }\n            return W.eventLoop.remove;\n          }\n        };\n      })(this));\n    };\n\n    PublicApi.prototype._setupEmbedSlots = function() {\n      if (W._embedSlots == null) {\n        W._embedSlots = [];\n      }\n      if (!W._embedSlotFree) {\n        W._embedSlotFree = new StopGo();\n        return W._embedSlotFree(true);\n      }\n    };\n\n    PublicApi.prototype._maxEmbedSlots = function() {\n      var k, v, videoCount;\n      videoCount = ((function() {\n        var ref14, results;\n        ref14 = wData('video');\n        results = [];\n        for (k in ref14) {\n          v = ref14[k];\n          results.push(k);\n        }\n        return results;\n      })()).length;\n      if (videoCount > 20) {\n        return 5;\n      } else if (videoCount > 10) {\n        return 8;\n      } else {\n        return 13;\n      }\n    };\n\n    PublicApi.prototype._embedSlotThrottleInterval = function() {\n      return 500;\n    };\n\n    PublicApi.prototype._freeEmbedSlot = function() {\n      var video;\n      this._setupEmbedSlots();\n      W._embedSlots = (function() {\n        var j, len, ref14, results;\n        ref14 = W._embedSlots;\n        results = [];\n        for (j = 0, len = ref14.length; j < len; j++) {\n          video = ref14[j];\n          if (video !== this) {\n            results.push(video);\n          }\n        }\n        return results;\n      }).call(this);\n      if (W._embedSlots.length < this._maxEmbedSlots()) {\n        return W._embedSlotFree(true);\n      }\n    };\n\n    PublicApi.prototype._allocEmbedSlot = function() {\n      this._setupEmbedSlots();\n      W._embedSlots.push(this);\n      if (W._embedSlots.length >= this._maxEmbedSlots()) {\n        return W._embedSlotFree(false);\n      }\n    };\n\n    PublicApi.prototype._shouldLazyLoad = function() {\n      var opts;\n      opts = this._gatherOptions();\n      return (!window._inWistiaIframe && parent === self) && (opts.lazyLoad || (this.popover && opts.lazyLoad !== false));\n    };\n\n    PublicApi.prototype._initWithMediaData = function(mediaData) {\n      var error, implVersion, newPlayerType, optionSources, ref14;\n      this.info('_initWithMediaData', mediaData);\n      try {\n        if (W.Player.assets(mediaData, {\n          \"public\": true\n        }).length === 0) {\n          W.Metrics.videoCount(this, 'player/no-public-assets');\n        }\n      } catch (error1) {\n        error = error1;\n        this.debug(error);\n      }\n      if (this.isRemoved()) {\n        this.notice('abort, video already removed');\n        return;\n      }\n      if (mediaData.error) {\n        this.notice('display error message from server');\n        this._displayServerError(mediaData);\n        this.trigger('servererror');\n        return;\n      }\n      this.hashedId(mediaData.hashedId);\n      this._originalMediaData = clone(mediaData);\n      this._mediaData = mediaData;\n      this._mediaData = mediaDataTransforms(mediaData, this._gatherOptions());\n      this.data.media = mediaData;\n      optionSources = this._optionSources();\n      this.info('_optionSources', optionSources);\n      if (((ref14 = optionSources.inline) != null ? ref14.container : void 0) instanceof HTMLElement) {\n        optionSources.inline = assign({}, optionSources.inline, {\n          container: optionSources.inline.container.id || 'container-with-no-id'\n        });\n      }\n      countMetric('player/option-sources', 1, {\n        optionSources: optionSources,\n        hashedId: this._hashedId,\n        url: window.location.href\n      });\n      this._opts = this._gatherOptions();\n      this.info('_opts', clone(this._opts));\n      merge(this._mediaData, this._opts.mergeMediaData);\n      this._inferPropertiesAfterMediaData();\n      newPlayerType = Judy.choosePlayer(this.judyCtx(), this._mediaData, this._opts);\n      this._playerPlugins = Judy.playerPlugins(this.judyCtx(), newPlayerType, this._mediaData, this._opts);\n      Judy.logWarnings(this.judyCtx(), newPlayerType, this._mediaData, this._opts);\n      this._implVersion += 1;\n      implVersion = this._implVersion;\n      return this._execPlugins().then((function(_this) {\n        return function() {\n          var e, klass, ref15;\n          if (_this._implVersion !== implVersion) {\n            _this.notice('_initWithMediaData(): impl changed from', implVersion, 'to', _this._implVersion, 'not completing init');\n            return;\n          }\n          _this.hasPlugins(true);\n          klass = W.PublicApi.classFor(newPlayerType);\n          _this.supportedPlayers = Judy.supportedPlayers(_this.judyCtx(), _this._mediaData.assets);\n          try {\n            _this._impl = new klass(_this).init();\n          } catch (error1) {\n            e = error1;\n            _this.error(\"Failed to initialize impl of class\", klass, 'preferred', newPlayerType, 'supported', _this.supportedPlayers);\n            throw e;\n          }\n          _this.grid = _this._impl.setupGrid({\n            initDimensions: false\n          });\n          _this._hasImpl(true);\n          _this.hasData(true);\n          if ((ref15 = _this._embedContainer) != null ? ref15.parentNode : void 0) {\n            _this._runMethodsFromOptions();\n            _this._impl.embed();\n            if (_this._getFadeInTime() > 0) {\n              elemStyle(_this._impl.gridChildren(), {\n                opacity: 0\n              });\n            }\n            _this._impl.embedded(function() {\n              if (_this._getFadeInTime() > 0) {\n                return elemAnimate(_this._impl.gridChildren(), {\n                  opacity: 1\n                }, {\n                  time: _this._getFadeInTime(),\n                  callback: function() {\n                    return _this.trigger('transitiondone');\n                  }\n                });\n              } else {\n                return _this.trigger('transitiondone');\n              }\n            });\n            doTimeout(_this.uuid + \".prefetch_next_media\", (function() {\n              return _this.prefetchNextMedia();\n            }), 2000);\n            return _this._injectJsonLd();\n          } else {\n            return _this.notice('embed(): container removed, giving up');\n          }\n        };\n      })(this));\n    };\n\n    PublicApi.prototype._getFadeInTime = function() {\n      if (this._opts.fadeInTime != null) {\n        return this._opts.fadeInTime;\n      } else {\n        return 200;\n      }\n    };\n\n    PublicApi.prototype.judyCtx = function() {\n      return this._judyCtx || (this._judyCtx = Judy.buildContext({\n        pageUrl: this._attrs.pageUrl\n      }));\n    };\n\n    PublicApi.prototype._wvideoInUrl = function() {\n      var url;\n      if (this._opts._inIframe) {\n        return false;\n      }\n      url = parseUrl(this._attrs.pageUrl);\n      return url.params.wvideo === this.hashedId();\n    };\n\n    PublicApi.prototype._scrollToContainer = function() {\n      var offset;\n      offset = elemOffset(this.container);\n      return scrollTop(offset.top - 100);\n    };\n\n    PublicApi.prototype._injectJsonLd = function() {\n      if (this._jsonLdId) {\n        removeInjectedJsonLd(this._jsonLdId);\n      }\n      if (this.playerType === 'notplayable' || this.playerType === 'passwordprotected' || this._opts._inIframe || this._attrs.seo === false) {\n        return;\n      }\n      this._jsonLdId = \"w-json-ld\" + this._impl.uuid;\n      return injectJsonLd(this._jsonLdId, this._mediaData, {\n        videoWidth: this.videoWidth(),\n        videoHeight: this.videoHeight(),\n        embedOptions: this._opts\n      });\n    };\n\n    PublicApi.prototype._setDeprecatedProperties = function() {\n      this.options = clone(this._opts);\n      this.params = clone(this._opts);\n      merge(this.params, this._attrs);\n      if (this._attrs.email) {\n        this.params.trackEmail = this._attrs.email;\n      }\n      return this._hasImpl((function(_this) {\n        return function() {\n          var ref14;\n          return _this.playerType = _this.embedType = (ref14 = _this._impl) != null ? ref14.playerType : void 0;\n        };\n      })(this));\n    };\n\n    PublicApi.prototype.elem = function() {\n      var ref14;\n      return (ref14 = this._impl) != null ? typeof ref14.elem === \"function\" ? ref14.elem() : void 0 : void 0;\n    };\n\n    PublicApi.prototype._execPlugins = function() {\n      var customPlugins;\n      this._pluginScripts = pluginScriptsToLoad(this._mediaData, this._opts, this._playerPlugins);\n      W.plugin._setFnForDefinedPlugins(this, this._pluginScripts);\n      customPlugins = getPluginsNotInList(this._pluginScripts);\n      if (customPlugins.length > 0) {\n        countMetric('custom-plugin-exec', 1, {\n          customPlugins: customPlugins,\n          hashedId: this._hashedId,\n          url: window.location.href\n        });\n      }\n      this.info('_execPlugins', this._pluginScripts);\n      return W.plugin._execQueue(this, this._pluginScripts);\n    };\n\n    PublicApi.prototype._optionSources = function(options) {\n      var customizeOptions, inferredOptions, inlineOptions, k, queryParamOptions, queryParamWhitelist, ref14, result, v;\n      if (options == null) {\n        options = {};\n      }\n      options = merge({\n        givenOptions: clone(this._givenOptions),\n        mediaData: clone(this._mediaData),\n        hashedId: this._hashedId,\n        container: this.container\n      }, options);\n      inlineOptions = options.givenOptions;\n      if (inlineOptions.version === 'v1') {\n        customizeOptions = {};\n      } else {\n        if (options.mediaData) {\n          customizeOptions = clone(options.mediaData.embedOptions);\n          delete customizeOptions.stillUrl;\n        } else {\n          customizeOptions = {};\n        }\n      }\n      queryParamWhitelist = ['autoPlay', 'deliveryCdn', 'hls', 'techInfo'];\n      queryParamOptions = embedOptionsFromQueryParams(queryParamWhitelist, this._inferPageUrl());\n      inferredOptions = {};\n      result = {\n        customize: customizeOptions,\n        global: getEmbedOptionStore(GLOBAL_ID_KEY),\n        hashedId: getEmbedOptionStore(options.hashedId),\n        dom: getEmbedOptionStore(\"__\" + options.container.id + \"_dom_options__\"),\n        container: getEmbedOptionStore(options.container.id),\n        inline: inlineOptions,\n        inferredOptions: inferredOptions,\n        viewerPreferences: getViewerPreferences(),\n        channelPreferences: inlineOptions.channelPreferences || {},\n        queryParamOptions: queryParamOptions,\n        override: options.override || {}\n      };\n      if (inlineOptions.optionSourceOverrides) {\n        ref14 = inlineOptions.optionSourceOverrides;\n        for (k in ref14) {\n          v = ref14[k];\n          if (result.hasOwnProperty(k)) {\n            result[k] = v;\n          }\n        }\n      }\n      for (k in result) {\n        v = result[k];\n        if (isEmpty(v)) {\n          delete result[k];\n        }\n      }\n      return result;\n    };\n\n    PublicApi.prototype._mergeSources = function(sources, options) {\n      var k, opt, ref14, ref15, v;\n      opt = {};\n      for (k in sources) {\n        v = sources[k];\n        if (((ref14 = options.only) != null ? ref14.indexOf(k) : void 0) >= 0) {\n          merge(opt, v);\n        } else if (((ref15 = options.except) != null ? ref15.indexOf(k) : void 0) < 0) {\n          merge(opt, v);\n        } else if (!options.only && !options.except) {\n          merge(opt, v);\n        }\n      }\n      return opt;\n    };\n\n    PublicApi.prototype._gatherOptions = function(options) {\n      var opt, sources;\n      if (options == null) {\n        options = {};\n      }\n      sources = this._optionSources(options);\n      opt = this._mergeSources(sources, options);\n      if (opt.version === 'v1') {\n        sources.customize = {};\n        opt = this._mergeSources(sources, options);\n      }\n      cast(opt);\n      this._normalizeOptions(opt);\n      return opt;\n    };\n\n    PublicApi.prototype.hashedId = function(val) {\n      if (val != null) {\n        this._hashedId = val;\n        return this;\n      } else {\n        return this._hashedId;\n      }\n    };\n\n    PublicApi.prototype.isAudio = function() {\n      return this._mediaData.mediaType === 'Audio';\n    };\n\n    PublicApi.prototype.isLiveMedia = function() {\n      return this._mediaData.mediaType === 'LiveStream';\n    };\n\n    PublicApi.prototype._normalizeOptions = function(options) {\n      if (options.twitter) {\n        this.info('twitter detected');\n        if (getDeep(options, 'plugin.socialbar-v1')) {\n          this.info('disabled socialbar');\n          setDeep(options, 'plugin.socialbar-v1.on', false);\n        }\n      }\n      if (options.playButtonVisible != null) {\n        options.playButton = cast(options.playButtonVisible);\n        delete options.playButtonVisible;\n      }\n      return options;\n    };\n\n    PublicApi.prototype._setupContainer = function() {\n      var child, j, len, ref14;\n      this._containerId = (this._givenOptions.container ? this._givenOptions.container : \"wistia_\" + (this.hashedId()));\n      if (typeof this._containerId === 'string') {\n        this.container = document.getElementById(this._containerId);\n      } else {\n        this.container = this._containerId;\n      }\n      if (this.container && this.container.tagName !== 'WISTIA-PLAYER') {\n        this.container.wistiaApi = this;\n        this._startingHtml = this.container.innerHTML;\n        ref14 = Array.prototype.slice.call(this.container.childNodes);\n        for (j = 0, len = ref14.length; j < len; j++) {\n          child = ref14[j];\n          if (!elemHasClass(child, 'wistia_swatch')) {\n            elemRemove(child);\n          }\n        }\n        elemAddClass(this.container, 'wistia_embed_initialized');\n      } else {\n        this.container = document.querySelector(\"[id='\" + this._containerId + \"']\");\n      }\n      return this.info('container', this.container);\n    };\n\n    PublicApi.prototype._setupTranslationApiForLegacyEmbeds = function() {\n      if (this.container && this.container.tagName === 'WISTIA-PLAYER' && this.container.getAttribute('use-web-component')) {\n        this.translationApi = new TranslationApi(this.container);\n        return this.container.translationApi = this.translationApi;\n      }\n    };\n\n    PublicApi.prototype._inferPropertiesBeforeMediaData = function() {\n      var opt;\n      this.chrome = elemFromObject({\n        id: seqId('wistia_chrome_'),\n        \"class\": 'w-chrome',\n        style: generateRelativeBlockCss,\n        tabindex: -1\n      });\n      elemStyle(this.chrome, {\n        outline: 'none',\n        overflow: 'hidden',\n        boxSizing: 'content-box',\n        mozBoxSizing: 'content-box',\n        webkitBoxSizing: 'content-box'\n      });\n      opt = this._gatherOptions();\n      if (this._shouldBePopover()) {\n        this._popoverContainer = elemFromObject({\n          role: 'dialog',\n          id: this.container.id + \"_popover_container\"\n        });\n        if (!(W.detect.safari || W.detect.iphone || W.detect.ipad)) {\n          this._popoverContainer.setAttribute('aria-modal', true);\n        }\n        this._embedContainer = elemFromObject({\n          id: this.container.id + \"_popover\",\n          style: {\n            height: (this._popoverSize(opt).height) + \"px\",\n            width: (this._popoverSize(opt).width) + \"px\"\n          }\n        });\n        elemAppend(this._popoverContainer, this._embedContainer);\n        elemAppend(document.body, this._popoverContainer);\n      } else {\n        this._embedContainer = this.container;\n      }\n      elemAppend(this._embedContainer, this.chrome);\n      if (opt.uuid) {\n        this.uuid = opt.uuid;\n      } else {\n        this.uuid = seqId();\n      }\n      this.info('uuid', this.uuid);\n      if (opt.playlistLoop != null) {\n        this._attrs.playlistLoop = opt.playlistLoop;\n      }\n      if (this._embedContainer) {\n        this._attrs.startingWidth = elemWidth(this._embedContainer);\n        return this._attrs.startingHeight = elemHeight(this._embedContainer);\n      }\n    };\n\n    PublicApi.prototype._shouldBePopover = function() {\n      var opt;\n      opt = this._gatherOptions();\n      return !opt._inIframe && (opt.popover === true || opt.popover === 'v2');\n    };\n\n    PublicApi.prototype._popoverSize = function(opt) {\n      var height, nonHdAsset, ref14, ref15, width;\n      if (opt == null) {\n        opt = this._opts;\n      }\n      if (opt == null) {\n        opt = {};\n      }\n      if (opt.popoverSize) {\n        ref15 = ((ref14 = opt.popoverSize) != null ? ref14.split('x') : void 0) || [640, 360], width = ref15[0], height = ref15[1];\n        width = parseInt(width);\n        height = parseInt(height);\n      } else if (this._mediaData) {\n        if (nonHdAsset = this.asset({\n          container: 'mp4',\n          width: [0, 960],\n          sortBy: 'width desc'\n        })) {\n          width = nonHdAsset.width;\n          height = nonHdAsset.height;\n        } else {\n          width = 640;\n          height = 360;\n        }\n      } else {\n        width = 640;\n        height = 360;\n      }\n      return {\n        width: width,\n        height: height\n      };\n    };\n\n    PublicApi.prototype._inferPropertiesAfterMediaData = function() {\n      var lastPlayerColor, playerColorDidChange, qualityMax, qualityMin, ref14, ref15, urlEmail;\n      this._attrs.shouldTrack = !this._opts.doNotTrack;\n      this._attrs.seekThreshold = this._opts.seekThreshold || 1.5;\n      ref14 = inferQualityRangeFromOpts(this._opts, this._mediaData), qualityMin = ref14[0], qualityMax = ref14[1];\n      this._attrs.qualityMin = qualityMin;\n      this._attrs.qualityMax = qualityMax;\n      if (this._opts.videoQuality) {\n        countMetric('legacy/video-quality-set', 1, {\n          hashedId: this._hashedId,\n          videoQuality: this._opts.videoQuality,\n          url: window.location.href\n        });\n      }\n      if (this._attrs.qualityMax < this._attrs.qualityMin) {\n        this.error(\"qualityMax \" + this._attrs.qualityMax + \" is less than qualityMin \" + this._attrs.qualityMin + \". Setting qualityMax to \" + this._attrs.qualityMin + \".\");\n        this._attrs.qualityMax = this._attrs.qualityMin;\n      }\n      if (!this._attrs.pageUrl) {\n        this._attrs.pageUrl = this._inferPageUrl();\n      }\n      if (!this._attrs.referrerUrl) {\n        this._attrs.referrerUrl = ((ref15 = this._opts) != null ? ref15.referrerUrl : void 0) || document.referrer;\n      }\n      if (this._opts.trackEmail != null) {\n        this._attrs.email = this._opts.trackEmail;\n      }\n      if (!this._attrs.email && this._attrs.shouldTrack) {\n        urlEmail = extractEmailFromParams(this._attrs.pageUrl);\n        if (urlEmail) {\n          this._attrs.email = urlEmail;\n        }\n      }\n      if (!this._attrs.email && W.localStorage([this._attrs.pageUrl, \"trackEmail\"])) {\n        this._attrs.email = W.localStorage([this._attrs.pageUrl, \"trackEmail\"]);\n      }\n      lastPlayerColor = this._attrs.playerColor;\n      playerColorDidChange = lastPlayerColor && lastPlayerColor !== this._opts.playerColor;\n      this._attrs.playerColor = sanePlayerColor(this._opts.playerColor || '636155');\n      if (playerColorDidChange) {\n        this.container.dispatchEvent(new CustomEvent('playercolorchange', {\n          detail: {\n            color: this._attrs.playerColor,\n            prevColor: lastPlayerColor\n          }\n        }));\n      }\n      this._attrs.aspect = this._opts.aspect;\n      if (this._opts.autoplay !== null && this._opts.autoplay !== void 0) {\n        this._attrs.autoplay = this._opts.autoplay;\n      } else {\n        this._attrs.autoplay = this._opts.autoPlay;\n      }\n      if (this._opts.bigPlayButton !== null && this._opts.bigPlayButton !== void 0) {\n        this._attrs.bigPlayButton = this._opts.bigPlayButton;\n      } else {\n        this._attrs.bigPlayButton = this._opts.playButton;\n      }\n      if (this._opts.disableFullscreenOnRotateToLandscape !== null && this._opts.disableFullscreenOnRotateToLandscape !== void 0) {\n        this._attrs.disableFullscreenOnRotateToLandscape = this._opts.disableFullscreenOnRotateToLandscape;\n      } else if (this._opts.fullscreenOnRotateToLandscape !== null && this._opts.fullscreenOnRotateToLandscape !== void 0) {\n        this._attrs.disableFullscreenOnRotateToLandscape = !this._opts.fullscreenOnRotateToLandscape;\n      } else {\n        this._attrs.disableFullscreenOnRotateToLandscape = false;\n      }\n      this._attrs.doNotTrack = this._opts.doNotTrack;\n      this._attrs.endVideoBehavior = this._opts.endVideoBehavior || 'default';\n      if (this._opts.fullscreenControl !== null && this._opts.fullscreenControl !== void 0) {\n        this._attrs.fullscreenControl = this._opts.fullscreenControl;\n      } else {\n        this._attrs.fullscreenControl = this._opts.fullscreenButton;\n      }\n      if (this._opts.hideControlsOnLoad !== null && this._opts.hideControlsOnLoad !== void 0) {\n        this._attrs.hideControlsOnLoad = this._opts.hideControlsOnLoad;\n      } else if (this._opts.controlsVisibleOnLoad !== null && this._opts.controlsVisibleOnLoad !== void 0) {\n        this._attrs.hideControlsOnLoad = !this._opts.controlsVisibleOnLoad;\n      } else {\n        this._attrs.hideControlsOnLoad = false;\n      }\n      if (this._opts.hideCopyLinkAndThumbnail !== null && this._opts.hideCopyLinkAndThumbnail !== void 0) {\n        this._attrs.hideCopyLinkAndThumbnail = this._opts.hideCopyLinkAndThumbnail;\n      } else if (this._opts.copyLinkAndThumbnailEnabled !== null && this._opts.copyLinkAndThumbnailEnabled !== void 0) {\n        this._attrs.hideCopyLinkAndThumbnail = !this._opts.copyLinkAndThumbnailEnabled;\n      } else {\n        this._attrs.hideCopyLinkAndThumbnail = false;\n      }\n      this._attrs.playbackRateControl = this._opts.playbackRateControl;\n      if (this._opts.playBarControl !== null && this._opts.playBarControl !== void 0) {\n        this._attrs.playBarControl = this._opts.playBarControl;\n      } else {\n        this._attrs.playBarControl = this._opts.playbar;\n      }\n      this._attrs.playerBackgroundColor = this._opts.playerBackgroundColor || '#000000';\n      this._attrs.playlistLinks = this._opts.playlistLinks;\n      if (this._opts.playPauseControl !== null && this._opts.playPauseControl !== void 0) {\n        this._attrs.playPauseControl = this._opts.playPauseControl;\n      } else {\n        this._attrs.playPauseControl = this._opts.smallPlayButton;\n      }\n      this._attrs.playPauseNotifier = this._opts.playPauseNotifier;\n      if (this._opts.poster !== null && this._opts.poster !== void 0) {\n        this._attrs.poster = this._opts.poster;\n      } else {\n        this._attrs.poster = this._opts.stillUrl;\n      }\n      this._attrs.preload = this._opts.preload;\n      this._attrs.qualityControl = this._opts.qualityControl;\n      this._attrs.resumable = this._opts.resumable;\n      this._attrs.seo = this._opts.seo;\n      this._attrs.settingsControl = this._opts.settingsControl;\n      if (this._opts.silentAutoplay !== null && this._opts.silentAutoplay !== void 0) {\n        this._attrs.silentAutoplay = this._opts.silentAutoplay;\n      } else {\n        this._attrs.silentAutoplay = this._opts.silentAutoPlay;\n      }\n      this._attrs.statsUrl = this._opts.statsUrl;\n      if (this._opts.transparentLetterbox !== null && this._opts.transparentLetterbox !== void 0) {\n        this._attrs.transparentLetterbox = this._opts.transparentLetterbox;\n      } else {\n        if (this._opts.wmode === 'transparent') {\n          this._attrs.transparentLetterbox = true;\n        }\n      }\n      this._attrs.volume = this._opts.volume;\n      this._attrs.volumeControl = this._opts.volumeControl;\n      this._attrs.bigPlayButtonBorderRadius = this._defaultBigPlayButtonBorderRadius();\n      this._attrs.controlBarBorderRadius = this._defaultControlBarBorderRadius();\n      this._attrs.floatingControlBar = this._opts.floatingControlBar || false;\n      this._attrs.controlBarDistance = this._defaultControlBarDistance();\n      this._attrs.playerBorderRadius = this._defaultPlayerBorderRadius();\n      this._attrs.roundedPlayer = this._opts.roundedPlayer || 0;\n      if (!this._opts.noDeprecatedProperties) {\n        this._setDeprecatedProperties();\n      }\n      return this;\n    };\n\n    PublicApi.prototype._inferPageUrl = function() {\n      var ref14;\n      if ((ref14 = this._opts) != null ? ref14.pageUrl : void 0) {\n        return this._opts.pageUrl;\n      } else {\n        return inferPageUrl();\n      }\n    };\n\n    PublicApi.prototype._runMethodsFromOptions = function() {\n      var base, isClosedPopover, isMobile, shouldDelayUntilPlay;\n      if (this._opts.foreignData != null) {\n        this.foreignData(this._opts.foreignData);\n      }\n      if (this._opts.email != null) {\n        this.email(this._opts.email);\n      } else if (this._opts.trackEmail != null) {\n        this.email(this._opts.trackEmail);\n      }\n      if (this._opts.playerLanguage != null) {\n        this.playerLanguage(this._opts.playerLanguage);\n      }\n      if (this._opts.videoFoam != null) {\n        this.videoFoam(this._opts.videoFoam);\n      }\n      if (this._opts.controlScaling) {\n        this.controlScaling(this._opts.controlScaling);\n      }\n      this._hasImpl((function(_this) {\n        return function() {\n          if (_this._opts.playerColor != null) {\n            return _this.playerColor(_this._opts.playerColor);\n          }\n        };\n      })(this));\n      if (this._attrs.volume != null) {\n        this.volume(this._attrs.volume);\n      }\n      if (this._opts.muted === true || this._attrs.volume === 0) {\n        this.mute();\n      }\n      if (this._opts.muted === false) {\n        this.unmute();\n      }\n      if (this._opts.suppressPlay) {\n        this.suppressPlay(this._opts.suppressPlay);\n      }\n      if ((!this.popover || (typeof (base = this.popover).isVisible === \"function\" ? base.isVisible() : void 0)) && this._attrs.autoplay) {\n        this._hasImpl((function(_this) {\n          return function() {\n            if (_this._playSuspendedOffScreenEnabled()) {\n              if (_this.inViewport()) {\n                return _this.play();\n              } else {\n                return _this.bind('enterviewport', function() {\n                  _this.play();\n                  return _this.unbind;\n                });\n              }\n            } else {\n              return _this.play();\n            }\n          };\n        })(this));\n      }\n      if (this._opts.pause) {\n        this.pause();\n      }\n      if (this._opts.time != null) {\n        isMobile = W.detect.iphone || W.detect.ipad || W.detect.android;\n        isClosedPopover = this.popover && !this.popover._visible;\n        shouldDelayUntilPlay = this.state() !== 'playing' && (isMobile || isClosedPopover);\n        return this.time(this._opts.time, {\n          lazy: shouldDelayUntilPlay\n        });\n      }\n    };\n\n    PublicApi.prototype._playSuspendedOffScreenEnabled = function() {\n      if ((this._opts.playSuspendedOffScreen != null) && this._opts.playSuspendedOffScreen !== 'auto') {\n        return this._opts.playSuspendedOffScreen;\n      } else {\n        return this.isMuted();\n      }\n    };\n\n    PublicApi.prototype._validate = function() {\n      var errors;\n      errors = this._errors();\n      if (errors.length > 0) {\n        throw new Error(errors.join(', '));\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    PublicApi.prototype._errors = function() {\n      var errors;\n      errors = [];\n      if (!this.container) {\n        errors.push(\"Could not find element with ID \\\"\" + this._containerId + \"\\\" in DOM. Failed to initialize video \\\"\" + this._hashedId + \"\\\".\");\n      }\n      return errors;\n    };\n\n    PublicApi.prototype._dedupContainer = function() {\n      var handle, j, len, ref14, ref15, toRemove, uuid;\n      if (wData('video')) {\n        toRemove = [];\n        ref14 = wData('video');\n        for (uuid in ref14) {\n          handle = ref14[uuid];\n          if (this.container.id && ((ref15 = handle.container) != null ? ref15.id : void 0) === this.container.id) {\n            toRemove.push(handle);\n          }\n        }\n        for (j = 0, len = toRemove.length; j < len; j++) {\n          handle = toRemove[j];\n          this.notice('_dedupContainer', handle.container.id);\n          handle.remove();\n        }\n        if (toRemove.length > 0) {\n          return this.container.wistiaApi = this;\n        }\n      }\n    };\n\n    PublicApi.prototype._addToGlobalCache = function() {\n      var api;\n      this.info('_addToGlobalCache', this.uuid);\n      if (this.translationApi) {\n        api = this.translationApi;\n      } else {\n        api = this;\n      }\n      return wData(['video', this.uuid], api);\n    };\n\n    PublicApi.prototype._displayServerError = function(errorResponse) {\n      var baseUrl;\n      if (errorResponse.iframe) {\n        baseUrl = (eV1Protocol()) + \"//\" + (eV1HostWithPort());\n        return this.container.innerHTML = \"<iframe src='\" + baseUrl + \"/embed/iframe/\" + (this.hashedId()) + \"' height='\" + (this.height()) + \"' width='\" + (this.width()) + \"' frameborder='0' scrolling='no'></iframe>\";\n      } else {\n        return this.container.innerHTML = \"<div style='background:#fff;border:2px dashed #ddd;color:#aaa;font-family:Century Gothic,Arial;font-size:14px;text-align:center;width:\" + (this.width()) + \";height:\" + (this.height()) + \";'><div style='padding:20px;'>\" + (errorResponse.message || errorResponse.error) + \"</div></div>\";\n      }\n    };\n\n    PublicApi.prototype._implExec = function() {\n      var args, methodName;\n      methodName = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      this._hasImpl((function(_this) {\n        return function() {\n          var ref14;\n          if (_this._impl[methodName]) {\n            if (_this._impl[methodName]._originalMethod === _this[methodName] && _this[methodName] !== void 0) {\n              _this.warn(\"calling \" + methodName + \" would result in an infinite loop\");\n              return;\n            }\n            return (ref14 = _this._impl)[methodName].apply(ref14, args);\n          } else {\n            return _this.warn(methodName + \" is not defined\", W.stacktrace());\n          }\n        };\n      })(this));\n      return this;\n    };\n\n    PublicApi.prototype._implGet = function() {\n      var args, defaultReturn, methodName, ref14;\n      methodName = arguments[0], defaultReturn = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];\n      if (defaultReturn == null) {\n        defaultReturn = null;\n      }\n      if (this._hasImpl()) {\n        if (this._impl[methodName]) {\n          if (this._impl[methodName]._originalMethod === this[methodName] && this[methodName] !== void 0) {\n            this.warn(\"calling \" + methodName + \" would result in an infinite loop\");\n            return;\n          }\n          return (ref14 = this._impl)[methodName].apply(ref14, args);\n        } else {\n          return this.warn(methodName + \" is not defined\", W.stacktrace());\n        }\n      } else {\n        return defaultReturn;\n      }\n    };\n\n    PublicApi.prototype._implSetOrGet = function() {\n      var args, defaultReturn, methodName;\n      methodName = arguments[0], defaultReturn = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];\n      if (args.length > 0) {\n        return this._implExec.apply(this, [methodName].concat(slice.call(args)));\n      } else {\n        return this._implGet(methodName, defaultReturn);\n      }\n    };\n\n    PublicApi.prototype._implPromise = function() {\n      var args, methodName;\n      methodName = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this._hasImpl(function() {\n            var ref14, result;\n            if (_this._impl[methodName]) {\n              if (_this._impl[methodName]._originalMethod === _this[methodName] && _this[methodName] !== void 0) {\n                _this.warn(\"calling \" + methodName + \" would result in an infinite loop\");\n                return;\n              }\n              result = (ref14 = _this._impl)[methodName].apply(ref14, args);\n              if (result instanceof Promise) {\n                return result.then(resolve)[\"catch\"](reject);\n              } else {\n                return resolve(result);\n              }\n            } else {\n              return reject(new Error(methodName + \" is not defined on _impl\"));\n            }\n          });\n        };\n      })(this));\n    };\n\n    PublicApi.prototype._commandQueueImplPromise = function() {\n      var args, methodName;\n      methodName = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      this._hasImpl((function(_this) {\n        return function() {\n          if (_this._impl[methodName] && _this._impl.commandQueueOpen) {\n            if (_this._impl[methodName]._originalMethod === _this[methodName] && _this[methodName] !== void 0) {\n              _this.warn(\"calling \" + methodName + \" would result in an infinite loop\");\n              return;\n            }\n            return _this._impl.commandQueueOpen.synchronize(function(done) {\n              var ref14;\n              if (_this._impl) {\n                return (ref14 = _this._impl)[methodName].apply(ref14, args)[\"finally\"](function() {\n                  return done();\n                });\n              } else {\n                return Promise.resolve();\n              }\n            });\n          } else {\n            return _this.warn(methodName + \" is not defined\", W.stacktrace());\n          }\n        };\n      })(this));\n      return this;\n    };\n\n    PublicApi.prototype.rebuild = function() {\n      return this._hasImpl((function(_this) {\n        return function() {\n          _this._impl.rebuild();\n          return _this._runMethodsFromOptions();\n        };\n      })(this));\n    };\n\n    PublicApi.prototype.fullRebuild = function(options) {\n      if (options == null) {\n        options = {};\n      }\n      return this.replaceWith(this._impl._mediaData, merge({\n        force: this._impl.playerType,\n        inPlace: false,\n        transition: 'none'\n      }, options));\n    };\n\n    PublicApi.prototype.rebuildAs = function(platformPreference, options) {\n      if (options == null) {\n        options = {};\n      }\n      return this.fullRebuild(merge(this._givenOptions, options, {\n        force: platformPreference,\n        transition: 'none'\n      }));\n    };\n\n    PublicApi.prototype.replace = function(hashedId, options) {\n      if (options == null) {\n        options = {};\n      }\n      return this.replaceWith(hashedId, merge({\n        inlineOptionsOnly: true\n      }, options));\n    };\n\n    PublicApi.prototype.replaceWith = function(hashedId, options) {\n      var replaceWithFn;\n      if (options == null) {\n        options = {};\n      }\n      this.info('replaceWith', hashedId, options);\n      replaceWithFn = (function(_this) {\n        return function() {\n          var gatheredOpts, mediaData, optsForFetch, replaceFn;\n          replaceFn = _this._impl ? _this._replaceWithMediaData : _this._initWithMediaData;\n          _this._impl.trigger('beforereplace', hashedId);\n          _this._notReplacing(false);\n          _this.hasData(false);\n          _this._hasImpl(false);\n          _this._initTime = new Date().getTime();\n          _this.hasData(function() {\n            _this._hasDataTime = new Date().getTime();\n            return _this.embedded(function() {\n              return _this._embeddedTime = new Date().getTime();\n            });\n          });\n          if (isObject(hashedId)) {\n            return replaceFn.call(_this, hashedId, options);\n          } else if (mediaData = W.mediaFromCache(hashedId)) {\n            return replaceFn.call(_this, mediaData, options);\n          } else {\n            gatheredOpts = clone(_this._gatherOptions());\n            delete gatheredOpts.idType;\n            optsForFetch = merge({}, gatheredOpts, options);\n            return fetchMedia(hashedId, optsForFetch).then(function(mediaData) {\n              return replaceFn.call(_this, mediaData, options);\n            })[\"catch\"](function() {\n              return countMetric('player/failure/replace-failed');\n            });\n          }\n        };\n      })(this);\n      this._hasImpl((function(_this) {\n        return function() {\n          return _this._notReplacing(replaceWithFn);\n        };\n      })(this));\n      return this;\n    };\n\n    PublicApi.prototype._replaceWithMediaData = function() {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return this._impl.commandQueueOpen.synchronize((function(_this) {\n        return function(done) {\n          _this._replaceWithMediaDataQueuable.apply(_this, args);\n          return _this._notReplacing(done);\n        };\n      })(this));\n    };\n\n    PublicApi.prototype._replaceWithMediaDataQueuable = function(mediaData, options) {\n      var engine, implVersion, inPlace, inPlacePreference, inlineOptionsOnly, newPlayerType, oldImpl, oldImplStopGo, ref14, ref15, ref16, ref17, resolveOldImplStopGo, transition, transitionTime;\n      if (options == null) {\n        options = {};\n      }\n      options = clone(options);\n      this.info('_replaceWithMediaData', mediaData, options);\n      if (mediaData.error) {\n        this._displayServerError(mediaData);\n        this.trigger('servererror');\n        return;\n      }\n      if (options.playlistIndex != null) {\n        this._playlistIndex = options.playlistIndex;\n        delete options.playlistIndex;\n      } else if (this._inPlaylist(mediaData.hashedId)) {\n        this._playlistIndex = this._playlistIndexOf(mediaData.hashedId);\n      }\n      if (options.playlistShouldAutoAdvance != null) {\n        this._playlistShouldAutoAdvance = options.playlistShouldAutoAdvance;\n      }\n      if (options.inlineOptionsOnly) {\n        inlineOptionsOnly = options.inlineOptionsOnly;\n        delete options.inlineOptionsOnly;\n      }\n      if (options.inPlace != null) {\n        inPlacePreference = options.inPlace;\n        delete options.inPlace;\n      }\n      if (options.transition != null) {\n        transition = options.transition;\n        delete options.transition;\n      }\n      if (options.transitionTime != null) {\n        transitionTime = options.transitionTime;\n        delete options.transitionTime;\n      }\n      this.hasData(false);\n      this._hasImpl(false);\n      if ((ref14 = this._impl._tracker) != null) {\n        ref14.stopMonitoring();\n      }\n      this._clobberVideoBindings();\n      this._savedState = {};\n      this._suspended = false;\n      oldImpl = this._impl;\n      if (typeof oldImpl.wipeOutstandingAsyncFunctions === \"function\") {\n        oldImpl.wipeOutstandingAsyncFunctions();\n      }\n      this._hashedId = mediaData.hashedId;\n      this._originalMediaData = mediaData;\n      this.data.media = mediaData;\n      this._givenOptions = options;\n      this._mediaData = mediaData;\n      this._opts = (inlineOptionsOnly ? this._gatherOptions({\n        only: 'inline'\n      }) : this._gatherOptions());\n      this._embedOptions = null;\n      this._mediaData = mediaDataTransforms(mediaData, this._opts);\n      oldImpl.trigger('beforereplaceengine');\n      oldImpl.freezeLastFrame();\n      oldImplStopGo = new StopGo();\n      resolveOldImplStopGo = function() {\n        return oldImplStopGo.go();\n      };\n      if (inUserEventContext() && this._attrs.autoplay === true && !oldImpl.isMuted()) {\n        engine = oldImpl.engine;\n        if (engine) {\n          engine.stopStreaming();\n          engine.play().then(resolveOldImplStopGo)[\"catch\"](resolveOldImplStopGo);\n          setTimeout(resolveOldImplStopGo, 2000);\n        } else {\n          resolveOldImplStopGo();\n        }\n      } else {\n        resolveOldImplStopGo();\n      }\n      if (cast((ref15 = this._mediaData.embedOptions.plugin) != null ? (ref16 = ref15.passwordProtectedVideo) != null ? ref16.on : void 0 : void 0) === false) {\n        if (((ref17 = this._opts.plugin) != null ? ref17.passwordProtectedVideo : void 0) != null) {\n          this._opts.plugin.passwordProtectedVideo.on = false;\n        }\n      }\n      this.info('_opts', clone(this._opts));\n      merge(this._mediaData, this._opts.mediaData);\n      this._inferPropertiesAfterMediaData();\n      inPlace = (oldImpl.playerType === 'notplayable' ? false : oldImpl.playerType === 'passwordprotected' ? false : oldImpl.playerType === 'html5' && (W.detect.iphone || W.detect.android || W.detect.ipad || W.detect.safari) ? true : inPlacePreference != null ? inPlacePreference : false);\n      this.info('inPlace', inPlace);\n      newPlayerType = Judy.choosePlayer(this.judyCtx(), this._mediaData, this._opts);\n      this._playerPlugins = Judy.playerPlugins(this.judyCtx(), newPlayerType, this._mediaData, this._opts);\n      Judy.logWarnings(this.judyCtx(), newPlayerType, this._mediaData, this._opts);\n      if (inPlace) {\n        this.removePlugins();\n        oldImpl.stopStreaming();\n      }\n      this.plugin = null;\n      this._pluginStopGos = {};\n      this._definePluginMethod();\n      this.hasPlugins(false);\n      oldImpl.commandQueueOpen.setQueue([]);\n      this.removeSwatch();\n      this._implVersion += 1;\n      implVersion = this._implVersion;\n      return oldImplStopGo((function(_this) {\n        return function() {\n          var ref18;\n          if ((ref18 = oldImpl.engine) != null) {\n            ref18.destroy();\n          }\n          return _this._execPlugins().then(function() {\n            var base, klass;\n            if (_this._implVersion !== implVersion) {\n              _this.notice('replaceWith(): impl changed from', implVersion, 'to', _this._implVersion, 'not completing replacement');\n              return;\n            }\n            _this.hasPlugins(true);\n            _this.supportedPlayers = Judy.supportedPlayers(_this.judyCtx(), _this._mediaData.assets);\n            klass = W.PublicApi.classFor(newPlayerType);\n            _this._impl = new klass(_this).init();\n            _this._setupBindings();\n            if (inPlace) {\n              _this.grid = _this._impl.grid = oldImpl.grid;\n            } else {\n              _this.grid = _this._impl.setupGrid({\n                initDimensions: false\n              });\n            }\n            if (typeof (base = _this._impl).transferStateFrom === \"function\") {\n              base.transferStateFrom(oldImpl);\n            }\n            _this._hasImpl(true);\n            _this.hasData(true);\n            if (!inPlace) {\n              _this._runMethodsFromOptions();\n            }\n            if (inPlace) {\n              _this._replaceMode(function() {\n                return _this._impl.initFrom(oldImpl);\n              });\n            } else {\n              _this._replaceMode(function() {\n                return _this._embedWithTransitionFrom(oldImpl, transition, {\n                  time: transitionTime\n                });\n              });\n            }\n            _this.embedded(function() {\n              return _this._notReplacing(true);\n            });\n            if (inPlace) {\n              _this._runMethodsFromOptions();\n            }\n            if (_this._allowContainerMatch()) {\n              _this.width(_this.containerWidth(), {\n                constrain: true\n              });\n            }\n            doTimeout(_this._impl.uuid + \".inject_json_ld\", function() {\n              return _this._injectJsonLd();\n            });\n            _this.trigger('afterreplace');\n            _this.container.dispatchEvent(new CustomEvent('afterreplace', {\n              detail: {\n                api: _this\n              }\n            }));\n            return doTimeout(_this.uuid + \".prefetch_next_media\", (function() {\n              return _this.prefetchNextMedia();\n            }), 2000);\n          });\n        };\n      })(this));\n    };\n\n    PublicApi.prototype._embedWithTransitionFrom = function(oldImpl, transition, more) {\n      var whenAutoPlayOrEmbedded;\n      if (transition == null) {\n        transition = 'none';\n      }\n      this.info('_embedWithTransitionFrom', oldImpl, transition);\n      if (transition !== 'none') {\n        countMetric('player/replacewith-transition', 1, {\n          transition: transition,\n          hashedId: this._hashedId,\n          url: window.location.href\n        });\n      }\n      whenAutoPlayOrEmbedded = new Promise((function(_this) {\n        return function(resolve) {\n          var ref14, unbindPlay;\n          if ((ref14 = _this._impl.lastPlayInfo()) != null ? ref14.isPending : void 0) {\n            unbindPlay = _this._impl.on('play', function() {\n              unbindPlay();\n              return resolve();\n            });\n            return doTimeout(_this._impl.uuid + \".slow_play_fallback\", function() {\n              return _this._impl.embedded(function() {\n                unbindPlay();\n                return resolve();\n              });\n            }, 2000);\n          } else {\n            return _this._impl.embedded(resolve);\n          }\n        };\n      })(this));\n      if (transition === 'slide' || transition === 'slideleft') {\n        this.info('slideleft');\n        this._impl.embed(oldImpl);\n        return whenAutoPlayOrEmbedded.then((function(_this) {\n          return function() {\n            oldImpl.slideOutLeft(more, function() {\n              return oldImpl.remove();\n            });\n            return _this._impl.slideInLeft(more, function() {\n              return _this._impl.trigger('transitiondone');\n            });\n          };\n        })(this));\n      } else if (transition === 'slideright') {\n        this.info('slideright');\n        this._impl.embed(oldImpl);\n        return whenAutoPlayOrEmbedded.then((function(_this) {\n          return function() {\n            oldImpl.slideOutRight(more, function() {\n              return oldImpl.remove();\n            });\n            return _this._impl.slideInRight(more, function() {\n              return _this._impl.trigger('transitiondone');\n            });\n          };\n        })(this));\n      } else if (transition === 'fade') {\n        this.info('fade');\n        if (oldImpl._attrs.transparentLetterbox !== true) {\n          oldImpl.grid.center.style.backgroundColor = '#000';\n        }\n        if (more.time != null) {\n          more.time = Math.round(more.time / 2);\n        }\n        return oldImpl.fadeOut(more, (function(_this) {\n          return function() {\n            var ref14;\n            oldImpl.remove();\n            if (_this._impl._attrs.transparentLetterbox !== true) {\n              if ((ref14 = _this._impl.grid) != null) {\n                ref14.center.style.backgroundColor = '#000';\n              }\n            }\n            _this._impl.embed(oldImpl);\n            return whenAutoPlayOrEmbedded.then(function() {\n              return _this._impl.fadeIn(more, function() {\n                var ref15;\n                if ((ref15 = _this._impl) != null) {\n                  ref15.grid.center.style.backgroundColor = '';\n                }\n                return _this._impl.trigger('transitiondone');\n              });\n            });\n          };\n        })(this));\n      } else if (transition === 'crossfade') {\n        this.info('crossfade');\n        if (oldImpl.grid) {\n          elemStyle(oldImpl.grid.root, {\n            position: 'absolute',\n            zIndex: 0\n          });\n        }\n        elemStyle(this._impl.grid.root, {\n          zIndex: 1\n        });\n        this._impl.embed(oldImpl);\n        return whenAutoPlayOrEmbedded.then((function(_this) {\n          return function() {\n            return _this._impl.fadeIn(more, function() {\n              oldImpl.remove();\n              elemStyle(_this._impl.grid.root, {\n                zIndex: ''\n              });\n              return _this._impl.trigger('transitiondone');\n            });\n          };\n        })(this));\n      } else {\n        this.info('no transition');\n        this._impl.embed(oldImpl);\n        oldImpl.remove();\n        return whenAutoPlayOrEmbedded.then((function(_this) {\n          return function() {\n            return setTimeout((function() {\n              if (_this._impl) {\n                return _this._impl.trigger('transitiondone');\n              }\n            }), 0);\n          };\n        })(this));\n      }\n    };\n\n    PublicApi.prototype._clobberVideoBindings = function() {\n      var k, ref14, results, v;\n      ref14 = this._bindings;\n      results = [];\n      for (k in ref14) {\n        v = ref14[k];\n        if (!(k === 'afterreplace' || k === 'beforereplace' || k === 'all')) {\n          results.push(this.unbind(k));\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    };\n\n    PublicApi.prototype._replaceMode = function(fn) {\n      this.info('_replaceMode', true);\n      this._impl._replacing = true;\n      fn();\n      return this._impl.embedded((function(_this) {\n        return function() {\n          _this._impl._replacing = false;\n          return _this.info('_replaceMode', false);\n        };\n      })(this));\n    };\n\n    PublicApi.prototype.remove = function(opts) {\n      var ref14, ref15, ref16, ref17, ref18, ref19, ref20, ref21;\n      if (opts == null) {\n        opts = {};\n      }\n      this.info('remove');\n      this.trigger('down');\n      this.trigger('beforeremove');\n      this._freeEmbedSlot();\n      if ((ref14 = this.elem()) != null) {\n        if ((ref15 = ref14.mux) != null) {\n          if (typeof ref15.destroy === \"function\") {\n            ref15.destroy();\n          }\n        }\n      }\n      this.removeSwatch();\n      this._implExec('remove', {\n        trigger: false\n      });\n      this._hasImpl(false);\n      removeInjectedJsonLd(this._jsonLdId);\n      if ((ref16 = this.popover) != null) {\n        if (typeof ref16.remove === \"function\") {\n          ref16.remove();\n        }\n      }\n      if ((ref17 = this._impl) != null) {\n        ref17.stopStreaming();\n      }\n      if ((ref18 = this._intersectionObserver) != null) {\n        ref18.disconnect();\n      }\n      elemUnbindAll(this._foamDummyElem);\n      elemRemove(this._foamDummyElem);\n      if ((ref19 = W.eventLoop) != null) {\n        ref19.remove(this.uuid);\n      }\n      clearTimeouts(this.uuid);\n      this._unbindListeners();\n      elemRemove(this.chrome);\n      wRemoveData(['video', this.uuid]);\n      this.trigger('afterremove');\n      this._bindings = {};\n      if (opts.unsetWistiaApiOnContainer) {\n        this.container.wistiaApi = void 0;\n        if (this.container.tagName === 'WISTIA-PLAYER' && this.container.getAttribute('use-web-component')) {\n          this.container.originalContainer.id = this.container.id;\n          this.container.originalContainer._convertingToAurora = false;\n          elemRemove(this.container);\n        }\n      } else {\n        this.container.wistiaApi = 'removed';\n      }\n      this._impl = null;\n      if ((ref20 = window.__wistiaStores) != null) {\n        ref20[this.uuid] = null;\n      }\n      return (ref21 = window.__wistiaStores) != null ? delete ref21[this.uuid] : void 0;\n    };\n\n    PublicApi.prototype.removeSwatch = function() {\n      var ref14, swatch;\n      swatch = this.container.querySelector('.wistia_swatch') || ((ref14 = this.container.originalContainer) != null ? ref14.querySelector('.wistia_swatch') : void 0);\n      if (swatch) {\n        elemRemove(swatch);\n      }\n      if (this.container.tagName === 'WISTIA-PLAYER') {\n        swatch = this.container.shadowRoot.querySelector('.wistia_swatch');\n        if (swatch) {\n          return elemRemove(swatch);\n        }\n      }\n    };\n\n    PublicApi.prototype.fullRemove = function() {\n      var container, embedContainer, popoverContainer;\n      embedContainer = this._embedContainer;\n      popoverContainer = this._popoverContainer;\n      container = this.container;\n      this.remove();\n      elemRemove(embedContainer);\n      elemRemove(popoverContainer);\n      elemRemove(container);\n      this.container = this._embedContainer = null;\n      return this;\n    };\n\n    PublicApi.prototype.isRemoved = function() {\n      return !wData(['video', this.uuid]);\n    };\n\n    PublicApi.prototype._unbindListeners = function() {\n      elemUnbindAllInside(this.chrome);\n      if (this._throttleTriggerViewport) {\n        elemUnbind(window, 'scroll', this._throttleTriggerViewport);\n      }\n      if (this._doResize) {\n        return elemUnbind(window, 'resize', this._doResize);\n      }\n    };\n\n    PublicApi.prototype._saveState = function() {\n      var ref14;\n      return this._savedState = {\n        state: this.state(),\n        time: this.time(),\n        volume: this.volume(),\n        inFullscreen: this.inFullscreen(),\n        uuid: (ref14 = this._impl) != null ? ref14.uuid : void 0\n      };\n    };\n\n    PublicApi.prototype.suspend = function() {\n      var ref14;\n      if (this._suspended) {\n        return;\n      }\n      this._saveState();\n      this.info('suspend', clone(this._savedState));\n      this.pause();\n      this.suppressPlay(true);\n      if (((ref14 = this._impl) != null ? typeof ref14._inNativeMode === \"function\" ? ref14._inNativeMode() : void 0 : void 0) || !W.detect.fullscreenEnabled) {\n        this.cancelFullscreen();\n      }\n      this._suspended = true;\n      this._suspendPlayBinding = (function(_this) {\n        return function() {\n          return _this.pause();\n        };\n      })(this);\n      this._suspendSeekBinding = (function(_this) {\n        return function() {\n          _this.pause();\n          return _this.time(_this._savedState.time);\n        };\n      })(this);\n      this.bind('play', this._suspendPlayBinding);\n      this.bind('seek', this._suspendSeekBinding);\n      this.trigger('suspendstatechange', true);\n      return this;\n    };\n\n    PublicApi.prototype.unsuspend = function(newState) {\n      var ref14, saved, seekOptions;\n      if (newState == null) {\n        newState = {};\n      }\n      if (!this._suspended) {\n        return;\n      }\n      saved = merge({}, this._savedState, newState);\n      this.info('unsuspend', clone(saved));\n      this._suspended = false;\n      this.unbind('play', this._suspendPlayBinding);\n      this.unbind('seek', this._suspendSeekBinding);\n      if (saved.uuid !== ((ref14 = this._impl) != null ? ref14.uuid : void 0)) {\n        return this;\n      }\n      this.suppressPlay(false);\n      this.volume(saved.volume);\n      seekOptions = {\n        pause: saved.state !== 'playing'\n      };\n      if ((saved.time != null) && Math.abs(saved.time - this.time()) > 0.5) {\n        if (saved.state === 'ended') {\n          this.time(saved.time - 1, seekOptions);\n        } else {\n          this.time(saved.time, seekOptions);\n        }\n      }\n      if (saved.state === 'playing') {\n        this.play();\n      }\n      this.trigger('suspendstatechange', false);\n      return this;\n    };\n\n    PublicApi.prototype._setupBindings = function() {\n      this.bind('afterend', (function(_this) {\n        return function() {\n          if (!_this.playlistShouldAutoAdvance()) {\n            return;\n          }\n          if (_this._suspended) {\n            return _this.bind('suspendstatechange', function(isSuspended) {\n              if (isSuspended === false) {\n                if (_this.state() === 'ended') {\n                  _this._nextEmbedOrPlaylistLoop();\n                }\n                return _this.unbind;\n              }\n            });\n          } else {\n            return _this._nextEmbedOrPlaylistLoop();\n          }\n        };\n      })(this));\n      this.bind('widthchange', (function(_this) {\n        return function() {\n          var ref14, ref15;\n          if ((ref14 = _this._impl) != null) {\n            ref14._width = _this._width = _this.width();\n          }\n          return (ref15 = _this._impl) != null ? ref15._videoWidth = _this._videoWidth = _this.videoWidth() : void 0;\n        };\n      })(this));\n      this.bind('heightchange', (function(_this) {\n        return function() {\n          _this._impl._height = _this._height = _this.height();\n          return _this._impl._videoHeight = _this._videoHeight = _this.videoHeight();\n        };\n      })(this));\n      if (this.looksUp()) {\n        this.inViewport(this._isInViewportNow());\n        if (this.inViewport()) {\n          this.trigger('enterviewport');\n        } else {\n          this.trigger('leaveviewport');\n        }\n      }\n      this._intersectionObserver = new window.IntersectionObserver((function(_this) {\n        return function(entries) {\n          if (entries[0].isIntersecting) {\n            _this.trigger('enterviewport');\n            return _this.inViewport(true);\n          } else {\n            _this.trigger('leaveviewport');\n            return _this.inViewport(false);\n          }\n        };\n      })(this));\n      this._intersectionObserver.observe(this.container);\n      return elemRebind(window, 'resize', this._doResize);\n    };\n\n    PublicApi.prototype._nextEmbedOrPlaylistLoop = function() {\n      if (this.nextVideo()) {\n        return this.embedNext();\n      } else if (this._attrs.playlistLoop) {\n        this.info('playlistLoop');\n        return this.embedIndex(0, {\n          autoPlay: true\n        });\n      }\n    };\n\n    PublicApi.prototype._isInViewportNow = function() {\n      var offset, offsetBottom, offsetTop, scrollBottom, scrollTopDistance;\n      if (this.down() || this.looksDown()) {\n        return false;\n      }\n      if (!window.IntersectionObserver && top !== self) {\n        return true;\n      }\n      offset = elemOffset(this.container);\n      offsetTop = offset.top;\n      offsetBottom = offsetTop + elemHeight(this.container);\n      scrollTopDistance = scrollTop();\n      scrollBottom = scrollTop() + elemHeight(window);\n      return (offsetTop >= scrollTopDistance && offsetTop < scrollBottom) || (offsetBottom >= scrollTopDistance && offsetBottom < scrollBottom) || (offsetTop <= scrollTopDistance && offsetBottom >= scrollBottom);\n    };\n\n    PublicApi.prototype._pauseEventLoop = function() {\n      var ref14;\n      W.eventLoop.pause(this.uuid);\n      if ((ref14 = this._impl) != null ? ref14.uuid : void 0) {\n        return W.eventLoop.pause(this._impl.uuid);\n      }\n    };\n\n    PublicApi.prototype._unpauseEventLoop = function() {\n      var ref14;\n      W.eventLoop.unpause(this.uuid);\n      if ((ref14 = this._impl) != null ? ref14.uuid : void 0) {\n        return W.eventLoop.unpause(this._impl.uuid);\n      }\n    };\n\n    PublicApi.prototype.playlistIndex = function() {\n      return this._playlistIndexOf(this.hashedId());\n    };\n\n    PublicApi.prototype.nextVideo = function() {\n      if (this.playlistIndex() >= 0) {\n        return this._playlist[this.playlistIndex() + 1] || null;\n      } else {\n        return null;\n      }\n    };\n\n    PublicApi.prototype.previousVideo = function() {\n      if (this.playlistIndex() > 0) {\n        return this._playlist[this.playlistIndex() - 1] || null;\n      } else {\n        return null;\n      }\n    };\n\n    PublicApi.prototype._playlistIndexOf = function(hashedId) {\n      var i, j, ref14, ref15;\n      for (i = j = 0, ref14 = this._playlist.length; 0 <= ref14 ? j <= ref14 : j >= ref14; i = 0 <= ref14 ? ++j : --j) {\n        if (((ref15 = this._playlist[i]) != null ? ref15.hashedId : void 0) === hashedId) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n    PublicApi.prototype._inPlaylist = function(hashedId) {\n      return this._playlistIndexOf(hashedId) >= 0;\n    };\n\n    PublicApi.prototype._setTransitionOptions = function(options) {\n      if (!options.transition) {\n        options.transition = this._opts.playlistTransition || 'fade';\n      }\n      if (!options.transitionTime) {\n        options.transitionTime = this._opts.playlistTransitionTime;\n      }\n      if (options.playlistIndex && options.transition === 'slide') {\n        if (options.playlistIndex >= this._playlistIndex) {\n          return options.transition = 'slideleft';\n        } else {\n          return options.transition = 'slideright';\n        }\n      }\n    };\n\n    PublicApi.prototype.embedNext = function(extra) {\n      var options, video;\n      video = this.nextVideo();\n      this.info('embedNext', video);\n      options = merge({\n        autoPlay: true,\n        resumable: false\n      }, video.options, extra);\n      options.playlistIndex = this._playlistIndex + 1;\n      options.playlistShouldAutoAdvance = this._playlistShouldAutoAdvance;\n      this._setTransitionOptions(options);\n      return this.replaceWith(video.hashedId, options);\n    };\n\n    PublicApi.prototype.embedPrevious = function(extra) {\n      var options, video;\n      video = this.previousVideo();\n      this.info('embedPrevious', video);\n      options = merge({\n        autoPlay: true,\n        resumable: false\n      }, video.options, extra);\n      options.playlistIndex = this._playlistIndex - 1;\n      options.playlistShouldAutoAdvance = this._playlistShouldAutoAdvance;\n      return this.replaceWith(video.hashedId, options);\n    };\n\n    PublicApi.prototype.embedIndex = function(index, extra) {\n      var options, video;\n      video = this._playlist[index];\n      this.info('embedIndex', index, video);\n      options = merge({\n        autoPlay: true\n      }, video.options, extra);\n      options.playlistIndex = index;\n      options.playlistShouldAutoAdvance = this._playlistShouldAutoAdvance;\n      return this.replaceWith(video.hashedId, options);\n    };\n\n    PublicApi.prototype.addToPlaylist = function(hashedIds, embedOptions, positionOptions) {\n      var entry, hashedId, j, len, ref14;\n      if (embedOptions == null) {\n        embedOptions = {};\n      }\n      if (positionOptions == null) {\n        positionOptions = {};\n      }\n      if (this._playlist == null) {\n        this._playlist = [];\n      }\n      ref14 = toArray(hashedIds);\n      for (j = 0, len = ref14.length; j < len; j++) {\n        hashedId = ref14[j];\n        entry = {\n          hashedId: hashedId,\n          options: embedOptions\n        };\n        positionOptions = clone(positionOptions);\n        if (positionOptions.after) {\n          positionOptions.detect = function(v) {\n            return v.hashedId === positionOptions.after;\n          };\n        } else if (positionOptions.before) {\n          positionOptions.detect = function(v) {\n            return v.hashedId === positionOptions.before;\n          };\n        }\n        this.info('addToPlaylist', entry, positionOptions);\n        insertIntoArray(this._playlist, entry, positionOptions);\n        this.hasData((function(_this) {\n          return function() {\n            var ref15, ref16;\n            if (hashedId === ((ref15 = _this.nextVideo()) != null ? ref15.hashedId : void 0)) {\n              return _this.prefetchMedia(hashedId, embedOptions);\n            } else if (hashedId === ((ref16 = _this.previousVideo()) != null ? ref16.hashedId : void 0)) {\n              return _this.prefetchMedia(hashedId, embedOptions);\n            }\n          };\n        })(this));\n      }\n      this.info('updated _playlist', clone(this._playlist));\n      this.trigger('playlistchange', this._playlist);\n      return this._playlist;\n    };\n\n    PublicApi.prototype.setPlaylist = function(hashedIds, embedOptions) {\n      if (embedOptions == null) {\n        embedOptions = {};\n      }\n      this._playlist = [];\n      this.addToPlaylist(hashedIds, embedOptions);\n      this._playlistIndex = this._playlistIndexOf(this.hashedId());\n      return this.trigger('playlistchange', this._playlist);\n    };\n\n    PublicApi.prototype.playlistShouldAutoAdvance = function() {\n      if (this._playlistShouldAutoAdvance != null) {\n        return this._playlistShouldAutoAdvance;\n      }\n      return true;\n    };\n\n    PublicApi.prototype.setPlaylistShouldAutoAdvance = function(bool) {\n      return this._playlistShouldAutoAdvance = bool;\n    };\n\n    PublicApi.prototype.prefetchNextMedia = function() {\n      var next;\n      if (!this._opts._inLegacyPlaylist && (next = this.nextVideo())) {\n        return this.prefetchMedia(next.hashedId, next.options);\n      }\n    };\n\n    PublicApi.prototype.prefetchMedia = function(hashedId, options) {\n      if (options == null) {\n        options = {};\n      }\n      options = assign({\n        embedHost: this._opts.embedHost\n      }, options);\n      this.info('@prefetchMedia', hashedId);\n      return fetchMedia(hashedId, clone(options)).then((function(_this) {\n        return function(mediaData) {\n          var opts;\n          _this.info('prefetched', hashedId);\n          opts = _this._gatherOptions({\n            givenOptions: options,\n            mediaData: mediaData,\n            hashedId: mediaData.hashedId,\n            container: _this.container\n          });\n          return prefetchEngineAndPlugins(mediaData, opts);\n        };\n      })(this))[\"catch\"]((function(_this) {\n        return function() {\n          return countMetric('player/failure/prefetch-failed');\n        };\n      })(this));\n    };\n\n    PublicApi.prototype.addPlugin = function(name, options) {\n      if (options == null) {\n        options = {};\n      }\n      this.info('addPlugin', name, options);\n      return new Promise((function(_this) {\n        return function(resolve) {\n          return _this._hasImpl(function() {\n            if (!_this.hasPlugin(name)) {\n              W.plugin._inject(_this, name, options);\n            }\n            return _this.plugin(name).then(function(plugin) {\n              return resolve(plugin);\n            });\n          });\n        };\n      })(this));\n    };\n\n    PublicApi.prototype.hasPlugin = function(name) {\n      return !!this.plugin[name];\n    };\n\n    PublicApi.prototype.turnOffPluginApis = function() {\n      var base, pluginHandle, pluginName, ref14, results;\n      this.info('turnOffPluginApis');\n      ref14 = this.plugin;\n      results = [];\n      for (pluginName in ref14) {\n        pluginHandle = ref14[pluginName];\n        results.push(typeof (base = this._pluginStopGos)[pluginName] === \"function\" ? base[pluginName](false) : void 0);\n      }\n      return results;\n    };\n\n    PublicApi.prototype.removePlugin = function(name) {\n      var e, plugin, ref14;\n      plugin = this.plugin[name];\n      if (!plugin) {\n        return;\n      }\n      try {\n        if (typeof plugin.remove === \"function\") {\n          plugin.remove();\n        }\n      } catch (error1) {\n        e = error1;\n        setTimeout(((function(_this) {\n          return function() {\n            throw e;\n          };\n        })(this)), 0);\n      }\n      delete this.plugin[name];\n      if ((ref14 = this._impl.plugin) != null ? ref14[name] : void 0) {\n        delete this._impl.plugin[name];\n      }\n      if (plugin.uuid && this.plugins) {\n        delete this.plugins[this.uuid];\n        wRemoveData(['plugins', name, this.uuid, plugin.uuid]);\n      }\n      this.fit();\n      return this.trigger('pluginremoved', name);\n    };\n\n    PublicApi.prototype.removePlugins = function() {\n      var pluginHandle, pluginName, ref14, results;\n      this.info('removePlugins');\n      ref14 = this.plugin;\n      results = [];\n      for (pluginName in ref14) {\n        pluginHandle = ref14[pluginName];\n        results.push(this.removePlugin(pluginName));\n      }\n      return results;\n    };\n\n    PublicApi.prototype.containerWidth = function() {\n      return elemWidth(this._embedContainer);\n    };\n\n    PublicApi.prototype.containerHeight = function() {\n      return elemHeight(this._embedContainer);\n    };\n\n    PublicApi.prototype._getScreenScrolls = function(dimensions, viewHeight) {\n      var bottom, screenScrolls;\n      bottom = dimensions.bottom + window.pageYOffset;\n      return screenScrolls = Math.max(0, (bottom / viewHeight) - 1);\n    };\n\n    PublicApi.prototype._getEmbedVisibilityMetrics = function() {\n      var containerDimensions, dimensions, screenScrolls, videoHeight, viewHeight;\n      if (this.embedOptions()._inIframe) {\n        return null;\n      }\n      if (this.isRemoved()) {\n        return null;\n      }\n      viewHeight = elemHeight(window);\n      dimensions = this.elem().getBoundingClientRect();\n      videoHeight = dimensions.height;\n      screenScrolls = this._getScreenScrolls(dimensions, viewHeight);\n      if (this.popover) {\n        containerDimensions = this.container.getBoundingClientRect();\n        screenScrolls = this._getScreenScrolls(containerDimensions, viewHeight);\n      }\n      return {\n        screen_scrolls: screenScrolls,\n        ratio_of_screen: videoHeight / viewHeight,\n        screen_width: window.screen.width,\n        screen_height: window.screen.height\n      };\n    };\n\n    PublicApi.prototype._getPageTitle = function() {\n      return this._attrs.pageTitle || document.title;\n    };\n\n    PublicApi.prototype._getBrowserLanguage = function() {\n      return window.navigator.language;\n    };\n\n    PublicApi.prototype._goToDownState = function() {\n      var ref14;\n      this.info('_goToDownState');\n      this._stateBeforeDown = this._lastState;\n      this.up(false);\n      this.down(true);\n      if ((ref14 = this._impl.engine) != null) {\n        ref14.pause();\n      }\n      this.ready(false);\n      return this.trigger('down');\n    };\n\n    PublicApi.prototype._goToUpState = function() {\n      var ref14;\n      this.info('_goToUpState');\n      this.down(false);\n      this._ignoreUp = true;\n      this._doSizing();\n      this._ignoreUp = false;\n      this.up(true);\n      this.ready(false);\n      this.fit();\n      if ((ref14 = this._impl) != null) {\n        ref14.checkForReady();\n      }\n      if (this._stateBeforeDown === 'playing') {\n        this.play();\n      }\n      return this.trigger('up');\n    };\n\n    PublicApi.prototype._checkDownState = function() {\n      var looksDown;\n      looksDown = this.looksDown();\n      if (this.up() && looksDown) {\n        this.info('moving to down state');\n        return this._goToDownState();\n      } else if (this.down() && !looksDown) {\n        this.info('moving to up state');\n        return this._goToUpState();\n      }\n    };\n\n    PublicApi.prototype._removeHandleIfGoneFromDOM = function() {\n      if (!this.embedded()) {\n        return false;\n      } else if (!this.elem()) {\n        this.warn('video element removed from DOM', this._embedContainer.id);\n        this.remove();\n        return true;\n      } else if (this._embedContainer && !this._embedContainer.parentNode) {\n        this.warn('container removed from DOM', this._embedContainer.id);\n        this.remove({\n          unsetWistiaApiOnContainer: true\n        });\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    PublicApi.prototype._doFoam = function() {\n      var dims, distanceFromEdge, newHeight, newVideoHeight, newVideoWidth, newWidth, parentWidthNow, smallestDim, winAspect, winHeight, winWidth;\n      if (this._parentBoxSizing == null) {\n        this._parentBoxSizing = elemStyle(this._embedContainer.parentNode, 'box-sizing');\n      }\n      if (this.popover) {\n        winWidth = elemWidth(window);\n        winHeight = elemHeight(window);\n        winAspect = winWidth / winHeight;\n        smallestDim = Math.min(winWidth, winHeight);\n        if (smallestDim > 500) {\n          distanceFromEdge = 160;\n        } else {\n          if (Math.abs(winAspect - this.aspect()) < 0.2) {\n            distanceFromEdge = smallestDim * 0.2;\n          } else {\n            distanceFromEdge = smallestDim * 0.1;\n          }\n        }\n        if (winAspect > this.aspect()) {\n          parentWidthNow = Math.round((winHeight - distanceFromEdge) * this.aspect());\n        } else {\n          parentWidthNow = winWidth - distanceFromEdge;\n        }\n      } else if (this._parentBoxSizing === 'border-box') {\n        if (!this._foamDummyElem) {\n          this._foamDummyElem = elemFromObject({\n            \"class\": 'wistia_video_foam_dummy',\n            'data-source-container-id': this._embedContainer.id,\n            style: {\n              border: 0,\n              display: 'block',\n              height: 0,\n              margin: 0,\n              padding: 0,\n              position: 'static',\n              visibility: 'hidden',\n              width: 'auto'\n            }\n          });\n          elemBefore(this._embedContainer, this._foamDummyElem);\n        }\n        parentWidthNow = elemWidth(this._foamDummyElem);\n      } else {\n        parentWidthNow = elemWidth(this._embedContainer.parentNode);\n      }\n      if (!isNaN(parentWidthNow) && (this._lastParentWidth !== parentWidthNow || !this._didFoam)) {\n        this._didFoam = true;\n        newWidth = parentWidthNow;\n        newVideoWidth = newWidth - this.extraWidth();\n        newVideoHeight = this.heightForWidth(newVideoWidth);\n        newHeight = newVideoHeight + this.extraHeight();\n        dims = this.videoFoam();\n        if (dims.maxHeight && newHeight > dims.maxHeight) {\n          newHeight = dims.maxHeight;\n          newVideoHeight = newHeight - this.extraHeight();\n          newVideoWidth = this.widthForHeight(newVideoHeight);\n          newWidth = newVideoWidth + this.extraWidth();\n        }\n        if (dims.maxWidth && newWidth > dims.maxWidth) {\n          newWidth = dims.maxWidth;\n          newVideoWidth = newWidth - this.extraWidth();\n          newVideoHeight = this.heightForWidth(newVideoWidth);\n          newHeight = newVideoHeight + this.extraHeight();\n        }\n        if (dims.minHeight && newHeight < dims.minHeight) {\n          newHeight = dims.minHeight;\n          newVideoHeight = newHeight - this.extraHeight();\n          newVideoWidth = this.widthForHeight(newVideoHeight);\n          newWidth = newVideoWidth + this.extraWidth();\n        }\n        if (dims.minWidth && newWidth < dims.minWidth) {\n          newWidth = dims.minWidth;\n          newVideoWidth = newWidth - this.extraWidth();\n          newVideoHeight = this.heightForWidth(newVideoWidth);\n          newHeight = newVideoHeight + this.extraHeight();\n        }\n        this.info('videoFoam set width', newWidth);\n        this.width(newWidth, {\n          constrain: true\n        });\n        return this._lastParentWidth = parentWidthNow;\n      }\n    };\n\n    PublicApi.prototype._allowFoam = function() {\n      var ref14;\n      return this._hasImpl() && this.grid && (this.up() || this._ignoreUp) && this.looksUp() && (this._attrs.videoFoam || ((ref14 = this.popover) != null ? ref14.isResponsive() : void 0)) && !this.isAudio();\n    };\n\n    PublicApi.prototype._allowContainerMatch = function() {\n      return (this.up() || this._ignoreUp) && !this._opts.dontMonitorSize && !this.inFullscreen();\n    };\n\n    PublicApi.prototype._doContainerMatch = function() {\n      var heightNow, widthNow;\n      widthNow = this.containerWidth();\n      heightNow = this.containerHeight();\n      if (this._lastWidth !== widthNow) {\n        this.notice(\"container width changed to \" + widthNow + \", matching\");\n        this.width(widthNow, {\n          dontChangeContainer: true\n        });\n        this.info('_doContainerMatch set width', widthNow);\n        this.trigger(\"widthchange\", widthNow, this._lastWidth);\n        this._lastWidth = widthNow;\n      }\n      if (this._lastHeight !== heightNow) {\n        this.notice(\"container height changed to \" + heightNow + \", matching\");\n        this.height(heightNow, {\n          dontChangeContainer: true\n        });\n        this.trigger(\"heightchange\", heightNow, this._lastHeight);\n        return this._lastHeight = heightNow;\n      }\n    };\n\n    PublicApi.prototype.monitor = function() {\n      this.info('monitor');\n      this._lastWidth = this._attrs.startingWidth;\n      this._lastHeight = this._attrs.startingHeight;\n      this._lastParentWidth = this.width();\n      this._didFoam = false;\n      return this._hasImpl((function(_this) {\n        return function() {\n          return W.eventLoop.add(_this.uuid + \".monitor\", 500, _this._doMonitor);\n        };\n      })(this));\n    };\n\n    PublicApi.prototype._doMonitor = function() {\n      if (this._removeHandleIfGoneFromDOM()) {\n        return;\n      }\n      this._checkDownState();\n      if (this.chrome && !elemInDom(this.chrome)) {\n        this.notice('Chrome was removed from DOM. Injecting it back in.');\n        elemAppend(this._embedContainer, this.chrome);\n      }\n      return this._doSizing();\n    };\n\n    PublicApi.prototype._doSizing = function() {\n      if (this.popover) {\n        if (this.popover.fixedSizeTooBigForWindow()) {\n          return this._doFoam();\n        } else if (this._opts.popoverSize) {\n          this._lastWidth = this.width();\n          this._lastHeight = this.height();\n          this.width(this._popoverSize().width);\n          return this.height(this._popoverSize().height);\n        } else {\n          return this._doFoam();\n        }\n      } else if (this._allowFoam()) {\n        return this._doFoam();\n      } else if (this._allowContainerMatch()) {\n        return this._doContainerMatch();\n      }\n    };\n\n    PublicApi.prototype.looksDown = function() {\n      return !this._embedContainer || !elemInDom(this._embedContainer) || elemIsHidden(this._embedContainer);\n    };\n\n    PublicApi.prototype.looksUp = function() {\n      return !this.looksDown();\n    };\n\n    PublicApi.prototype._doResize = function() {\n      if (typeof this._throttleTriggerViewport === \"function\") {\n        this._throttleTriggerViewport();\n      }\n      if (!this._debounceDoMonitor) {\n        this.embedded((function(_this) {\n          return function() {\n            return requestAnimationFrame(function() {\n              _this._doMonitor();\n              return _this._debounceDoMonitor = false;\n            });\n          };\n        })(this));\n      }\n      return this._debounceDoMonitor = true;\n    };\n\n    PublicApi.prototype._definePluginMethod = function() {\n      if (this.plugin) {\n        return;\n      }\n      return this.plugin = (function(_this) {\n        return function(name, fn) {\n          var stopGo;\n          if (!(stopGo = _this._pluginStopGos[name])) {\n            stopGo = _this._pluginStopGos[name] = new StopGo();\n            stopGo(!!_this.plugin[name], _this.plugin[name]);\n          }\n          if (fn) {\n            return stopGo(function() {\n              return fn(_this.plugin[name]);\n            });\n          } else {\n            return stopGo;\n          }\n        };\n      })(this);\n    };\n\n    PublicApi.prototype.videoFoam = function(setValue) {\n      if (setValue != null) {\n        this.info('videoFoam', setValue);\n        this._attrs.videoFoam = setValue;\n        this.monitor();\n        return setValue;\n      } else {\n        return this._attrs.videoFoam || false;\n      }\n    };\n\n    PublicApi.prototype._transformAndUpdateMediaData = function() {\n      var ref14, ref15, ref16;\n      this._mediaData = mediaDataTransforms(this._originalMediaData, this._opts);\n      if ((ref14 = this._impl) != null) {\n        if ((ref15 = ref14.engine) != null) {\n          ref15.onMediaDataChanged(this._mediaData, this._opts);\n        }\n      }\n      return (ref16 = this._impl) != null ? ref16._mediaData = this._mediaData : void 0;\n    };\n\n    PublicApi.prototype.specialBind = function() {\n      var args, event, fn, t, t1, t2;\n      event = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      if (event === 'crosstime') {\n        t = args[0], fn = args[1];\n        this.onCrossTime(t, fn);\n        return (function(_this) {\n          return function() {\n            return _this.unbindOnCrossTime(t, fn);\n          };\n        })(this);\n      } else if (event === 'betweentimes') {\n        t1 = args[0], t2 = args[1], fn = args[2];\n        this.betweenTimes(t1, t2, fn);\n        return (function(_this) {\n          return function() {\n            return _this.unbindBetweenTimes(t1, t2, fn);\n          };\n        })(this);\n      } else {\n        return false;\n      }\n    };\n\n    PublicApi.prototype.specialUnbind = function() {\n      var args, event, fn, t, t1, t2;\n      event = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      if (event === 'crosstime') {\n        t = args[0];\n        fn = args[1];\n        this.unbindOnCrossTime(t, fn);\n        return true;\n      } else if (event === 'betweentimes') {\n        t1 = args[0];\n        t2 = args[1];\n        fn = args[2];\n        this.unbindBetweenTimes(t1, t2, fn);\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    PublicApi.prototype.onCrossTime = function(t, fn) {\n      var afterT, base, runFn, setupTimeoutFromNow, setupTimeoutFromNowIfClose, suspendTimeoutIndefinitely, timeoutKey;\n      if (!/^(\\d+\\.)?\\d+$/.test(t)) {\n        throw 'onCrossTime: Expected first argument to be a number';\n      }\n      if (typeof fn !== 'function') {\n        throw 'onCrossTime: Expected second argument to be a function';\n      }\n      if (this._onCrossTimeBindings == null) {\n        this._onCrossTimeBindings = {};\n      }\n      if ((base = this._onCrossTimeBindings)[t] == null) {\n        base[t] = [];\n      }\n      timeoutKey = this.uuid + \".\" + (uniqId('after_time_'));\n      afterT = this.time() > t;\n      runFn = (function(_this) {\n        return function() {\n          var result;\n          if (_this.time() < t) {\n            return setupTimeoutFromNow();\n          } else {\n            if (!afterT) {\n              afterT = true;\n              result = fn.call(_this);\n              if (result === _this.unbind) {\n                return _this.unbindOnCrossTime(t, fn);\n              }\n            }\n          }\n        };\n      })(this);\n      setupTimeoutFromNow = (function(_this) {\n        return function() {\n          if (_this.time() >= t) {\n            clearTimeouts(timeoutKey);\n            return runFn();\n          } else if (!afterT) {\n            return doTimeout(timeoutKey, runFn, (t - _this.time()) * 1000);\n          }\n        };\n      })(this);\n      setupTimeoutFromNowIfClose = (function(_this) {\n        return function() {\n          if (_this.time() < t) {\n            afterT = false;\n            if (t - _this.time() < 2) {\n              return setupTimeoutFromNow();\n            }\n          } else {\n            if (!afterT) {\n              return runFn();\n            }\n          }\n        };\n      })(this);\n      suspendTimeoutIndefinitely = (function(_this) {\n        return function() {\n          return clearTimeouts(timeoutKey);\n        };\n      })(this);\n      this.bind('play', setupTimeoutFromNowIfClose);\n      this.bind('timechange', setupTimeoutFromNowIfClose);\n      this.bind('pause', suspendTimeoutIndefinitely);\n      this.bind('end', suspendTimeoutIndefinitely);\n      this.bind('waiting', suspendTimeoutIndefinitely);\n      if (this.state() === 'playing' && !afterT) {\n        setupTimeoutFromNowIfClose();\n      }\n      this._onCrossTimeBindings[t].push({\n        fn: fn,\n        setupTimeoutFromNowIfClose: setupTimeoutFromNowIfClose,\n        suspendTimeoutIndefinitely: suspendTimeoutIndefinitely\n      });\n      return this;\n    };\n\n    PublicApi.prototype.unbindOnCrossTime = function(t, fn) {\n      var bindings, hash, index, j, len, ref14;\n      if (!(this._onCrossTimeBindings && this._onCrossTimeBindings[t])) {\n        return this;\n      }\n      bindings = null;\n      index = 0;\n      ref14 = this._onCrossTimeBindings[t];\n      for (j = 0, len = ref14.length; j < len; j++) {\n        hash = ref14[j];\n        if (hash.fn === fn) {\n          bindings = hash;\n          break;\n        }\n        index += 1;\n      }\n      if (!bindings) {\n        return this;\n      }\n      this.unbind('play', bindings.setupTimeoutFromNowIfClose);\n      this.unbind('timechange', bindings.setupTimeoutFromNowIfClose);\n      this.unbind('pause', bindings.suspendTimeoutIndefinitely);\n      this.unbind('end', bindings.suspendTimeoutIndefinitely);\n      this.unbind('waiting', bindings.suspendTimeoutIndefinitely);\n      this._onCrossTimeBindings[t].splice(index, 1);\n      if (this._onCrossTimeBindings[t].length === 0) {\n        delete this._onCrossTimeBindings[t];\n      }\n      return this;\n    };\n\n    PublicApi.prototype.betweenTimes = function(t1, t2, fn) {\n      var base, onTimechange, timeKey, withinInterval;\n      if (!(/^(\\d+\\.)?\\d+$/.test(t1) && /^(\\d+\\.)?\\d+$/.test(t2))) {\n        throw 'betweenTimes: Expected first two arguments to be numbers';\n      }\n      if (typeof fn !== 'function') {\n        throw 'betweenTimes: Expected second argument to be a function';\n      }\n      timeKey = t1 + \"-\" + t2;\n      if (this._betweenTimeBindings == null) {\n        this._betweenTimeBindings = {};\n      }\n      if ((base = this._betweenTimeBindings)[timeKey] == null) {\n        base[timeKey] = [];\n      }\n      withinInterval = false;\n      onTimechange = (function(_this) {\n        return function() {\n          var result, t;\n          t = _this.time();\n          if ((t1 <= t && t < t2) && !withinInterval) {\n            withinInterval = true;\n            result = fn.call(_this, withinInterval);\n          } else if (!((t1 <= t && t < t2)) && withinInterval) {\n            withinInterval = false;\n            result = fn.call(_this, withinInterval);\n          }\n          if (result === _this.unbind) {\n            return _this.unbindBetweenTimes(t1, t2, fn);\n          }\n        };\n      })(this);\n      this.onCrossTime(t1, onTimechange);\n      this.onCrossTime(t2, onTimechange);\n      this.bind('timechange', onTimechange);\n      onTimechange();\n      this._betweenTimeBindings[timeKey].push({\n        fn: fn,\n        onTimechange: onTimechange\n      });\n      return this;\n    };\n\n    PublicApi.prototype.unbindBetweenTimes = function(t1, t2, fn) {\n      var bindings, hash, index, j, len, ref14, timeKey;\n      timeKey = t1 + \"-\" + t2;\n      if (!this._betweenTimeBindings[timeKey]) {\n        return this;\n      }\n      bindings = null;\n      index = 0;\n      ref14 = this._betweenTimeBindings[timeKey];\n      for (j = 0, len = ref14.length; j < len; j++) {\n        hash = ref14[j];\n        if (hash.fn === fn) {\n          bindings = hash;\n          break;\n        }\n        index += 1;\n      }\n      if (!bindings) {\n        return this;\n      }\n      this.unbindOnCrossTime(t1, bindings.onTimechange);\n      this.unbindOnCrossTime(t2, bindings.onTimechange);\n      this.unbind('timechange', bindings.onTimechange);\n      this._betweenTimeBindings[timeKey].splice(index, 1);\n      if (this._betweenTimeBindings[timeKey].length === 0) {\n        delete this._betweenTimeBindings[timeKey];\n      }\n      return this;\n    };\n\n\n    /*\n     _____       _     _ _        __  __      _   _               _\n    |  __ \\     | |   | (_)      |  \\/  |    | | | |             | |\n    | |__) |   _| |__ | |_  ___  | \\  / | ___| |_| |__   ___   __| |___\n    |  ___/ | | | '_ \\| | |/ __| | |\\/| |/ _ \\ __| '_ \\ / _ \\ / _` / __|\n    | |   | |_| | |_) | | | (__  | |  | |  __/ |_| | | | (_) | (_| \\__ \\\n    |_|    \\__,_|_.__/|_|_|\\___| |_|  |_|\\___|\\__|_| |_|\\___/ \\__,_|___/\n     */\n\n    PublicApi.prototype.aspect = function() {\n      return this._implGet('aspect', 0);\n    };\n\n    PublicApi.prototype.asset = function() {\n      return this._implGet.apply(this, ['asset', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.assets = function() {\n      return this._implGet.apply(this, ['assets', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.audioDescriptionControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['audioDescriptionControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.bigPlayButtonEnabled = function() {\n      return this._implSetOrGet.apply(this, ['bigPlayButtonEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.bigPlayButtonTimeEnabled = function() {\n      return this._implSetOrGet.apply(this, ['bigPlayButtonTimeEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.cancelOverlay = function() {\n      return this._implPromise.apply(this, ['cancelOverlay'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.cancelFullscreen = function() {\n      return this._implExec('cancelFullscreen');\n    };\n\n    PublicApi.prototype.captureCurrentFrame = function() {\n      return this._implGet.apply(this, ['captureCurrentFrame', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.closeTabMenu = function() {\n      return this._implExec('closeTabMenu');\n    };\n\n    PublicApi.prototype.controlScaling = function() {\n      return this._implSetOrGet.apply(this, ['controlScaling', 'auto'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.createControl = function() {\n      return this._implGet.apply(this, ['createControl', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.defineOverlay = function() {\n      return this._implExec.apply(this, ['defineOverlay'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.destroyControl = function() {\n      return this._implExec.apply(this, ['destroyControl'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.doNotTrack = function() {\n      return this._opts.doNotTrack;\n    };\n\n    PublicApi.prototype.duration = function() {\n      return this._implGet('duration', null);\n    };\n\n    PublicApi.prototype.embedded = function() {\n      return this._implSetOrGet.apply(this, ['embedded', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.embedOptions = function() {\n      if (this._hasImpl()) {\n        return this._implGet.apply(this, ['embedOptions', {}].concat(slice.call(arguments)));\n      } else {\n        if (this._embedOptions) {\n          return this._embedOptions;\n        }\n        return this._embedOptions = this._gatherOptions();\n      }\n    };\n\n    PublicApi.prototype.enterInputContext = function() {\n      return this._implExec.apply(this, ['enterInputContext'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.eventKey = function() {\n      return this._implGet('eventKey', null);\n    };\n\n    PublicApi.prototype.exitInputContext = function() {\n      return this._implExec.apply(this, ['exitInputContext'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.extraHeight = function() {\n      return this._implGet('extraHeight', 0);\n    };\n\n    PublicApi.prototype.extraWidth = function() {\n      return this._implGet('extraWidth', 0);\n    };\n\n    PublicApi.prototype.fit = function() {\n      return this._implExec('fit');\n    };\n\n    PublicApi.prototype.fullscreenControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['fullscreenControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.focus = function() {\n      return this._implPromise.apply(this, ['focus'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.getBuffered = function() {\n      return this._implGet('getBuffered', []);\n    };\n\n    PublicApi.prototype.getFocusedChapter = function() {\n      return this._implGet('getFocusedChapter', null);\n    };\n\n    PublicApi.prototype.getInputContext = function() {\n      return this._implGet('getInputContext', []);\n    };\n\n    PublicApi.prototype.getMediaElement = function() {\n      return this._implGet('getMediaElement', null);\n    };\n\n    PublicApi.prototype.getMediaType = function() {\n      return this._implGet('getMediaType', null);\n    };\n\n    PublicApi.prototype.getOverlays = function() {\n      return this._implGet('getOverlays', {});\n    };\n\n    PublicApi.prototype.getRegion = function() {\n      return this._implGet.apply(this, ['getRegion', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.getSelectedCaptions = function() {\n      var ref14, ref15;\n      return (ref14 = this.controls) != null ? (ref15 = ref14.captions) != null ? ref15.getSelectedCaptions() : void 0 : void 0;\n    };\n\n    PublicApi.prototype.hasData = function() {\n      return this._implSetOrGet.apply(this, ['hasData', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.height = function() {\n      return this._implSetOrGet.apply(this, ['height', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.heightForWidth = function() {\n      return this._implGet.apply(this, ['heightForWidth', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.hideControls = function() {\n      return this._implExec.apply(this, ['hideControls', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.humanDuration = function() {\n      return secondsToIso8601Duration(this.duration());\n    };\n\n    PublicApi.prototype.ieSizeHack = function() {\n      return this._implExec('ieSizeHack');\n    };\n\n    PublicApi.prototype.inFullscreen = function() {\n      return this._implGet('inFullscreen', false);\n    };\n\n    PublicApi.prototype.inSilentPlaybackMode = function() {\n      return this._implGet('inSilentPlaybackMode', false);\n    };\n\n    PublicApi.prototype.isMuted = function() {\n      return this._implGet('isMuted');\n    };\n\n    PublicApi.prototype.isResumableEnabled = function() {\n      return this._implGet('isResumableEnabled');\n    };\n\n    PublicApi.prototype.lastPauseInfo = function() {\n      return this._implGet('lastPauseInfo', {});\n    };\n\n    PublicApi.prototype.lastPlayInfo = function() {\n      return this._implGet('lastPlayInfo', {});\n    };\n\n    PublicApi.prototype.layout = function() {\n      return this._implSetOrGet.apply(this, ['layout', 'primary'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.look = function() {\n      return this._implSetOrGet.apply(this, ['look', {}].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.mp4Asset = function() {\n      return this._implGet.apply(this, ['mp4Asset', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.mute = function() {\n      return this._implExec('mute');\n    };\n\n    PublicApi.prototype.playerLanguage = function(code) {\n      if (code) {\n        this._wasPlayerLanguageSetViaApi = true;\n      }\n      return this._implSetOrGet.apply(this, ['playerLanguage', 'en-US'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.name = function() {\n      return this._implSetOrGet.apply(this, ['name', ''].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.openChaptersTab = function() {\n      return this._implExec('openChaptersTab');\n    };\n\n    PublicApi.prototype.openShareTab = function() {\n      return this._implExec('openShareTab');\n    };\n\n    PublicApi.prototype.openTabMenu = function() {\n      return this._implExec('openTabMenu');\n    };\n\n    PublicApi.prototype.openTranscriptTab = function() {\n      return this._implExec('openTranscriptTab');\n    };\n\n    PublicApi.prototype.originalAsset = function() {\n      return this._implGet.apply(this, ['originalAsset', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.pause = function() {\n      return this._commandQueueImplPromise('pause');\n    };\n\n    PublicApi.prototype.percentWatched = function() {\n      return this._implGet('percentWatched', 0);\n    };\n\n    PublicApi.prototype.playbarControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['playbarControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.play = function() {\n      return this._commandQueueImplPromise('play');\n    };\n\n    PublicApi.prototype.playbackRate = function() {\n      return this._implSetOrGet.apply(this, ['playbackRate', 1].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.playbackRateControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['playbackRateControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.playerColor = function() {\n      return this._implSetOrGet.apply(this, ['playerColor', '636155'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.playerBackgroundColor = function() {\n      return this._implSetOrGet.apply(this, ['playerBackgroundColor', '000000'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.playPauseControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['playPauseControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.qualityControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['qualityControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.requestFullscreen = function() {\n      return this._implExec('requestFullscreen');\n    };\n\n    PublicApi.prototype.requestOverlay = function() {\n      return this._implPromise.apply(this, ['requestOverlay'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.ready = function() {\n      return this._implSetOrGet.apply(this, ['ready', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.releaseChromeless = function() {\n      return this._implExec.apply(this, ['releaseChromeless'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.releaseControls = function() {\n      return this._implExec.apply(this, ['releaseControls'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.requestChromeless = function() {\n      return this._implExec.apply(this, ['requestChromeless'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.requestControls = function() {\n      return this._implExec.apply(this, ['requestControls'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.secondsWatched = function() {\n      return this._implGet('secondsWatched', 0);\n    };\n\n    PublicApi.prototype.secondsWatchedVector = function() {\n      return this._implGet('secondsWatchedVector', []);\n    };\n\n    PublicApi.prototype.selectableQualities = function() {\n      return this._implGet('selectableQualities', []);\n    };\n\n    PublicApi.prototype.selectedQuality = function() {\n      return this._implGet('selectedQuality', []);\n    };\n\n    PublicApi.prototype.setFocusedChapter = function() {\n      return this._implSetOrGet.apply(this, ['setFocusedChapter', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.settingsControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['settingsControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.shouldResume = function() {\n      return this._implGet('shouldResume');\n    };\n\n    PublicApi.prototype.showControls = function() {\n      return this._implExec.apply(this, ['showControls', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.state = function() {\n      return this._implGet('state', 'beforeplay');\n    };\n\n    PublicApi.prototype.stillUrl = function() {\n      return this._implGet.apply(this, ['stillUrl', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.suppressPlay = function() {\n      return this._implSetOrGet.apply(this, ['suppressPlay', this].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.thumbnailAssets = function() {\n      return this._implGet('thumbnailAssets', []);\n    };\n\n    PublicApi.prototype.time = function() {\n      var args, t;\n      t = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      if (t != null) {\n        return this._commandQueueImplPromise.apply(this, ['time', formattedDurationToSeconds(t)].concat(slice.call(args)));\n      } else {\n        return this._implGet('time', 0);\n      }\n    };\n\n    PublicApi.prototype.timeInHumanDuration = function() {\n      return secondsToIso8601Duration(this._implGet.apply(this, ['time', 0].concat(slice.call(arguments))));\n    };\n\n    PublicApi.prototype.timeInIso8601Duration = function() {\n      return secondsToIso8601Time(this._implGet.apply(this, ['time', 0].concat(slice.call(arguments))));\n    };\n\n    PublicApi.prototype.trim = function() {\n      return this._implSetOrGet.apply(this, ['trim', {\n        start: 0,\n        end: -1\n      }].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.unmute = function() {\n      return this._implExec('unmute');\n    };\n\n    PublicApi.prototype.undefineOverlay = function() {\n      return this._implPromise.apply(this, ['undefineOverlay'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.videoHeight = function() {\n      return this._implSetOrGet.apply(this, ['videoHeight', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.videoQuality = function(qual) {\n      if (qual != null) {\n        return this._commandQueueImplPromise.apply(this, ['setVideoQuality', qual].concat(slice.call(arguments)));\n      } else {\n        return this._implGet('getVideoQuality');\n      }\n    };\n\n    PublicApi.prototype.videoWidth = function() {\n      return this._implSetOrGet.apply(this, ['videoWidth', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.visitorKey = function() {\n      return W.visitorKey.value() || null;\n    };\n\n    PublicApi.prototype.volume = function() {\n      return this._implSetOrGet.apply(this, ['volume', 0].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.volumeControlEnabled = function() {\n      return this._implSetOrGet.apply(this, ['volumeControlEnabled', false].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.whenVideoElementInDom = function() {\n      return new Promise((function(_this) {\n        return function(resolve) {\n          return _this._hasImpl(function() {\n            return resolve(_this._implGet.apply(_this, ['whenVideoElementInDom', null].concat(slice.call(arguments))));\n          });\n        };\n      })(this));\n    };\n\n    PublicApi.prototype.width = function() {\n      return this._implSetOrGet.apply(this, ['width', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.widthForHeight = function() {\n      return this._implGet.apply(this, ['widthForHeight', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.chaptersEnabled = function() {\n      return this._implSetOrGet.apply(this, ['chaptersEnabled', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.chaptersVisibleOnLoad = function() {\n      return this._implSetOrGet.apply(this, ['chaptersVisibleOnLoad', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.addChapter = function() {\n      return this._implExec.apply(this, ['addChapter'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.getChapter = function() {\n      return this._implGet.apply(this, ['getChapter', null].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.removeChapter = function() {\n      return this._implExec.apply(this, ['removeChapter'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.chapters = function() {\n      return this._implSetOrGet.apply(this, ['chapters', []].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.customerLogo = function() {\n      return this._implExec.apply(this, ['customerLogo'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.setControlEnabled = function(handle, bool) {\n      return this._implSetOrGet('setControlEnabled', null, handle, bool);\n    };\n\n    PublicApi.prototype.isControlDisabled = function(handle) {\n      return this._implGet('isControlDisabled', false, handle);\n    };\n\n    PublicApi.prototype.isControlEnabled = function(handle) {\n      return this._implGet('isControlEnabled', false, handle);\n    };\n\n    PublicApi.prototype.whenControlMounted = function(handle) {\n      return this._implPromise('whenControlMounted', handle);\n    };\n\n    PublicApi.prototype.getControl = function(handle) {\n      return this._implGet('getControl', null, handle);\n    };\n\n    PublicApi.prototype.getEmail = function() {\n      return this.email();\n    };\n\n    PublicApi.prototype.getEventKey = function() {\n      return this.eventKey();\n    };\n\n    PublicApi.prototype.getVisitorKey = function() {\n      return this.visitorKey();\n    };\n\n    PublicApi.prototype.setEmail = function(email) {\n      return this.email(email);\n    };\n\n    PublicApi.prototype.setPlayerColor = function() {\n      return this._implExec.apply(this, ['playerColor'].concat(slice.call(arguments)));\n    };\n\n    PublicApi.prototype.removeReadyFn = function() {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return this._hasImpl((function(_this) {\n        return function() {\n          var ref14;\n          return (ref14 = _this._impl.ready).remove.apply(ref14, args);\n        };\n      })(this));\n    };\n\n    PublicApi.prototype.isKeyboardFocused = function(bool) {\n      return this._implSetOrGet('isKeyboardFocused', null, bool);\n    };\n\n    PublicApi.prototype.email = function(email) {\n      var lastEmail, ref14;\n      if (email != null) {\n        this.info('email', email);\n        lastEmail = this._attrs.email;\n        this._attrs.email = email;\n        W.localStorage([this._attrs.pageUrl, \"trackEmail\"], email);\n        if (!((ref14 = this._opts) != null ? ref14.noDeprecatedProperties : void 0)) {\n          this.params.trackEmail = email;\n        }\n        if (email !== lastEmail) {\n          this.container.dispatchEvent(new CustomEvent('emailchange', {\n            detail: {\n              email: email\n            }\n          }));\n        }\n        return this;\n      } else {\n        return this._attrs.email || null;\n      }\n    };\n\n    PublicApi.prototype.foreignData = function(fd) {\n      var ref14, ref15;\n      if (fd === void 0) {\n        return this._attrs.foreignData || this._foreignData || null;\n      } else if (fd === null) {\n        this._attrs.foreignData = null;\n        return this.trigger('foreigndatachange', fd);\n      } else {\n        this.info('foreignData', fd);\n        if (!isObject(fd)) {\n          throw new Error('foreignData can only be an Object');\n        }\n        fd = clone(fd);\n        this._attrs.foreignData = fd;\n        if ((ref14 = this._impl) != null) {\n          if ((ref15 = ref14.tracker) != null) {\n            ref15.transmit({\n              force: true\n            });\n          }\n        }\n        return this.trigger('foreigndatachange', fd);\n      }\n    };\n\n    PublicApi.classFor = function(embedType) {\n      var ref14, result;\n      if (embedType instanceof W.Player) {\n        embedType = embedType.embedType;\n      } else if (embedType instanceof W.PublicApi) {\n        embedType = (ref14 = embedType._impl) != null ? ref14.embedType : void 0;\n      }\n      result = (function() {\n        switch (embedType) {\n          case 'vulcan':\n            return W.VulcanPlayer;\n          case 'vulcan-v2':\n            return W.VulcanV2Player;\n          case 'html5':\n            return W.Html5Player;\n          case 'external':\n            return W.ExternalPlayer;\n          case 'notplayable':\n            return W.NotPlayablePlayer;\n          case 'passwordprotected':\n            return W.PasswordProtectedPlayer;\n          default:\n            return W.Player;\n        }\n      })();\n      if (result) {\n        return result;\n      } else {\n        W.Metrics.count(\"player/\" + embedType + \"-class-not-defined\", 1, {\n          ua: navigator.userAgent,\n          detect: W.detect\n        });\n        W.error(\"PublicApi.classFor: embedType is \" + embedType + \" but its class is not defined. Using 'vulcan-v2' instead.\");\n        return W.VulcanV2Player;\n      }\n    };\n\n    return PublicApi;\n\n  })();\n  W.mixin(W.PublicApi.prototype, W.bindable);\n  oldTrigger = W.PublicApi.prototype.trigger;\n  W.PublicApi.prototype._triggerNoImpl = function() {\n    var api, args, event, ref14;\n    event = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    oldTrigger.call.apply(oldTrigger, [this, event].concat(slice.call(args)));\n    if (this.translationApi) {\n      api = this.translationApi;\n    } else {\n      api = this;\n    }\n    return (ref14 = window.wistiaEmbeds) != null ? ref14.trigger.apply(ref14, [event, api].concat(slice.call(args))) : void 0;\n  };\n  W.PublicApi.prototype.trigger = function() {\n    var args, ref14;\n    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n    if (this._impl) {\n      return (ref14 = this._impl).trigger.apply(ref14, args);\n    } else {\n      return this._triggerNoImpl.apply(this, args);\n    }\n  };\n  W.mixin(W.PublicApi.prototype, W.logHelpers);\n  return W.PublicApi.prototype._logPrefix = function() {\n    var ref14;\n    return [this.constructor.name, this.hashedId() || 'no hashedId', (ref14 = this.container) != null ? ref14.id : void 0, this.uuid];\n  };\n})(Wistia);\n","import W from 'wistia_namespace.js';\nimport { assign, merge } from 'utilities/obj.js';\nimport * as Judy from 'utilities/judy.js';\nimport { eV1HostWithPort, eV1Protocol } from 'utilities/hosts.js';\nimport { cachedDetect } from 'utilities/detect.js';\n\nconst detect = cachedDetect();\n\nconst AUDIO = 'Audio';\n\nconst PLUGIN_LIST = [\n  'airplay',\n  'audioChapters',\n  'audioShare',\n  'captions',\n  'captions-v1',\n  'chapters',\n  'cropFill', // used in es3 labs\n  'customizePreview',\n  'customerLogo',\n  'dimTheLights', // used in es3 labs\n  'dimthelights', // used in es3 labs\n  'encodingProgress',\n  'eventbrite',\n  'externalPlayer',\n  'facebookPixel',\n  'googleAnalytics4',\n  'hlsVideo',\n  'html5Player',\n  'hubspotForm',\n  'marketoForm',\n  'midrollLink-v1',\n  'midrollLink-v2',\n  'nativeHlsVideo',\n  'notPlayableVideo',\n  'passwordProtectedVideo',\n  'postRoll-v1',\n  'postRoll-v2',\n  'requireEmail-v1',\n  'share',\n  'share-v2',\n  'socialbar-v1',\n  'thumbnailTextOverlay',\n  'thumbnailTextOverlay-v2',\n  'turnstile',\n  'videoThumbnail',\n  'vulcanV2Player',\n  'watchNext',\n  'wistiaLogo',\n];\n\nconst isPluginSupported = (name) => {\n  if (name === 'socialbar-v1' || name.indexOf('transcript') !== -1) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const getPluginsNotInList = (plugins = {}) => {\n  return plugins.reduce((filteredPlugins, plugin) => {\n    if (PLUGIN_LIST.indexOf(plugin.name) === -1) {\n      filteredPlugins.push(plugin);\n    }\n\n    return filteredPlugins;\n  }, []);\n};\n\n// Given a video, look at its plugin options and generate an\n// array of hashes that can be used as an argument to\n// `runScripts`.\nexport const pluginScriptsToLoad = (mediaData, embedOptions = {}, playerPlugins = {}) => {\n  const ctx = Judy.buildContext();\n\n  const { mediaType } = mediaData;\n  const embedOptionsFromMediaData = mediaData.embedOptions;\n  const mediaDataPlugins = Object(embedOptionsFromMediaData).plugin;\n\n  const pluginOptions = embedOptions.plugin || mediaDataPlugins || {};\n  const allPlugins = merge({}, pluginOptions, playerPlugins);\n\n  const chosenPlayer = Judy.choosePlayer(ctx, mediaData, embedOptions);\n\n  // loop over all the plugins and create all the wonderful plugin scripts objects\n  const pluginScripts = pluginScriptsFromDefinedPlugins(allPlugins, embedOptions);\n\n  // add the airplay plugin if we detect it is not set off\n  if ((detect.safari || detect.iphone || detect.ipad) && embedOptions.airplayButton !== false) {\n    const airplay = {\n      name: 'airplay',\n      options: allPlugins.airplay || {},\n      async: true,\n      src: `${eV1Protocol()}//${eV1HostWithPort()}/assets/external/airplay.js`,\n    };\n\n    pluginScripts.push(airplay);\n  }\n\n  // transform layer between old v1 scripts and new scripts v2\n  const transformedPluginScripts = translatePlugins(\n    pluginScripts,\n    embedOptions,\n    chosenPlayer,\n    mediaType,\n  );\n\n  // chapters is a special case: it's a plugin, but we also supported defining\n  // it as a root embed option via `chaptersOn` and a `chaptersList`\n  // via a root embed option.\n  if (chosenPlayer === 'vulcan-v2' && embedOptions.chaptersOn && !allPlugins.chapters) {\n    transformedPluginScripts.push({\n      name: getSourceName('chapters'),\n      src: `${eV1Protocol()}//${eV1HostWithPort()}/assets/external/chapters.js`,\n      async: true,\n    });\n  }\n\n  // conditionally add customer logo\n  if (\n    embedOptions.showCustomerLogo &&\n    embedOptions.customerLogoImageUrl &&\n    mediaData.enableCustomerLogo\n  ) {\n    transformedPluginScripts.push({\n      name: 'customerLogo',\n      options: allPlugins.customerLogo || {},\n      async: true,\n      src: `${eV1Protocol()}//${eV1HostWithPort()}/assets/external/customerLogo.js`,\n    });\n  }\n\n  // conditionally add wistia logo\n  if (embedOptions.branding === true || mediaData.branding === true) {\n    transformedPluginScripts.push({\n      name: 'wistiaLogo',\n      options: allPlugins.wistiaLogo || {},\n      async: true,\n      src: `${eV1Protocol()}//${eV1HostWithPort()}/assets/external/wistiaLogo.js`,\n    });\n  }\n\n  // This can be true in dev. We should handle it there so we can be sure we're\n  // prefetching all the scripts we absolutely need to show the video.\n  if (chosenPlayer === 'vulcan-v2' && !W.VulcanV2Player) {\n    transformedPluginScripts.push({\n      name: 'vulcanV2Player',\n      options: {},\n      async: false,\n      src: `${eV1Protocol()}//${eV1HostWithPort()}/assets/external/vulcanV2Player.js`,\n    });\n  }\n\n  return orderScripts(transformedPluginScripts);\n};\n\nexport const pluginScriptsFromDefinedPlugins = (plugins, embedOptions) => {\n  const pluginScripts = {};\n\n  Object.keys(plugins).forEach((name) => {\n    if (!Object.hasOwn(plugins, name)) {\n      return;\n    }\n\n    // legacy plugins that we don't want to load any longer\n    if (!isPluginSupported(getSourceName(name))) {\n      return;\n    }\n\n    const options = plugins[name];\n\n    if (options && options.on !== false) {\n      const srcName = getSourceName(name);\n      const newPluginOptions = {\n        name: srcName,\n        src: `${eV1Protocol()}//${eV1HostWithPort()}/assets/external/${srcName}.js`,\n        async:\n          options.async != null\n            ? options.async\n            : !/^(requireEmail|captions|midrollLink|share)/.test(name),\n        options,\n      };\n\n      // if there's a predefined options source and it's allowed to use third party, prefer that plugin src.\n      if (options.src && allow3rdParty(embedOptions)) {\n        newPluginOptions.src = options.src;\n      }\n\n      // add the plugin options to plugin scripts\n      const existingPluginOptions = pluginScripts[srcName];\n      if (existingPluginOptions) {\n        assign(existingPluginOptions, newPluginOptions);\n      } else {\n        pluginScripts[srcName] = newPluginOptions;\n      }\n    }\n  });\n\n  return Object.values(pluginScripts);\n};\n\nconst translatePlugins = (pluginScripts, embedOptions, chosenPlayer, mediaType) => {\n  return pluginScripts.map((script) => {\n    if (chosenPlayer === 'vulcan-v2') {\n      switch (script.name) {\n        case 'captions-v1':\n          script.name = 'captions';\n          script.src = script.src.replace(/captions-v1/, 'captions');\n          break;\n        case 'share':\n          if (mediaType === AUDIO) {\n            // Some customers may have saved embed options with the plugin\n            // called 'share' during the podcasting beta. Or at any time, a\n            // customer could try to enable the 'share' plugin via inline\n            // embed options. This makes the audio-version of the share plugin\n            // load instead.\n            script.name = 'audioShare';\n            script.src = script.src.replace(/share/, 'audioShare');\n          } else {\n            script.name = 'share-v2';\n            script.src = script.src.replace(/share/, 'share-v2');\n          }\n          break;\n\n        case 'chapters':\n          if (mediaType === AUDIO) {\n            // see the above comment about share. The same is applicable here\n            script.name = 'audioChapters';\n            script.src = script.src.replace(/chapters/, 'audioChapters');\n          } else {\n            script.name = 'chapters';\n          }\n          break;\n        case 'postRoll-v1':\n          script.name = 'postRoll-v2';\n          script.src = script.src.replace(/postRoll-v1/, 'postRoll-v2');\n          break;\n        case 'midrollLink-v1':\n          script.name = 'midrollLink-v2';\n          script.src = script.src.replace(/midrollLink-v1/, 'midrollLink-v2');\n          break;\n        case 'requireEmail-v1':\n          if (!embedOptions._inLegacyPlaylist) {\n            script.name = 'turnstile';\n            script.src = script.src.replace(/requireEmail-v1/, 'turnstile');\n          }\n          break;\n        default:\n          break;\n      }\n    }\n\n    return script;\n  });\n};\n\nconst orderScripts = (inputScripts) => {\n  const loadWeight = (plugin) => {\n    let weight = 0;\n\n    if (plugin && plugin.options && plugin.options.loadWeight) {\n      weight = plugin.options.loadWeight;\n    }\n    return weight;\n  };\n\n  return inputScripts.sort((a, b) => {\n    return loadWeight(a) - loadWeight(b);\n  });\n};\n\nconst getSourceName = (pluginName) => {\n  switch (pluginName) {\n    case 'requireEmail':\n      return 'requireEmail-v1';\n    case 'postRoll':\n      return 'postRoll-v2';\n    case 'captions':\n      return 'captions-v1';\n    default:\n      return pluginName;\n  }\n};\n\nexport const allow3rdParty = (options = {}) => {\n  return (\n    options.allowThirdParty !== false &&\n    !/([\\w_-]+\\.)?wistia\\.(com|st|io)$/.test(window.location.hostname)\n  );\n};\n","import W from 'wistia_namespace.js';\nimport * as Judy from 'utilities/judy.js';\nimport { runScripts } from 'utilities/script-utils.js';\nimport { pluginScriptsToLoad } from 'utilities/pluginScriptsToLoad.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\n\nexport const prefetchEngineAndPlugins = (mediaData, opts = {}) => {\n  const pluginScripts = pluginScriptsToLoad(mediaData, opts);\n\n  const judyCtx = Judy.buildContext();\n  const engineModule = Judy.bestUsableEngine(judyCtx, mediaData, opts);\n\n  const pluginsPromise = prefetchPlugins(pluginScripts);\n  const enginePromise = dynamicImport(`assets/external/${engineModule}`);\n\n  return Promise.all([pluginsPromise, enginePromise]);\n};\n\nexport const prefetchPlugins = (pluginScripts = []) => {\n  const scriptsNotFetched = pluginScripts.filter((script) => {\n    if (!W.plugin._prefetched[script.src]) {\n      // mark that the script is being fetched\n      W.plugin._prefetched[script.src] = 'fetching';\n    }\n\n    return !W.plugin._prefetched[script.src];\n  });\n\n  if (scriptsNotFetched.length === 0) {\n    return Promise.resolve();\n  }\n\n  return runScripts(scriptsNotFetched).then(() => {\n    scriptsNotFetched.forEach((script) => {\n      W.plugin._prefetched[script.src] = 'fetched';\n    });\n  });\n};\n","import { secondsToIso8601Duration, secondsToIso8601Date } from 'utilities/iso8601Helper.js';\nimport {\n  clipsFromChapters,\n  shouldAddKeyMoments,\n  shouldAddClipsFromChapters,\n  seekToAction,\n} from 'utilities/keyMoments.js';\nimport { cast, clone } from 'utilities/obj.js';\nimport { cdnFastWistiaNetHost } from 'utilities/hosts.js';\nimport {\n  stillUrl,\n  findClosestAssetByQuality,\n  readyPublicMp3s,\n  readyPublicMp4s,\n} from 'utilities/assets.js';\nimport { Url } from 'utilities/url.js';\nimport { normalizeChapters } from './normalizeChapters.js';\n\nconst generateAudioJsonLd = (mediaData, options = {}) => {\n  const { videoWidth, videoHeight } = options;\n  let { embedOptions } = options;\n\n  if (!embedOptions) {\n    embedOptions = cast(clone(mediaData.embedOptions));\n  }\n\n  return {\n    '@context': 'http://schema.org/',\n    '@id': `https://${cdnFastWistiaNetHost()}/embed/iframe/${mediaData.hashedId}`,\n    '@type': 'AudioObject',\n    duration: `PT${secondsToIso8601Duration(mediaData.duration)}`,\n    name: mediaData.name,\n    thumbnailUrl: stillUrl(mediaData.assets, {\n      ext: 'jpg',\n      protocol: 'https:',\n      videoWidth,\n      videoHeight,\n      embedHost: embedOptions.embedHost,\n    }),\n    contentUrl: generateContentUrl(mediaData),\n    embedUrl: generateEmbedUrl(mediaData, embedOptions),\n    uploadDate: secondsToIso8601Date(mediaData.createdAt),\n    description: mediaData.seoDescription,\n  };\n};\n\nconst generateEmbedUrl = (mediaData, embedOptions) => {\n  const baseUrl = `https://${cdnFastWistiaNetHost()}/embed/iframe/${mediaData.hashedId}`;\n  // if we're doing SeekToAction for Google KeyMoments AND video thumbnail\n  // is enabled, we need to attach a query param so that it is disabled when\n  // Google tries to crawl it\n  if (\n    shouldAddKeyMoments(mediaData, embedOptions) &&\n    !shouldAddClipsFromChapters(embedOptions) &&\n    mediaData.embedOptions.plugin?.videoThumbnail\n  ) {\n    return `${baseUrl}?wseektoaction=true`;\n  }\n  return baseUrl;\n};\n\n// Google has been struggling with Key Moments using our normal iframe pages as the embedUrl\n// and have asked us to use a contentUrl with a direct m3u8 asset instead.\nconst generateContentUrl = (mediaData) => {\n  const { assets } = mediaData;\n  if (mediaData.mediaType === 'Audio') {\n    return readyPublicMp3s(assets)[0].url;\n  }\n\n  const highestQuality = findClosestAssetByQuality(readyPublicMp4s(assets), 1080);\n  const url = new Url(highestQuality.url);\n\n  url.ext('m3u8');\n  return url.absolute();\n};\n\nconst generateVideoJsonLd = (mediaData, options = {}) => {\n  const { videoWidth, videoHeight } = options;\n  let { embedOptions } = options;\n\n  if (!embedOptions) {\n    embedOptions = cast(clone(mediaData.embedOptions));\n  }\n\n  const obj = {\n    '@context': 'http://schema.org/',\n    '@id': `https://${cdnFastWistiaNetHost()}/embed/iframe/${mediaData.hashedId}`,\n    '@type': 'VideoObject',\n    duration: `PT${secondsToIso8601Duration(mediaData.duration)}`,\n    name: mediaData.name,\n    thumbnailUrl: stillUrl(mediaData.assets, {\n      ext: 'jpg',\n      protocol: 'https:',\n      videoWidth,\n      videoHeight,\n      embedHost: embedOptions.embedHost,\n    }),\n    embedUrl: generateEmbedUrl(mediaData, embedOptions),\n    uploadDate: secondsToIso8601Date(mediaData.createdAt),\n    description: mediaData.seoDescription,\n  };\n\n  // LiveStream Medias should not get content urls as we might not have any video assets available\n  if (mediaData.mediaType === 'Video') {\n    obj.contentUrl = generateContentUrl(mediaData);\n  }\n\n  // multilingual captions should come as array of transcript objects. Like\n  // Scar in Lion King, we should Be Prepared!\n  if (mediaData.captions && mediaData.captions[0]) {\n    obj.transcript = mediaData.captions[0].text;\n  }\n\n  if (shouldAddKeyMoments(mediaData, embedOptions)) {\n    // keyMoments come in two flavors.\n    // A. If we have chapters, then we will manually define the key moments via the \"Clip\" schema property\n    // B. If we don't, we will use the \"SeekToAction\" property that lets google parse via `wtime`\n    if (shouldAddClipsFromChapters(embedOptions)) {\n      const chapters = normalizeChapters(embedOptions);\n      const chapterList = chapters.chapterList;\n      obj.hasPart = clipsFromChapters(chapterList, location.href, mediaData.duration);\n    } else {\n      obj.potentialAction = seekToAction();\n    }\n  }\n\n  return obj;\n};\n\nexport const injectJsonLd = (id, mediaData, options = {}) => {\n  let jsonLdObj;\n\n  if (mediaData.mediaType === 'Audio') {\n    jsonLdObj = generateAudioJsonLd(mediaData, options);\n  } else {\n    jsonLdObj = generateVideoJsonLd(mediaData, options);\n  }\n\n  const stringified = JSON.stringify(jsonLdObj);\n  const jsonLd = document.createElement('script');\n  jsonLd.className = 'w-json-ld';\n  jsonLd.type = 'application/ld+json';\n  jsonLd.innerHTML = stringified;\n  jsonLd._wistia = true;\n  jsonLd.setAttribute('id', id);\n  removeInjectedJsonLd(id);\n\n  const existingScripts = document.querySelectorAll('script.w-json-ld');\n  const existingScript = existingScripts[existingScripts.length - 1];\n  if (existingScript) {\n    // insert JSON-LD after last JSON-LD script we injected.\n    existingScript.parentNode.insertBefore(jsonLd, existingScript.nextSibling);\n  } else {\n    // prepend JSON-LD to head if we don't see any others yet\n    document.head.insertBefore(jsonLd, document.head.childNodes[0]);\n  }\n};\n\nexport const removeInjectedJsonLd = (id) => {\n  if (!id) {\n    return;\n  }\n\n  const el = document.getElementById(id);\n  if (!el) {\n    return;\n  }\n\n  el.remove();\n};\n","import { Url } from 'utilities/url.js';\nimport { normalizeChapters } from './normalizeChapters.js';\n\n// Google got mad that the default chapter title is (of course) not very\n// descriptive, and wanted us to make sure it's never used for Key Moments.\nconst DEFAULT_CHAPTER_TITLE = 'Chapter Title';\n\nexport const shouldAddClipsFromChapters = (embedOptions) => {\n  const chapters = normalizeChapters(embedOptions);\n  if (!chapters) {\n    return false;\n  }\n\n  const { chapterList } = chapters;\n\n  // the `on` property must be explicitly false to disable\n  return chapters.on !== false && chapters.on !== 'false' && chapterList?.length > 0;\n};\n\n// keyMoments should only be limited by a few factors:\n// 1. a turnstile is blocking content\n// 2. it's password protected\n// 3. the video is really short\n// 4. only available for VOD, not Live\n// Then, there are two different _types_ of key moments. If we have chapters\n// we will use the Clips format to specifically tell google the timestamps we think\n// are important. Otherwise, we will use the SeekToAction field along with the wtime\n// param to allow Google to search through the video for key moments\nexport const shouldAddKeyMoments = (mediaData, embedOptions) => {\n  if (embedOptions.keyMoments === false) {\n    return false;\n  }\n\n  const { duration, type } = mediaData;\n  const { passwordProtectedVideo, 'requireEmail-v1': turnstilePlugin } = embedOptions.plugin || {};\n  const isLiveStream = type === 'LiveStream';\n\n  const passwordEnabled =\n    passwordProtectedVideo?.on === true || passwordProtectedVideo?.on === 'true';\n\n  const turnstileBlocksContent =\n    turnstilePlugin &&\n    turnstilePlugin.on !== false &&\n    turnstilePlugin.time !== 'end' &&\n    !turnstilePlugin.persistentTurnstile;\n\n  return Boolean(!passwordEnabled && !turnstileBlocksContent && !isLiveStream && duration >= 30);\n};\n\nconst sortedFilteredChapters = (chapterList) => {\n  const chapterExistsAtTime = {};\n\n  return [...chapterList]\n    .sort((a, b) => a.time - b.time)\n    .filter(({ time, title, deleted }) => {\n      if (chapterExistsAtTime[time] || deleted || title === DEFAULT_CHAPTER_TITLE) {\n        return false;\n      }\n      chapterExistsAtTime[time] = true;\n      return true;\n    });\n};\n\nexport const clipsFromChapters = (chapterList, baseUrl, mediaDuration) => {\n  if (!chapterList || chapterList.length === 0) {\n    return;\n  }\n\n  const clips = sortedFilteredChapters(chapterList).map((chapter, index, chapters) => {\n    const { time, title } = chapter;\n    const url = new Url(baseUrl);\n    const floorTime = Math.floor(time);\n    const endOffsetTime = chapters[index + 1] ? chapters[index + 1].time : mediaDuration;\n\n    // wtime does not support decimals\n    url.params.wtime = `${floorTime}s`;\n\n    // https://schema.org/Clip\n    return {\n      '@type': 'Clip',\n      endOffset: Math.floor(endOffsetTime),\n      name: title,\n      startOffset: floorTime,\n      url: url.absolute(),\n    };\n  });\n\n  return clips;\n};\n\n// https://developers.google.com/search/docs/advanced/structured-data/video#seek\nexport const seekToAction = () => {\n  const url = new Url(location.href);\n  // if wtime is already on the url as query param, it will be overwritten here. This is only for the JSON+LD though.\n  url.params.wtime = '{seek_to_second_number}';\n\n  return {\n    '@type': 'SeekToAction',\n    target: `${url.absolute().replace('%7Bseek_to_second_number%7D', '{seek_to_second_number}')}`, // we need to replace the encoded uri with the direct string\n    'startOffset-input': 'required name=seek_to_second_number',\n  };\n};\n","// chapters has two ways of being defined in embed options.\n// The current way is as an object inside `embedOptions.plugin`\n// The old way was as root embed options like `chaptersOn` and `chapterList`.\n// This function normalizes the old root embed option format to an object\n// like the current model\nexport const normalizeChapters = (embedOptions) => {\n  const { plugin, chaptersOn, chapterList } = embedOptions;\n\n  if (plugin?.chapters) {\n    return plugin.chapters;\n  }\n\n  if (chapterList || chaptersOn) {\n    const list = chapterList && chapterList.length > 0 ? chapterList : [];\n    return {\n      on: chaptersOn,\n      chapterList: list,\n    };\n  }\n\n  return undefined;\n};\n","import { base64Decode } from './core.js';\n\n/**\n * Extracts the email from the pageUrl and returns it if found\n * @param {string} pageUrl the url of the page\n * @returns {string | null} the email if found, null otherwise\n */\nexport const extractEmailFromParams = (pageUrl: string): string | null => {\n  const wemail = /wemail=([^&#]+)/.exec(pageUrl) ?? null;\n\n  if (wemail) {\n    return wemail[1];\n  }\n\n  const wkey = /wkey=([^&#]+)/.exec(pageUrl) ?? null;\n\n  if (wkey) {\n    const base64Email = wkey[1];\n    const decodedEmail = base64Decode(base64Email);\n    return decodedEmail;\n  }\n\n  return null;\n};\n","/**\n * Infer the url of the page best we can\n * @returns {string} the url of the page\n */\nexport const inferPageUrl = (): string => {\n  if (window.FreshUrl?.originalUrl != null) {\n    return window.FreshUrl.originalUrl;\n  }\n  if (window.top === window.self) {\n    return window.location.href || '';\n  }\n  return document.referrer || '';\n};\n","import {\n  getLocalStorage,\n  removeLocalStorage,\n  updateLocalStorage,\n} from 'utilities/namespacedLocalStorage.js';\n\nexport const deleteViewerPreferences = () => {\n  removeLocalStorage(getLocalStorageKey());\n};\n\nconst getLocalStorageKey = () => {\n  return 'wistia-viewer-preferences';\n};\n\n/**\n * This should only need to be referenced in _public_api.coffee,\n * where the preferences are merged in as options\n */\nexport const getViewerPreferences = () => {\n  return getLocalStorage(getLocalStorageKey());\n};\n\nexport const setViewerPreference = (preference, value) => {\n  updateLocalStorage(getLocalStorageKey(), (obj) => {\n    obj[preference] = value;\n  });\n};\n","import { getWistiaLocalStorage, updateWistiaLocalStorage } from 'utilities/wistiaLocalStorage.js';\nimport { getLocalStorage, updateLocalStorage } from 'utilities/namespacedLocalStorage.js';\n\nconst copyLegacyLsOnce = (hashedId) => {\n  const legacyLsKey = legacyChannelLsKey(hashedId);\n  const legacyLs = getWistiaLocalStorage()[legacyLsKey] || {};\n  const key = lsKey(hashedId);\n\n  if (legacyLs.copied === true || Object.keys(legacyLs).length === 0) {\n    return;\n  }\n\n  // copy over the old channel ls to the new namespace\n  updateLocalStorage(key, (ls) => {\n    Object.keys(legacyLs).forEach((k) => {\n      ls[k] = legacyLs[k];\n    });\n  });\n\n  // set legacy to having been copied so it won't get copied again\n  updateWistiaLocalStorage((ls) => {\n    const key = legacyChannelLsKey(hashedId);\n    ls[key].copied = true;\n  });\n};\n\nconst legacyChannelLsKey = (hashedId) => {\n  return `channel_${hashedId}`;\n};\n\nconst lsKey = (hashedId) => {\n  return `wistia_channel_${hashedId}`;\n};\n\nexport const getChannelStorage = (hashedId) => {\n  copyLegacyLsOnce(hashedId);\n\n  return getLocalStorage([lsKey(hashedId)]) || {};\n};\n\nexport const setChannelStorage = (hashedId, val) => {\n  copyLegacyLsOnce(hashedId);\n\n  updateLocalStorage((ls) => (ls[lsKey(hashedId)] = val));\n  return getChannelStorage(hashedId);\n};\n\nexport const updateChannelStorage = (hashedId, fn) => {\n  copyLegacyLsOnce(hashedId);\n\n  const key = lsKey(hashedId);\n  updateLocalStorage(key, fn);\n  return getChannelStorage(hashedId);\n};\n\nexport const channelStorageHelpers = {\n  getChannelStorage,\n};\n","import W from 'wistia_namespace.js';\nimport { onDocReady } from 'utilities/docReady.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport throttle from 'utilities/throttle.js';\nimport { getAllApiHandlesByDomOrder } from 'utilities/getApiHandles.ts';\n\n// Check for presence of embed links, and load the rest of the code if we spot\n// any clues, such as:\n//\n// - Any embeds with playlistLinks embed option.\n// - Any <a> tags that look like href=\"#wistia_hashedid\"\n\nW._destructors.destroyEmbedLinks = () => {\n  if (W.EmbedLink.EmbedLinkClass) {\n    W.EmbedLink.EmbedLinkClass._onEv1Destroy();\n  }\n};\n\nconst shouldLoadEmbedLinks = () => {\n  // Do any embeds have the playlistLinks option?\n  const videos = getAllApiHandlesByDomOrder();\n  for (let i = 0; i < videos.length; i++) {\n    if (videos[i]._attrs && videos[i]._attrs.playlistLinks) {\n      return true;\n    }\n  }\n\n  // Are there any <a> tags that have #wistia_hashedid as their src?\n  if (document.querySelectorAll('a[href^=\"#wistia_\"]').length > 0) {\n    return true;\n  }\n\n  return false;\n};\n\nconst conditionallyLoadAndSetUpEmbedLinks = (...args) => {\n  if (shouldLoadEmbedLinks()) {\n    dynamicImport('assets/external/embedLinks.js').then((module) => {\n      module.EmbedLink.setupAll(...args);\n    });\n  }\n};\n\nconst maybeLoadAndSetupAllEmbedLinks = (...args) => {\n  conditionallyLoadAndSetUpEmbedLinks(...args);\n\n  onDocReady(() => {\n    conditionallyLoadAndSetUpEmbedLinks(...args);\n    doTimeout('maybe_load_embed_links_5000', conditionallyLoadAndSetUpEmbedLinks, 5000);\n  });\n};\n\nexport const maybeLoadAndSetupEmbedLinksThrottled = throttle(1000, maybeLoadAndSetupAllEmbedLinks);\n\n// We have to keep this global for now because it is publicly documented at\n// https://wistia.com/support/developers/embed-links#notes\nW.EmbedLink = {};\nW.EmbedLink.setupAll = conditionallyLoadAndSetUpEmbedLinks;\n","import { filter, READY } from 'utilities/assets.js';\nimport { countMetric } from 'utilities/simpleMetrics.js';\n\nconst DEFAULT_QUALITY_MIN = 360;\nconst DEFAULT_QUALITY_MAX = 2160;\n\nconst assetSizeShorthandToNumeric = (size) => {\n  if (size === '4k') {\n    return 2160;\n  }\n  // Strings like 1080p will be parsed as 1080\n  return parseInt(size, 10);\n};\n\nexport const inferQualityRangeFromOpts = (opts, mediaData) => {\n  if (opts.videoQuality && opts.videoQuality !== 'auto') {\n    // Legacy videoQuality option overrides qualityMin and qualityMax\n\n    countMetric('legacy/videoquality-embed-option', 1, {\n      videoQuality: opts.videoQuality,\n      hashedId: mediaData?.hashedId,\n      url: window.location.href,\n    });\n    if (opts.videoQuality === 'sd-only') {\n      return [200, 360];\n    }\n    if (opts.videoQuality === 'md') {\n      return [540, DEFAULT_QUALITY_MAX];\n    }\n    if (opts.videoQuality === 'hd-only') {\n      return [720, DEFAULT_QUALITY_MAX];\n    }\n    return [DEFAULT_QUALITY_MIN, DEFAULT_QUALITY_MAX];\n  }\n  let qualityMin;\n  let qualityMax;\n  if (opts.qualityMin) {\n    qualityMin = assetSizeShorthandToNumeric(opts.qualityMin);\n  } else {\n    qualityMin = DEFAULT_QUALITY_MIN;\n  }\n  if (opts.qualityMax) {\n    qualityMax = assetSizeShorthandToNumeric(opts.qualityMax);\n  } else {\n    qualityMax = DEFAULT_QUALITY_MAX;\n  }\n  return [qualityMin, qualityMax];\n};\n","import { isObject } from 'utilities/obj.js';\n\nconst generateHtml = (hash) => {\n  // if obj doesn't have any children/properties, just return it as a string\n  if (/string|number|boolean/.test(typeof hash)) {\n    return hash.toString();\n  }\n\n  // if hash is an array, do the conversion on all its entries\n  if (hash instanceof Array) {\n    let result = '';\n    for (const entry of hash) {\n      result += generateHtml(entry);\n    }\n    return result;\n  }\n\n  // if we don't know what hash is, just return it as a string\n  if (typeof hash !== 'object') {\n    return hash.toString();\n  }\n\n  // if obj is an object, convert it to HTML\n  const attributes = [];\n  let tagName;\n  let childNodes;\n  for (const key in hash) {\n    let val = hash[key];\n    if (key === 'tagName') {\n      tagName = val;\n    } else if (key === 'childNodes') {\n      childNodes = val;\n    } else {\n      attributes.push({ key, val });\n    }\n  }\n\n  if (!tagName) {\n    tagName = 'div';\n  }\n\n  // start tag\n  let result = `<${tagName}`;\n\n  // tag attributes\n  for (const attr of attributes) {\n    if (attr.key === 'style' && isObject(attr.val)) {\n      attr.val = `${(() => {\n        const result1 = [];\n\n        for (let prop in attr.val) {\n          const value = attr.val[prop];\n          result1.push(`${prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()}:${value}`);\n        }\n\n        return result1;\n      })().join(';')};`;\n    }\n    result += ` ${attr.key}=\"${attr.val}\"`;\n  }\n\n  // close tag or recurse for child nodes\n  if (/^(br|hr|img|link|meta|input)$/i.test(tagName)) {\n    result += ' />';\n  } else {\n    result += '>';\n    if (childNodes) {\n      if (typeof childNodes === 'string') {\n        result += childNodes;\n      } else if (typeof childNodes === 'object') {\n        result += generateHtml(childNodes);\n      }\n    }\n    result += `</${tagName}>`;\n  }\n\n  return result;\n};\n\nconst generateRelativeBlockCss = `display:inline-block;height:100%;line-height:normal;margin:0;padding:0;position:relative;vertical-align:top;width:100%;`;\n\nexport { generateHtml, generateRelativeBlockCss };\n","export const sanePlayerColor = (playerColor) => {\n  if (playerColor) {\n    // Strip leading # from the playerColor.\n    playerColor = `${playerColor}`.replace(/^#/g, '');\n\n    // If the player color is passed in short-hand (e.g. 000 for black),\n    // expand each of the channels so it's 6 characters long.\n    if (playerColor.length < 6) {\n      let prefix = '';\n      for (let i = 0; i < 6 - playerColor.length; i++) {\n        prefix += '0';\n      }\n      playerColor = `${prefix}${playerColor}`;\n    }\n\n    // Set a default player color if it's not provided or invalid.\n    if (!/^[\\da-f]{6}$/i.test(playerColor)) {\n      playerColor = '636155';\n    }\n\n    return playerColor;\n  }\n  return '636155';\n};\n","export const scrollLeft = (l) => {\n  if (l) {\n    if (document.body) {\n      document.body.scrollLeft = l;\n    }\n    if (document.documentElement) {\n      document.documentElement.scrollLeft = l;\n    }\n  } else {\n    return document?.documentElement?.scrollLeft || document?.body?.scrollLeft || 0;\n  }\n};\n\nexport const scrollTop = (t) => {\n  if (t) {\n    if (document.body) {\n      document.body.scrollTop = t;\n    }\n\n    if (document.documentElement) {\n      document.documentElement.scrollTop = t;\n    }\n  } else {\n    return document?.documentElement?.scrollTop || document?.body?.scrollTop || 0;\n  }\n};\n","export const uniqId = (prefix = '', suffix = '') => {\n  let d = new Date().getTime();\n\n  if (window.performance && typeof window.performance.now == 'function') {\n    d += window.performance.now(); // use high-precision timer if available\n  }\n\n  const randStr = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-xxxxxxxxx-xxxxxxxxxxxx-xxxx'.replace(\n    /[xy]/g,\n    (c) => {\n      const r = (d + Math.random() * 16) % 16 | 0;\n\n      d = Math.floor(d / 16);\n      const v = c === 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    },\n  );\n\n  return prefix + randStr + suffix;\n};\n","const indexOf = (arr, val) => {\n  for (\n    let i = 0, end = arr.length, asc = end >= 0;\n    asc ? i <= end : i >= end;\n    asc ? (i += 1) : (i -= 1)\n  ) {\n    if (typeof val === 'function') {\n      if (val(arr[i])) {\n        return i;\n      }\n    } else if (arr[i] === val) {\n      if (arr[i] === val) {\n        return i;\n      }\n    }\n  }\n  return -1;\n};\n\nexport const insertIntoArray = function (arr, value, position) {\n  let index;\n  if (position == null) {\n    position = {};\n  }\n  if (position.after) {\n    index = indexOf(arr, position.detect || position.after);\n    if (index >= 0) {\n      return arr.splice(index + 1, 0, value);\n    }\n    return typeof console !== 'undefined' && console !== null\n      ? // eslint-disable-next-line no-console\n        console.log(`${position.after} not found when trying to add ${value} to array`)\n      : undefined;\n  }\n  if (position.before) {\n    index = indexOf(arr, position.detect || position.before);\n    if (index >= 0) {\n      return arr.splice(index, 0, value);\n    }\n    return typeof console !== 'undefined' && console !== null\n      ? // eslint-disable-next-line no-console\n        console.log(`${position.before} not found when trying to add ${value} to array`)\n      : undefined;\n  }\n  if (position.index != null) {\n    return arr.splice(position.index, 0, value);\n  }\n  return arr.push(value);\n};\n\nexport const toArray = function (thing, splitOn) {\n  if (splitOn == null) {\n    splitOn = /\\s+/;\n  }\n  if (thing instanceof Array) {\n    return thing;\n  }\n  if (typeof thing === 'string') {\n    return thing.split(splitOn);\n  }\n  throw new Error(`Don't know how to convert ${thing} into an array.`);\n};\n","import { usablePlayers } from 'utilities/judy.js';\nimport * as Assets from 'utilities/assets.js';\nimport Color from 'utilities/color.js';\nimport { StopGo } from 'utilities/stopgo.js';\nimport { appHost, eV1Protocol } from 'utilities/hosts.js';\nimport { globalEventLoop } from 'utilities/event_loop.js';\nimport { sanePlayerColor } from 'utilities/sane-player-color.js';\nimport { clearTimeouts, doTimeout } from 'utilities/timeout-utils.js';\nimport { clone, keys as objKeys, merge } from 'utilities/obj.js';\nimport { SecondsWatchedTracker } from 'utilities/secondsWatchedTracker.js';\nimport { countMetric } from 'utilities/simpleMetrics.js';\nimport {\n  elemAnimate,\n  elemAppend,\n  elemFromObject,\n  elemHeight,\n  elemRemove,\n  elemStyle,\n  elemUnbindAllInside,\n  elemWidth,\n} from 'utilities/elem.js';\nimport { seqId } from 'utilities/seqid.js';\nimport { generateRelativeBlockCss } from 'utilities/generate.js';\nimport { getLanguage } from '../../shared/translations.js';\n\n// The width/height we set on an element is different from what the browser will\n// report back from getComputedStyle for that dimension. When checking to see if\n// the width/height are what we set them to, we need some wiggle room.\nconst ALLOWABLE_DIMENSION_DELTA = 0.5;\n\n(function (Wistia) {\n  const W = Wistia;\n\n  if (W.Player) {\n    return;\n  }\n\n  class Player {\n    // EXPLANATION OF COMMAND QUEUE USING @commandQueueOpen\n    //\n    // The command queue lets us chain asynchronous actions so they can execute\n    // sequentially under the hood. This is important especially for \"compound\"\n    // commands; for example, calling time(t) before the video played is\n    // actually a compound command that plays, changes volume, and seeks.\n    // Therefore, without queueing, if any of those commands (calling play,\n    // changing volume, seeking) occurs while seek-before-play is happening, it\n    // will cause conflicts.\n    //\n    // If you have an asynchronous block of code that you want to be part of the\n    // command queue, you can wrap it like this:\n    //\n    //     @commandQueueOpen.synchronize (done) =>\n    //       doSomethingAsynchronous -> done()\n    //\n    // If you have something that's _not_ asynchronous that you still want to\n    // be queued, you don't need to call synchronize; just do this:\n    //\n    //     @commandQueueOpen =>\n    //       doSomethingSynchronous()\n    //\n    // SIMPLE RULES TO LIVE BY\n    //\n    // 1. Within @commandQueueOpen, you should not be nesting _other_ calls to\n    // @commandQueueOpen. We call this making the function \"command queue atomic\".\n    //\n    // 2. Annotate functions that implement the command queue by writing\n    // \"COMMAND QUEUE ATOMIC - Refer to _video.coffee\" in a comment above them.\n\n    constructor(publicApi) {\n      this.publicApi = publicApi;\n      this.embedElement = publicApi.container;\n      this.uuid = seqId();\n\n      this._baseEventLoopDuration = 300;\n      this._eventLoopDuration = 300;\n\n      this.info('constructor');\n      this.transferFacadeProperties();\n\n      // This is for compatibility because we used to pass @publicApi directly\n      // to plugins and controls, and some of those may be reaching into\n      // video._impl.\n      this._impl = this;\n\n      // Transfer all StopGos since they're kinda used as methods.\n      objKeys(publicApi).forEach((propName) => {\n        const propVal = publicApi[propName];\n        if (propVal instanceof StopGo && !Object.hasOwn(this, propName)) {\n          this[propName] = propVal;\n        }\n      });\n\n      // As usual, @plugin is a kinda weird object/function hybrid. We redefined\n      // this in the replaceWith flow, so we can freeze the old value in this\n      // impl safely.\n      this.plugin = this.publicApi.plugin;\n\n      this.ready = new StopGo();\n      this.hasData = new StopGo();\n      this.embedded = new StopGo();\n      this.commandQueueOpen = new StopGo();\n      this.hasData(true);\n      this.commandQueueOpen(true);\n      this.playing = new StopGo();\n      this.notFullscreen = new StopGo();\n\n      this.resetStateVariables();\n\n      if (!this.publicApi.isLiveMedia()) {\n        this.setupPercentTracking();\n      }\n\n      this._recordFirstEmbedIfEligible();\n    }\n\n    addLoopBehavior() {\n      this.whenVideoElementInDom().then(() => {\n        this.engine?.getMediaElement().setAttribute('loop', '');\n      });\n    }\n\n    animate(props = {}, options = {}) {\n      this.info('animate', props, options);\n\n      const callback = options.callback;\n      options.callback = () => {\n        elemStyle(this.grid.root, { position: 'relative' });\n        callback?.();\n      };\n\n      elemStyle(this.grid.root, { position: 'absolute' });\n      elemAnimate(this.grid.root, props, options);\n\n      return this;\n    }\n\n    aspect() {\n      if (this._attrs.aspect) {\n        return this._attrs.aspect;\n      }\n      if (this.publicApi.isAudio()) {\n        return this.publicApi.width() / this.publicApi.height();\n      }\n      if (this._currentAsset) {\n        if (this._currentAsset.width == 'variable') {\n          return this.mp4Aspect() || this.originalAspect();\n        }\n        return this._currentAsset.width / this._currentAsset.height;\n      }\n      const asset = this.asset({ container: /mp4/ });\n\n      return asset ? asset.width / asset.height : 640 / 360;\n    }\n\n    // TODO: Replace this function with this:\n    //\n    // Assets.one(@_mediaData.assets, options)\n    //\n    // It's keeping this special function calling syntax so prevent breaking\n    // cached versions of Share/Socialbar.\n    asset(_options) {\n      if (typeof arguments[0] === 'string') {\n        // Support syntax like .asset('original') or .asset('iphone').  This is\n        // convenience instead of adding a million different functions at the\n        // PublicApi level. The implementation would define corresponding\n        // functions like originalAsset or iphoneAsset respectively.\n        const method = `${arguments[0]}Asset`;\n        const options = arguments[1];\n        return this[method](options);\n      }\n      const options = arguments[0];\n      return this.assets(options)[0] || null;\n    }\n\n    assets(options) {\n      return Assets.filter(this._mediaData.assets, options);\n    }\n\n    // Define in subclass\n    bigPlayButtonEnabled(enabled) {\n      this.publicApi._attrs.bigPlayButton = enabled;\n\n      return this;\n    }\n\n    canAutoPlay() {\n      return true;\n    }\n\n    cancelFullscreen() {\n      this.info('cancelFullscreen');\n      this.rebuild();\n    }\n\n    checkForReady() {\n      throw new Error('Define in subclass!');\n    }\n\n    cleanupRefs() {\n      this.cleanup?.();\n      objKeys(this).forEach((k) => {\n        const v = this[k];\n        if (v != null && v !== this) {\n          v.cleanup?.();\n        }\n      });\n    }\n\n    constrainToHeight() {\n      return this.videoWidth(this.widthForHeight(this.videoHeight()));\n    }\n\n    constrainToWidth() {\n      return this.videoHeight(this.heightForWidth(this.videoWidth()));\n    }\n\n    disableTextTracks() {\n      this.info('disableTextTracks');\n      if (!this._disableTextTracks) {\n        this._disableTextTracks = () => {\n          if (!this.elem()?.textTracks) {\n            return;\n          }\n          Array.prototype.slice.call(this.elem().textTracks).forEach((track) => {\n            track.mode = 'disabled';\n          });\n        };\n      }\n      this.rebind('play', this._disableTextTracks);\n    }\n\n    duration() {\n      return this._mediaData.duration || null;\n    }\n\n    elem() {\n      return null;\n    }\n\n    embed() {\n      throw new Error('Define in subclass!');\n    }\n\n    embedOptions() {\n      if (this._embedOptions) {\n        return this._embedOptions;\n      }\n      this._embedOptions = clone(this._opts);\n      return this._embedOptions;\n    }\n\n    eventKey() {\n      return this._tracker?.eventKey();\n    }\n\n    extraHeight() {\n      const th = Math.max(elemHeight(this.grid.above), elemHeight(this.grid.top));\n      const bh = Math.max(elemHeight(this.grid.below), elemHeight(this.grid.bottom));\n      return th + bh;\n    }\n\n    extraWidth() {\n      return elemWidth(this.grid.left) + elemWidth(this.grid.right);\n    }\n\n    // We use this.gridChildren() with this.fade() so that we can set the\n    // background of grid elements at will without fading them.\n    fade(opacity = 0, ...more) {\n      return elemAnimate(this.gridChildren(), { opacity }, ...more);\n    }\n\n    fadeIn() {\n      const more = this._shortAnimArgs(arguments);\n      const callback = more.callback;\n      more.callback = () => {\n        elemStyle(this.gridChildren(), { opacity: '' });\n        callback?.();\n      };\n      elemStyle(this.gridChildren(), { opacity: 0 });\n      setTimeout(() => this.fade(1, more), 1);\n    }\n\n    fadeOut() {\n      const more = this._shortAnimArgs(arguments);\n      elemStyle(this.gridChildren(), { opacity: 1 });\n      setTimeout(() => this.fade(0, more), 1);\n    }\n\n    fit() {\n      this.info('fit');\n      if (!this._opts.dontFit) {\n        this.grid.root.style.height = `${elemHeight(this.chrome)}px`;\n        this.grid.root.style.width = `${elemWidth(this.chrome)}px`;\n      }\n      W.grid.fitVertical(this);\n      return W.grid.fitHorizontal(this);\n    }\n\n    focus() {\n      this.chrome?.focus();\n    }\n\n    freezeLastFrame() {}\n\n    fullscreenControlEnabled(enabled) {\n      this.publicApi._attrs.fullscreenControl = enabled;\n\n      return this;\n    }\n\n    // DEPRECATED\n    getVisitorKey() {\n      return this.visitorKey();\n    }\n\n    // DEPRECATED\n    getEventKey() {\n      return this.eventKey();\n    }\n\n    // Some players (external, NotPlayablePlayer) won't ever have a\n    // video element. This implementation covers those.\n    getMediaElement() {}\n\n    getMediaType() {\n      return this._mediaData.mediaType || null;\n    }\n\n    /**\n     * Returns the video/audio element readyState property without any modification.\n     * @returns {number}\n     */\n    getReadyState() {\n      return this.engine?.getMediaElement()?.readyState;\n    }\n\n    /**\n     * Simply returns the video/audio element buffered property without any modification.\n     * @returns {TimeRanges}\n     */\n    getStandardBuffered() {\n      return this.engine?.getMediaElement()?.buffered;\n    }\n\n    gridChildren() {\n      let grid = this.grid;\n\n      // IE11 doesn't support forEach operations on NodeLists\n      if (window.NodeList && !NodeList.prototype.forEach) {\n        grid = Array.prototype.slice.call(this.grid);\n      }\n\n      const result = [];\n      objKeys(grid).forEach((sector) => {\n        const node = this.grid[sector];\n        node.childNodes.forEach((child) => {\n          if (!W.isGridElem(this.grid, child)) {\n            result.push(child);\n          }\n        });\n      });\n      return result;\n    }\n\n    handleError(e) {\n      W.Metrics.videoCount(this, 'player/playback-error');\n      throw e; // Still throw the original error\n    }\n\n    hashedId() {\n      return this._hashedId;\n    }\n\n    hdAsset() {\n      throw new Error('Implement in subclass!');\n    }\n\n    hlsAsset(options) {\n      return Assets.m3u8(this._mediaData.assets, options);\n    }\n\n    hlsAssetInRange(options = {}) {\n      return Assets.m3u8(this._mediaData.assets, merge(this.qualityOptions(), options));\n    }\n\n    // LEGACY\n    height(h, options = {}) {\n      if (h != null) {\n        this.info('height', h, options);\n\n        h = parseFloat(h);\n        const lastH = this.height();\n        this.grid.wrapper.style.height = this.chrome.style.height = `${h}px`;\n        if (!options.dontChangeContainer) {\n          this._embedContainer.style.height = `${h}px`;\n        }\n        this.grid.center.style.height = '100%';\n        if (this._opts.dontFit) {\n          this.grid.main.style.height = `${\n            h - elemHeight(this.grid.above) - elemHeight(this.grid.below)\n          }px`;\n          this.grid.main.style.marginTop = `${elemHeight(this.grid.top)}px`;\n        } else {\n          W.grid.fitHorizontal(this);\n          W.grid.fitVertical(this);\n        }\n        if (Math.abs(h - lastH) > ALLOWABLE_DIMENSION_DELTA || options.trigger) {\n          this.trigger('heightchange', h, lastH);\n          this.embedElement.dispatchEvent(\n            new CustomEvent('heightchange', {\n              detail: {\n                height: h,\n                prevHeight: lastH,\n              },\n            }),\n          );\n        }\n        if (options.constrain) {\n          this.constrainToHeight();\n        }\n        return this;\n      }\n      return (\n        elemHeight(this.grid.center) +\n        Math.max(elemHeight(this.grid.above), elemHeight(this.grid.top)) +\n        Math.max(elemHeight(this.grid.below), elemHeight(this.grid.bottom))\n      );\n    }\n\n    heightForWidth(width) {\n      return width / this.aspect();\n    }\n\n    implContainer() {\n      return this._opts.subContainer ? this._embedContainer : this.grid.center;\n    }\n\n    // Define this so the code in the Public API is simpler.\n    inFullscreen() {\n      return false;\n    }\n\n    init() {\n      this.setupPipedreamTracking();\n      return this;\n    }\n\n    inSilentPlaybackMode() {\n      return false;\n    }\n\n    iphoneAsset(options = {}) {\n      if (this._iphoneAsset) {\n        return this._iphoneAsset;\n      }\n      this._iphoneAsset = Assets.iphone(this._mediaData.assets, options);\n      return this._iphoneAsset;\n    }\n\n    iphoneAssetInRange(options = {}) {\n      return Assets.iphone(this._mediaData.assets, merge(this.qualityOptions(), options));\n    }\n\n    isMuted() {\n      return Boolean(this._opts.muted);\n    }\n\n    isRemoved() {\n      return this.grid === null;\n    }\n\n    lastPlayInfo() {\n      return {};\n    }\n\n    mp4Aspect() {\n      const asset =\n        this.mp4Asset({ width: 640 }) || this.mp4Asset({ width: 960 }) || this.mp4Asset();\n      return asset ? asset.width / asset.height : null;\n    }\n\n    mdAsset() {\n      throw new Error('Implement in subclass!');\n    }\n\n    mp4Asset(options) {\n      return Assets.mp4(this._mediaData.assets, options);\n    }\n\n    mp4AssetInRange(options = {}) {\n      return Assets.mp4(this._mediaData.assets, merge(this.qualityOptions(), options));\n    }\n\n    mute() {\n      this._muted = true;\n      this.trigger('volumechange', this.volume());\n      this.embedElement.dispatchEvent(\n        new CustomEvent('volumechange', {\n          detail: {\n            volume: this.volume(),\n            muted: true,\n          },\n        }),\n      );\n    }\n\n    originalAspect() {\n      const originalAsset = this.originalAsset();\n      if (originalAsset) {\n        return originalAsset.width / originalAsset.height;\n      }\n      const bestAsset = this.bestAsset();\n      return bestAsset().width / bestAsset().height;\n    }\n\n    originalAsset() {\n      if (this._original) {\n        return this._original;\n      }\n      this._original = Assets.original(this._mediaData.assets);\n      return this._original;\n    }\n\n    name(newName) {\n      if (newName != null) {\n        this._name = newName;\n        this.trigger('namechange', newName);\n      }\n\n      // allow for empty string names\n      if (this._name != null) {\n        return this._name;\n      }\n      return this._mediaData.name || '';\n    }\n\n    pageUrl() {\n      return this.publicApi._attrs.pageUrl;\n    }\n\n    pause() {\n      this.info('pause');\n      this.ready(() => this.pause());\n      return this;\n    }\n\n    percentWatched() {\n      if (this._secondsWatchedTracker) {\n        return this._secondsWatchedTracker.secondsWatched() / Math.ceil(this.duration());\n      }\n\n      return 0;\n    }\n\n    placeEmbed(embedCode) {\n      const container = this.implContainer();\n\n      this.info('placeEmbed', container, embedCode);\n\n      this.wrapperElem = elemFromObject({\n        id: seqId('wistia_video_wrapper_'),\n        style: generateRelativeBlockCss,\n        class: 'wistia_video_wrapper',\n      });\n      elemStyle(this.wrapperElem, { overflow: 'hidden' });\n      elemAppend(container, this.wrapperElem);\n\n      if (typeof embedCode === 'string') {\n        this.wrapperElem.innerHTML += embedCode;\n      } else {\n        elemAppend(this.wrapperElem, embedCode);\n      }\n    }\n\n    play() {\n      this.info('play');\n      this.ready(() => this.play());\n      return this;\n    }\n\n    playableAsset(options) {\n      return Assets.playable(this._mediaData.assets, options);\n    }\n\n    playableAssetInRange(options = {}) {\n      return Assets.playable(this._mediaData.assets, merge(this.qualityOptions(), options));\n    }\n\n    playbackRate(rate) {\n      return rate != null ? this : 1;\n    }\n\n    playbarControlEnabled(enabled) {\n      this.publicApi._attrs.playBarControl = enabled;\n\n      return this;\n    }\n\n    playerColor(color) {\n      const { _attrs, embedElement } = this;\n      // If the embed element has a playerColor property, assume that's\n      // our source of truth and get/set it instead of the one in attrs.\n      if (embedElement.playerColor !== undefined) {\n        if (color !== undefined) {\n          embedElement.playerColor = color;\n          return this;\n        }\n        return embedElement.playerColor;\n      }\n\n      if (color != null) {\n        this.info('playerColor', color);\n        const lastPlayerColor = _attrs.playerColor;\n        color = sanePlayerColor(color);\n        _attrs.playerColor = new Color(color).toHex();\n        if (lastPlayerColor !== _attrs.playerColor) {\n          embedElement.dispatchEvent(\n            new CustomEvent('playercolorchange', {\n              detail: { color: _attrs.playerColor, prevColor: lastPlayerColor },\n            }),\n          );\n        }\n        return this;\n      }\n      return _attrs.playerColor;\n    }\n\n    playerLanguage(l) {\n      if (l != null) {\n        this.embedded(() => {\n          if (!getLanguage(l)) {\n            throw new Error(`Language ${l} isn't defined.`);\n          }\n          if (l !== this._attrs.playerLanguage) {\n            this._attrs.playerLanguage = l;\n            this.trigger('playerlanguagechange', getLanguage(l));\n          }\n        });\n      } else {\n        return getLanguage(this._attrs.playerLanguage) || getLanguage('en-US');\n      }\n    }\n\n    playPauseNotifierEnabled(enabled) {\n      this.publicApi._attrs.playPauseNotifier = enabled;\n\n      return this;\n    }\n\n    preloadValue() {\n      return this.engine?.getPreload();\n    }\n\n    // can be used after engine initialization to live\n    // adjust the qualityMax attribute of the engine\n    qualityMax(val) {\n      if (this.engine?.qualityMax) {\n        this.engine.qualityMax(val);\n      }\n    }\n\n    // can be used after engine initialization to live\n    // adjust the qualityMin attribute of the engine\n    qualityMin(val) {\n      if (this.engine?.qualityMin) {\n        this.engine.qualityMin(val);\n      }\n    }\n\n    qualityOptions() {\n      const { qualityMin, qualityMax } = this._attrs;\n      return { qualityMin, qualityMax };\n    }\n\n    rebuild(_options = {}) {\n      this.info('rebuild');\n      this.embedded(() => {\n        this.ready(false);\n        this._oldVideoElem = this.elem();\n        this.stopStreaming();\n        elemRemove(this.wrapperElem);\n        this.wipeOutstandingAsyncFunctions();\n        this.embed();\n      });\n      return this;\n    }\n\n    remove(options = {}) {\n      this.info('remove');\n      if (options.trigger !== false) {\n        this.trigger('beforeremove');\n      }\n      this.hasData(false);\n      this.ready(false);\n      this.embedded(false);\n      this.engine?.destroy();\n      this.stopStreaming();\n      if (options.trigger !== false) {\n        this.trigger('down');\n        this.trigger('afterremove');\n      }\n      this.wipeOutstandingAsyncFunctions();\n      this._bindings = {};\n      this.cleanupRefs();\n      if (this.grid?.root) {\n        elemUnbindAllInside(this.grid.root);\n        elemRemove(this.grid.root);\n      }\n      this.grid = null;\n      if (this.elem()) {\n        this.elem().removeEventListener('error', this.handleError);\n      }\n    }\n\n    removeLoopBehavior() {\n      this.whenVideoElementInDom().then(() => {\n        this.engine?.getMediaElement().removeAttribute('loop');\n      });\n    }\n\n    // defined in base impl class\n    renderUI() {}\n\n    requestFullscreen() {}\n\n    // When re-embed the video, we may have set some variables that need\n    // resetting to make seek-before-play type logic work.\n    resetStateVariables() {\n      this.info('resetStateVariables');\n      this._lastTimePosition = -1;\n      this._lastState = 'beforeplay';\n      this._streamSet = false;\n      this._issuedPlay = false;\n      this._issuedPause = false;\n      this._beforePlay = true;\n      this._hasPlayed = false;\n      this._waiting = 0;\n      this._ended = false;\n      this.playing(false);\n    }\n\n    sdAsset() {\n      throw new Error('Implement in subclass!');\n    }\n\n    secondsWatched() {\n      if (this._secondsWatchedTracker) {\n        return this._secondsWatchedTracker.secondsWatched();\n      }\n\n      return 0;\n    }\n\n    secondsWatchedVector() {\n      if (this._secondsWatchedTracker) {\n        return this._secondsWatchedTracker.secondsWatchedVector();\n      }\n\n      return [];\n    }\n\n    setBigPlayButtonBorderRadius(value) {\n      this._attrs.bigPlayButtonBorderRadius = value;\n\n      const { embedElement } = this;\n      embedElement.dispatchEvent(new Event('bigplaybuttonborderradiuschange'));\n      this.trigger('bigplaybuttonborderradiuschange');\n    }\n\n    setControlBarBorderRadius(value) {\n      this._attrs.controlBarBorderRadius = value;\n\n      if (this._attrs.playerBorderRadius && value !== 0) {\n        this.setControlBarDistance(this._attrs.playerBorderRadius / 4);\n      } else {\n        this.setControlBarDistance(value * 0.333);\n      }\n\n      const { embedElement } = this;\n      embedElement.dispatchEvent(new Event('controlbarborderradiuschange'));\n      this.trigger('controlbarborderradiuschange');\n    }\n\n    setControlBarDistance(val) {\n      this._attrs.controlBarDistance = val;\n\n      const { embedElement } = this;\n      embedElement.dispatchEvent(new Event('controlbardistancechange'));\n      this.trigger('controlbardistancechange');\n    }\n\n    setFloatingControlBar(bool) {\n      this._attrs.floatingControlBar = bool;\n    }\n\n    setPlayerBorderRadius(value) {\n      this._attrs.playerBorderRadius = value;\n\n      const { embedElement } = this;\n      embedElement.dispatchEvent(new Event('playerborderradiuschange'));\n      this.trigger('playerborderradiuschange');\n    }\n\n    setPlayerColor(color) {\n      this.playerColor(color);\n      return this;\n    }\n\n    setRoundedPlayer(value) {\n      this.setFloatingControlBar(Boolean(value));\n\n      this.setPlayerBorderRadius(value);\n      this.setControlBarDistance(value * 0.25);\n      this.setBigPlayButtonBorderRadius(value * 0.75);\n      this.setControlBarBorderRadius(value * 0.75);\n\n      this.renderUI();\n    }\n\n    setResumable(val) {\n      this._attrs.resumable = val;\n      const { embedElement } = this;\n      embedElement.dispatchEvent(new Event('resumablechange'));\n    }\n\n    setupGrid(options) {\n      if (!this.grid) {\n        this.grid = W.createGrid(this, options);\n        elemAppend(this.chrome, this.grid.root);\n      }\n      return this.grid;\n    }\n\n    setupPercentTracking() {\n      if (this._trackPercent) {\n        return;\n      }\n\n      this._secondsWatchedTracker = new SecondsWatchedTracker(this, this.duration(), {\n        maxWatchingPlaybackRate: this._opts.maxWatchingPlaybackRate,\n      });\n\n      // If this video is already playing, assume they've watched up to now.\n      if (this.state() === 'playing') {\n        const currentSecond = Math.ceil(this.time());\n        for (let i = 0; i < currentSecond; i++) {\n          this._secondsWatchedTracker.trackSecond(i, { force: true });\n        }\n      }\n\n      this._trackPercent = (s) => {\n        const lastPercentWatched = this.percentWatched();\n        this._secondsWatchedTracker.trackSecond(s);\n        if (this.percentWatched() !== lastPercentWatched) {\n          const { embedElement } = this;\n          embedElement.dispatchEvent(\n            new CustomEvent('percentwatchedchange', {\n              detail: { percentWatched: this.percentWatched(), lastPercentWatched },\n            }),\n          );\n          this.trigger('percentwatchedchanged', this.percentWatched(), lastPercentWatched);\n          this._percentWatchedThreshold(this.percentWatched());\n        }\n      };\n      this.rebind('secondchange', this._trackPercent);\n    }\n\n    setupPipedreamTracking() {\n      // Anything that involves asset requires that this._currentAsset is set. To\n      // ensure that, we wait until the video is actually embedded to do any\n      // reporting on it.\n      this.whenVideoElementInDom().then((videoElement) => {\n        doTimeout(\n          `${this.uuid}.track-initembed`,\n          () => {\n            W.Metrics.videoCount(this, 'player/initembed');\n            W.Metrics.assetBuckets(this).forEach((bucket) => {\n              W.Metrics.videoCount(this, `player/initembed.${bucket}`);\n            });\n\n            const availablePlayers = usablePlayers(\n              this.publicApi.judyCtx(),\n              this.publicApi._mediaData,\n            );\n            W.Metrics.videoCount(this, 'player/available-players', 1, {\n              available_players: availablePlayers,\n            });\n          },\n          100,\n        );\n        videoElement.addEventListener('error', this.handleError);\n      });\n\n      this.bind('play', () => {\n        W.Metrics.videoCount(this, 'player/play');\n        W.Metrics.assetBuckets(this).forEach((bucket) => {\n          W.Metrics.videoCount(this, `player/play.${bucket}`);\n        });\n        return this.unbind;\n      });\n\n      W.Metrics.countEventOnce(this, 'enter-fullscreen');\n      W.Metrics.countEventOnce(this, 'end');\n      W.Metrics.countShowLoadingOnce(this);\n      W.Metrics.countShowLoadingAll(this);\n      W.Metrics.countShowLoadingLongTimeOnce(this);\n      W.Metrics.countShowLoadingLongTimeAll(this);\n\n      this.bind('secondchange', () => {\n        if (this.secondsWatched() >= 10) {\n          W.Metrics.videoCount(this, 'player/played-10-seconds');\n          return this.unbind;\n        }\n      });\n\n      this.bind('secondchange', () => {\n        if (this.secondsWatched() >= 30) {\n          W.Metrics.videoCount(this, 'player/played-30-seconds');\n          return this.unbind;\n        }\n      });\n    }\n\n    settingsControlEnabled(enabled) {\n      this.publicApi._attrs.settingsControl = enabled;\n\n      return this;\n    }\n\n    slide(left, top, ...more) {\n      return this.animate(\n        {\n          transform: `translate(${left}px,${top}px)`,\n        },\n        ...more,\n      );\n    }\n\n    slideInLeft() {\n      const more = this._shortAnimArgs(arguments);\n      elemStyle(this.grid.root, {\n        transform: `translate(${this.videoWidth()}px, 0px)`,\n      });\n      setTimeout(() => this.slide(0, 0, more), 1);\n      return this;\n    }\n\n    slideInRight() {\n      const more = this._shortAnimArgs(arguments);\n      elemStyle(this.grid.root, {\n        transform: `translate(${-this.videoWidth()}px, 0px)`,\n      });\n      setTimeout(() => this.slide(0, 0, more), 1);\n      return this;\n    }\n\n    slideOutLeft() {\n      const more = this._shortAnimArgs(arguments);\n      elemStyle(this.grid.root, { transform: 'translate(0px, 0px)' });\n      setTimeout(() => this.slide(-this.videoWidth(), 0, more), 1);\n      return this;\n    }\n\n    slideOutRight() {\n      const more = this._shortAnimArgs(arguments);\n      elemStyle(this.grid.root, { transform: 'translate(0px, 0px)' });\n      setTimeout(() => this.slide(this.videoWidth(), 0, more), 1);\n      return this;\n    }\n\n    playPauseControlEnabled(enabled) {\n      this.publicApi._attrs.playPauseControl = enabled;\n\n      return this;\n    }\n\n    suppressPlay(forReal) {\n      if (forReal != null) {\n        this.info('suppressPlay', forReal);\n        this._suppressPlay = Boolean(forReal);\n        return this._suppressPlay;\n      }\n      return this._suppressPlay;\n    }\n\n    state() {\n      return 'beforeplay';\n    }\n\n    stillAsset() {\n      return Assets.still(this._mediaData.assets);\n    }\n\n    stillUrl(options) {\n      options = merge(\n        {\n          videoWidth: this.videoWidth(),\n          videoHeight: this.videoHeight(),\n        },\n        this._opts,\n        { stillUrl: this._attrs.poster },\n        options,\n      );\n      if (!options.playerColor) {\n        options.playerColor = this._mediaData?.embedOptions?.playerColor;\n      }\n      return Assets.stillUrl(this._mediaData.assets, options);\n    }\n\n    stopStreaming() {\n      // Implement in sub-classes\n    }\n\n    thumbnailAssets() {\n      return Assets.thumbnailAssets(\n        this._mediaData.assets,\n        merge(\n          {},\n          this._opts,\n          { stillUrl: this._attrs.poster },\n          {\n            playButton: false,\n            videoHeight: this.videoHeight(),\n            videoWidth: this.videoWidth(),\n          },\n        ),\n      );\n    }\n\n    time(t) {\n      if (t != null) {\n        this.info('time', t);\n        this.ready(() => this.time(t));\n        return this;\n      }\n      return 0;\n    }\n\n    // Every time we make a new impl, these properties are transferred to it\n    // from the facade. These are what persist across rebuild, replace, etc.\n    //\n    // There could be a lot more in here, but the convention is to place most\n    // relevant properties in the @_attrs hash.\n    transferFacadeProperties() {\n      const props = `\n      _attrs\n      _embedContainer\n      _givenOptions\n      _hashedId\n      _hasImpl\n      _mediaData\n      _opts\n      _originalMediaData\n      _tracker\n      chrome\n      container\n      controls\n      data\n      down\n      fullscreenContainer\n      options\n      params\n      plugin\n      plugins\n      up\n      `.split(/[\\n\\s]+/);\n\n      props.forEach((prop) => {\n        this[prop] = this.publicApi[prop];\n      });\n    }\n\n    trim(t) {\n      if (t != null) {\n        this._trimSettings = t;\n        // do nothing by default; engines must support this\n      } else {\n        return this._trimSettings || { start: 0, end: -1 };\n      }\n    }\n\n    unmute() {\n      this._muted = false;\n      this._isPlayingSilently = false;\n      this.trigger('volumechange', this.volume());\n      this.embedElement.dispatchEvent(\n        new CustomEvent('volumechange', {\n          detail: {\n            volume: this.volume(),\n            muted: false,\n          },\n        }),\n      );\n    }\n\n    /**\n     * @see https://wistia.com/support/developers/player-api#videoheight\n     * Returns the width of the video itself in pixels\n     * @param {number} h height of the video\n     * @param {Object} options\n     * @param {Boolean} options.constrain if `true`, then the width of the video will also be updated to maintain the correct aspect ratio..\n     * @returns {void}\n     */\n    videoHeight(h, options = { constrain: false, trigger: false }) {\n      if (h != null) {\n        this.info('videoHeight', h, options);\n        h = parseFloat(h);\n        const lastH = this.height();\n\n        // Set the video's height, then fit. This will resize the video and\n        // update any playlist controls that are dependent on the height of\n        // main or center.\n        this.grid.main.style.height = `${h}px`;\n        this.grid.center.style.height = '100%';\n\n        // The height of main may be changed by fitting. Make sure it stays\n        // true.\n        this.grid.main.style.height = `${h}px`;\n\n        // Now that we have the correct control heights, figure out how much\n        // extra height they add on. The total height of the container/wrapper\n        // should be videoHeight+extraHeight\n        const th = Math.max(elemHeight(this.grid.above), elemHeight(this.grid.top));\n        const bh = Math.max(elemHeight(this.grid.below), elemHeight(this.grid.bottom));\n        const extraHeight = th + bh;\n        this.grid.wrapper.style.height = this.chrome.style.height = `${h + extraHeight}px`;\n        this._embedContainer.style.height = `${h + extraHeight}px`;\n\n        // Now run fit (for plugins)\n        W.grid.fitHorizontal(this);\n        W.grid.fitVertical(this);\n        if (Math.abs(h - lastH) > ALLOWABLE_DIMENSION_DELTA) {\n          this.trigger('heightchange', h, lastH);\n          this.embedElement.dispatchEvent(\n            new CustomEvent('heightchange', {\n              detail: {\n                height: h,\n                prevHeight: lastH,\n              },\n            }),\n          );\n        }\n        if (options.constrain) {\n          this.constrainToHeight();\n        }\n        return this;\n      }\n      return elemHeight(this.grid.center);\n    }\n\n    /**\n     * @see https://wistia.com/support/developers/player-api#videowidth\n     * Returns the width of the video itself in pixels\n     * @param {number} w width of the video\n     * @param {Object} options\n     * @param {Boolean} options.constrain , if `true`, the height of the video will also be updated to maintain the correct aspect ratio.\n     * @returns {void}\n     */\n    videoWidth(w, options = { constrain: false, trigger: false }) {\n      if (w != null) {\n        this.info('videoWidth', w, options);\n\n        w = parseFloat(w);\n        const lastW = this.width();\n        // Set the video's width, then fit. This will resize the video and\n        // update any playlist controls that are dependent on the width of main\n        // or center.\n        this.grid.center.style.width = '100%';\n\n        // The width of main may be changed by fitting. Make sure it stays\n        // true.\n        this.grid.main.style.width = `${w}px`;\n\n        // Now that we have the correct control widths, figure out how much\n        // extra width they add on. The total width of the container/wrapper\n        // should be videoWidth+extraWidth.\n        const extraWidth = elemWidth(this.grid.left) + elemWidth(this.grid.right);\n        this.grid.wrapper.style.width = this.chrome.style.width = `${w + extraWidth}px`;\n        this._embedContainer.style.width = `${w + extraWidth}px`;\n\n        // Now run fit (for plugins)\n        W.grid.fitHorizontal(this);\n        W.grid.fitVertical(this);\n\n        if (Math.abs(w - lastW) > ALLOWABLE_DIMENSION_DELTA) {\n          this.trigger('widthchange', w, lastW);\n          this.embedElement.dispatchEvent(\n            new CustomEvent('widthchange', {\n              detail: {\n                width: w,\n                prevWidth: lastW,\n              },\n            }),\n          );\n        }\n        if (options.constrain) {\n          this.constrainToWidth();\n        }\n        return this;\n      }\n      return elemWidth(this.grid.center);\n    }\n\n    getVideoQuality() {\n      return 'auto';\n    }\n\n    setVideoQuality() {\n      return this;\n    }\n\n    visitorKey() {\n      return this._tracker?.visitorKey();\n    }\n\n    volume(level) {\n      if (level != null) {\n        this.info('volume', level);\n        this.volumeAttr(level);\n        return this.ready(() => this.volume(level));\n      }\n      return 0;\n    }\n\n    volumeAttr(level) {\n      this._attrs.volume = level;\n    }\n\n    volumeControlEnabled(enabled) {\n      this.publicApi._attrs.volumeControl = enabled;\n\n      return this;\n    }\n\n    webmAsset(options) {\n      return Assets.webm(this._mediaData.assets, options);\n    }\n\n    webmAssetInRange(options = {}) {\n      return Assets.webm(this._mediaData.assets, merge(this.qualityOptions(), options));\n    }\n\n    whenVideoElementInDom() {\n      return new Promise((_resolve) => {\n        // never resolve\n      });\n    }\n\n    width(w, options = {}) {\n      if (w != null) {\n        this.info('width', w, options);\n\n        w = parseFloat(w);\n        const lastW = this.width();\n        this.grid.wrapper.style.width = this.chrome.style.width = `${w}px`;\n        if (!options.dontChangeContainer) {\n          this._embedContainer.style.width = `${w}px`;\n        }\n        this.grid.center.style.width = '100%';\n        if (this._opts.dontFit) {\n          this.grid.main.style.width = `${\n            w - elemWidth(this.grid.left) - elemWidth(this.grid.right)\n          }px`;\n          this.grid.main.style.marginLeft = `${elemWidth(this.grid.left)}px`;\n        } else {\n          W.grid.fitHorizontal(this);\n          W.grid.fitVertical(this);\n        }\n        if (Math.abs(w - lastW) > ALLOWABLE_DIMENSION_DELTA || options.trigger) {\n          this.trigger('widthchange', w, lastW);\n          this.embedElement.dispatchEvent(\n            new CustomEvent('widthchange', {\n              detail: {\n                width: w,\n                prevWidth: lastW,\n              },\n            }),\n          );\n        }\n        if (options.constrain) {\n          this.constrainToWidth();\n        }\n        this._width = w;\n        return this;\n      }\n      return elemWidth(this.grid.left) + elemWidth(this.grid.center) + elemWidth(this.grid.right);\n    }\n\n    widthForHeight(height) {\n      return height * this.aspect();\n    }\n\n    // Some functions might be queued using various methods. When we\n    // replace, rebuild, or remove a video, we want to cancel them\n    // immediately.\n    wipeOutstandingAsyncFunctions() {\n      this.info('wipeOutstandingAsyncFunctions');\n      globalEventLoop.remove(this.uuid);\n      clearTimeouts(this.uuid);\n      if (this._remoteMediaKey) {\n        clearTimeouts(this._remoteMediaKey);\n      }\n    }\n\n    _isExternallyEmbedded() {\n      return !this._isOnWistia();\n    }\n\n    _isLoggedIn() {\n      return document.querySelector('body').classList.contains('logged_in');\n    }\n\n    // First embed and First Share Tracking ================================= #\n    _isOnWistia() {\n      const url = this._opts._inIframe ? document.referrer : window.location.href;\n      return /wistia\\.(io|st|com)/.test(url);\n    }\n\n    _isShared() {\n      return this._isOnWistia() && !this._isLoggedIn();\n    }\n\n    _percentWatchedThreshold(percentWatched) {\n      if (!this._thresholds) {\n        this._thresholds = [0.25, 0.5, 0.75, 1];\n      }\n\n      const untriggeredThresholds = [];\n      const percentWatchedRounded = Math.round(percentWatched * 100) / 100;\n      this._thresholds.forEach((threshold) => {\n        if (percentWatchedRounded >= threshold) {\n          this.trigger('percentWatchedThreshold', threshold);\n        } else {\n          untriggeredThresholds.push(threshold);\n        }\n      });\n      this._thresholds = untriggeredThresholds;\n    }\n\n    _recordFirstEmbedIfEligible() {\n      const { accountKey, firstEmbedForAccount, firstShareForAccount, hashedId } = this._mediaData;\n      const firstExternalEmbed = firstEmbedForAccount && this._isExternallyEmbedded();\n      const firstShare = firstShareForAccount && this._isShared();\n\n      if (!(firstExternalEmbed || firstShare)) {\n        return;\n      }\n\n      const url = `${eV1Protocol()}//${appHost()}/account/activities`;\n      const payload = { account_key: accountKey, media_hashed_id: hashedId };\n\n      if (firstExternalEmbed) {\n        payload.first_embed = this._isExternallyEmbedded();\n      } else if (firstShare) {\n        payload.first_share = this._isShared();\n      }\n\n      countMetric('wistia/record-first-embed-or-share', 1, {\n        first_embed: payload.first_embed,\n        first_share: payload.first_share,\n        account_key: accountKey,\n        media_hashed_id: hashedId,\n      });\n\n      fetch(url, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload),\n      });\n    }\n\n    _refreshDataFromServer(callback, errorCallback) {\n      const embedHost = this.embedOptions().embedHost || W.remote.embedHost();\n      return fetch(`//${embedHost}/embed/medias/${this.hashedId()}.json`)\n        .then((resp) => resp.json())\n        .then((resp) => {\n          this.publicApi._originalMediaData = resp.media;\n          this._mediaData = this.publicApi._transformAndUpdateMediaData();\n          if (this._newStill) {\n            this._replaceStillAsset(this._newStill);\n          }\n          this.publicApi._mediaData = this._mediaData;\n          W.cacheMedia(this.hashedId(), this._mediaData);\n          callback?.();\n          this.trigger('refreshed-from-server');\n\n          return this._mediaData;\n        })\n        .catch(errorCallback);\n    }\n\n    _replaceStillAsset(asset) {\n      const assetsWithoutStill = this.assets().filter((a) => {\n        return a.type !== 'still_image';\n      });\n      this._mediaData.assets = assetsWithoutStill;\n      this._mediaData.assets.push(asset);\n    }\n\n    _shortAnimArgs(args) {\n      if (typeof args[0] === 'function') {\n        return { callback: args[0] };\n      }\n      return merge({}, args[0], { callback: args[1] });\n    }\n  }\n\n  Player.FAILED = -1;\n  Player.PROCESSING = 1;\n  Player.QUEUED = 0;\n  Player.READY = 2;\n  Player.asset = Assets.one;\n  Player.assets = Assets.filter;\n  Player.assetsWithinQualityRange = Assets.withinQualityRange;\n  Player.bakeryHosts = () => Assets.BAKERY_HOSTS;\n  Player.isBakeryUrl = Assets.isBakeryUrl;\n  Player.stillAsset = Assets.still;\n  Player.stillUrl = Assets.stillUrl;\n\n  W.mixin(Player.prototype, W.bindable);\n\n  // Allow @warn, @error, @info, etc. in Video subclasses.\n  W.mixin(Player.prototype, W.logHelpers);\n  Player.prototype._logPrefix = function () {\n    return [\n      this.constructor.name,\n      this.hashedId() || 'no hashedId',\n      this._embedContainer?.id,\n      this.uuid,\n    ];\n  };\n\n  // Monkey-patch trigger to also trigger on the public API. This is more\n  // efficient than marshalling.\n  const oldTrigger = Player.prototype.trigger;\n  Player.prototype.trigger = function (...args) {\n    oldTrigger.apply(this, args);\n    return this.publicApi._triggerNoImpl(...args);\n  };\n\n  // Define all methods that don't exist from the W.PublicApi prototype as\n  // proxy methods on the Player prototype.\n  Object.getOwnPropertyNames(W.PublicApi.prototype).forEach((propName) => {\n    const propVal = W.PublicApi.prototype[propName];\n    if (typeof propVal === 'function' && !Object.hasOwn(Player.prototype, propName)) {\n      (function (propName, propVal) {\n        Player.prototype[propName] = function (...args) {\n          return this.publicApi[propName](...args);\n        };\n        Player.prototype[propName]._originalMethod = propVal;\n      })(propName, propVal);\n    }\n  });\n\n  W.Player = W.Video = Player;\n})(window.Wistia);\n","export class SecondsWatchedTracker {\n  constructor(video, duration, options = {}) {\n    this.video = video;\n    this.duration = duration;\n    this.maxWatchingPlaybackRate = options.maxWatchingPlaybackRate || 8;\n\n    this.video.bind('timechange', this.onTimeChange);\n    this.video.bind('playbardragend', this.onPlaybarDragEnd);\n    this.video.bind('play', this.onPlay);\n\n    this.reset();\n  }\n\n  onTimeChange = () => {\n    this.lastTimeChangeAt = this.timeChangeAt;\n    this.timeChangeAt = Date.now();\n  };\n\n  onPlaybarDragEnd = () => {\n    this.playbarDragEndAt = Date.now();\n  };\n\n  onPlay = () => {\n    this.playedAt = Date.now();\n  };\n\n  trackSecond(second, options = { force: false }) {\n    const doTrack = () => {\n      if (!options.force && this.shouldIgnoreTrack()) {\n        return;\n      }\n\n      if (second >= this._secondsWatched.length) {\n        return;\n      }\n\n      this._secondsWatched[second] += 1;\n      if (this._secondsWatched[second] === 1) {\n        this._totalWatched += 1;\n      } else {\n        this._totalRewatched += 1;\n      }\n    };\n    if (this.isScrubbing()) {\n      clearTimeout(this.delayedScrubTimeout);\n      this.delayedScrubTimeout = setTimeout(doTrack, this.eventLoopDuration());\n    } else {\n      doTrack();\n    }\n  }\n\n  shouldIgnoreTrack() {\n    // can't watch a video if it's not playing.\n    if (this.video.state() !== 'playing') {\n      return true;\n    }\n\n    // If the playbackRate is well above the range any reasonable player\n    // supports, don't count that as watched. It's basically \"fast forwarding\"\n    // at this point.\n    //\n    // We allow the customer to control this because some customers may want\n    // lower thresholds, but setting a low threshold by default could be\n    // surprising to existing customers.\n    if (this.video.playbackRate() >= this.maxWatchingPlaybackRate) {\n      return true;\n    }\n\n    // When the playbar is released, we want to count the second that they\n    // seeked to if we can. Without this, because we only get one secondchange\n    // event per playback second, we always miss that second.\n    if (this.justReleasedPlaybar()) {\n      return false;\n    }\n\n    // Without this, if the user pauses before secondchange fires for a given\n    // second, then plays again, we may \"miss\" that second. So if the video has\n    // just started playing at a new time, we want to count that.\n    if (this.justPlayed()) {\n      return false;\n    }\n\n    if (this.isScrubbing()) {\n      return true;\n    }\n  }\n\n  eventLoopDuration() {\n    return this.video._impl?._eventLoopDuration || 300;\n  }\n\n  // If timechange is being triggered more quickly than the event loop, then we\n  // can assume the user is scrubbing, whether it's via the playbar or\n  // programmatically. We don't want to count that.\n  //\n  // We check with this instead of explicitly checking for a flag from the\n  // playbar because:\n  //\n  // 1. While \"dragging,\" if you stop moving the mouse, the video can\n  // technically be playing back.  2. We don't have a playbar to check against\n  // in iOS fullscreen mode.  3. This captures programmatic scrubbing or a\n  // really high playback rate too.\n  //\n  // We check against the eventLoopDuration because it can change based on the\n  // playback rate.\n  isScrubbing() {\n    return this.lastTimeChangeAt && Date.now() - this.lastTimeChangeAt < this.eventLoopDuration();\n  }\n\n  justPlayed() {\n    return this.playedAt && Date.now() - this.playedAt < this.eventLoopDuration();\n  }\n\n  justReleasedPlaybar() {\n    return this.playbarDragEndAt && Date.now() - this.playbarDragEndAt < this.eventLoopDuration();\n  }\n\n  secondsWatched() {\n    return this._totalWatched || 0;\n  }\n\n  secondsWatchedVector() {\n    return this._secondsWatched;\n  }\n\n  reset() {\n    clearTimeout(this.delayedScrubTimeout);\n    this.timeChangeAt = null;\n    this.lastTimeChangeAt = null;\n    this.lastPlaybarDragEndAt = null;\n\n    this._secondsWatched = [];\n    for (let i = 0; i < Math.ceil(this.duration); i++) {\n      this._secondsWatched.push(0);\n    }\n    this._totalWatched = 0;\n    this._totalRewatched = 0;\n  }\n}\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport * as Elem from 'utilities/elem.js';\n\n(function (W) {\n  if (W._onFullscreenChange == null) {\n    W._onFullscreenChange = function () {\n      if (Elem.fullscreenElement()) {\n        return W.trigger('enterfullscreen', Elem.fullscreenElement());\n      }\n      return W.trigger('cancelfullscreen');\n    };\n  }\n\n  W._initializers.initFullscreenTriggers = function () {\n    // The fullscreenchange event is a global thing, not for a specific element.\n    // This sets up one binding that marshalls the fullscreenchange event so we\n    // can receive it like Wistia.bind 'fullscreenchange', (theElem) -> ...\n    //\n    // If embed codes use it, they should examine theElem to figure out if it's\n    // actually the embed going fullscreen, and not something else on the page.\n    Elem.elemRebind(document, 'webkitfullscreenchange', W._onFullscreenChange);\n    return Elem.elemRebind(document, 'fullscreenchange', W._onFullscreenChange);\n  };\n\n  return (W._destructors.destroyFullscreenTriggers = function () {\n    Elem.elemUnbind(document, 'webkitfullscreenchange', W._onFullscreenChange);\n    return Elem.elemUnbind(document, 'fullscreenchange', W._onFullscreenChange);\n  });\n})(window.Wistia);\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport { eV1Protocol } from 'utilities/hosts.js';\nimport { proto } from 'utilities/url.js';\nimport { doTimeout, clearTimeouts } from 'utilities/timeout-utils.js';\nimport { seqId } from 'utilities/seqid.js';\nimport { merge } from 'utilities/obj.js';\n\n(function (W) {\n  W.BandwidthTest = class BandwidthTest {\n    constructor(opt) {\n      this.opt = opt;\n      this.opt = merge(\n        {\n          minKbps: 2500,\n          timeoutLength: 4000,\n          freshFor: 3600000,\n        },\n        this.opt,\n      );\n      if (!this.opt.uuid) {\n        this.opt.uuid = seqId('bandwidth_test_');\n      }\n    }\n\n    start() {\n      this._testXhr?.abort();\n      this._testStart = new Date().getTime();\n      this._testXhr = new XMLHttpRequest();\n      this._testXhr.open('GET', this.testFileUrl(), true);\n\n      // The problem we've had in the past with moving to a non-fastly CDN is\n      // that the client cache expiry must match how long the file is cached on\n      // the CDN. Because of that, for repeated bandwidth tests, we basically\n      // had to choose between always pulling from origin (because the file is\n      // expired) or always pulling from cache, neither of which would give an\n      // accurate representation of whether you can support HD.\n      //\n      // To combat that problem, we use a trick with Range requests to strike a\n      // balance between pulling from origin and avoiding the local cache. When\n      // one of our CDNs receives a range request for a file, they will do the\n      // following:\n      //\n      // 1. Proxy the exact request back to us so it's served quickly.\n      // 2. Make a second request for the full file.\n      // 3. Cache the full file on an edge node.\n      // 4. Subsequent range requests are served directly from the edge node,\n      // using the fully cached file.\n      //\n      // So to minimize requests to origin, I uploaded a 100MB file to the\n      // bakery. For any given bandwidth test, it will pick a random 1MB chunk\n      // of the file and download that. This makes sure that, the vast majority\n      // of the time, the file is being pulled from the CDN but is not cached\n      // locally.\n      //\n      // The client-side expiry of the file is set to 1 day, so every day our\n      // chances of getting an already-cached file will reset to 0.\n      const randIndex = Math.floor(Math.random() * 100);\n      const startOffset = randIndex * 1000000;\n      const endOffset = startOffset + 999999;\n      this._testXhr.setRequestHeader('Range', `bytes=${startOffset}-${endOffset}`);\n\n      // If the image takes longer than the allotted time, bail.\n      doTimeout(\n        `${this.uuid}.cancel_bandwidth_test`,\n        () => {\n          this.trigger('timeout');\n          return this.fail();\n        },\n        this.opt.timeoutLength,\n      );\n\n      // If the bandwidth test ends early, then progress can be used to\n      // determine approximate bandwidth.\n      this._testDataLoaded = 0;\n      this._onTestXhrProgress = (event) => {\n        this._testDataLoaded = event.loaded;\n        return this.trigger('progress', event);\n      };\n      this._testXhr.addEventListener('progress', this._onTestXhrProgress);\n\n      // If the image finishes, then we're good to go.\n      this._onTestXhrLoaded = () => this.succeed();\n      this._testXhr.addEventListener('load', this._onTestXhrLoaded);\n\n      this._testXhr.send(null);\n      return this.trigger('started');\n    }\n\n    fail() {\n      this._sampleKbps();\n      this._supportsHd = false;\n      this.saveResult();\n      this.trigger('failed');\n      return this.end();\n    }\n\n    succeed() {\n      this._sampleKbps();\n      this._supportsHd = true;\n      this.saveResult();\n      this.trigger('succeeded');\n      this.end();\n      if (this._suspiciouslyFast()) {\n        return this._reportSuspiciousBandwidthTest();\n      }\n    }\n\n    _reportSuspiciousBandwidthTest() {\n      try {\n        if (this._suspiciouslyFast()) {\n          return W.Metrics.count('player/suspicious-bandwidth-test', 1, {\n            bw_test_time: this._testTime,\n            visitor_key: W.visitorKey.value(),\n            location:\n              location?.protocol?.length && location?.hostname?.length\n                ? `${location.protocol}//${location.hostname}`\n                : null,\n            connection_type: W.Metrics.connectionType(),\n            agent: navigator.userAgent,\n          });\n        }\n      } catch (e) {\n        return W.error(e);\n      }\n    }\n\n    _suspiciouslyFast() {\n      return this._testTime < 0.05;\n    }\n\n    _sampleKbps() {\n      this._testEnd = new Date().getTime();\n      this._testTime = (this._testEnd - this._testStart) / 1000;\n      return (this._kbps = (this._testDataLoaded * 8) / 1000 / this._testTime);\n    }\n\n    endEarly() {\n      if (this._supportsHd == null && this._testDataLoaded != null) {\n        this._sampleKbps();\n        this._supportsHd = this._testTime > 1 ? this._kbps >= this.opt.minKbps : true;\n        this.trigger('ended-early');\n        return this.end();\n      }\n      this.end();\n      return this.trigger('ended-early');\n    }\n\n    end() {\n      // GC\n      if (this._onTestXhrLoaded) {\n        this._testXhr?.removeEventListener('load', this._onTestXhrLoaded);\n      }\n      if (this._onTestXhrProgress) {\n        this._testXhr?.removeEventListener('progress', this._onTestXhrProgress);\n      }\n\n      // Stop the request\n      this._testXhr?.abort();\n      this._testXhr = null;\n\n      // Clear related async methods\n      clearTimeouts(`${this.uuid}.cancel_bandwidth_test`);\n\n      return this.trigger('ended');\n    }\n\n    testFileUrl() {\n      return (\n        this.opt.testFileUrl ||\n        (proto() === 'https:'\n          ? 'https://embed-ssl.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a'\n          : 'http://embed.wistia.com/deliveries/76a57ca47a1978a834d82dcf7eeb03a6.bin?bust=2015-12-29a')\n      );\n    }\n\n    saveKey() {\n      return this.opt.saveKey || 'bandwidth_test';\n    }\n\n    saveResult() {\n      return W.localStorage(this.saveKey(), {\n        updatedAt: new Date().getTime(),\n        supportsHd: this._supportsHd,\n        clientKbps: this._kbps,\n      });\n    }\n\n    savedResult() {\n      return W.localStorage(this.saveKey());\n    }\n\n    isFresh() {\n      const elapsed = new Date().getTime() - (this.savedResult()?.updatedAt || 0);\n      return elapsed < this.opt.freshFor;\n    }\n\n    supportsHd() {\n      return this._supportsHd || false;\n    }\n  };\n\n  return W.mixin(W.BandwidthTest.prototype, W.bindable);\n})(window.Wistia);\n","var Url, VideoTrackerLocalStorage, VideoTrackerSession, W, assign, base64Encode, convertIsUniqueValue, doTimeout, getResumableKeyForVideo, getUTMParams, isVisitorTrackingEnabled, merge, pageLoaded, ref, runScript;\n\nW = require('wistia_namespace.js')[\"default\"];\n\nisVisitorTrackingEnabled = require('utilities/trackingConsentApi.js').isVisitorTrackingEnabled;\n\nref = require('utilities/obj.js'), assign = ref.assign, merge = ref.merge;\n\ngetResumableKeyForVideo = require('utilities/resumableVideoData.js').getResumableKeyForVideo;\n\ndoTimeout = require('utilities/timeout-utils.js').doTimeout;\n\nUrl = require('utilities/url.js').Url;\n\npageLoaded = require('utilities/elem.js').pageLoaded;\n\nmerge = require('utilities/obj.js').merge;\n\nrunScript = require('utilities/script-utils.js').runScript;\n\nbase64Encode = require('utilities/core.js').base64Encode;\n\nVideoTrackerSession = require('./_video_tracker_session.coffee');\n\nVideoTrackerLocalStorage = require('./_video_tracker_local_storage.coffee');\n\nconvertIsUniqueValue = (function(_this) {\n  return function(value) {\n    var ref1;\n    return (ref1 = value === 'none') != null ? ref1 : {\n      \"true\": false\n    };\n  };\n})(this);\n\ngetUTMParams = function(publicApi) {\n  var params;\n  params = new Url(publicApi._attrs.pageUrl).params;\n  return {\n    campaign: params.utm_campaign || null,\n    medium: params.utm_medium || null,\n    source: params.utm_source || null\n  };\n};\n\n(function(W) {\n  if (W.VideoTracker2) {\n    return;\n  }\n  return W.VideoTracker2 = (function() {\n    VideoTracker2.prototype.NUM_BUCKETS = 1000;\n\n    VideoTracker2.prototype.conversions = {\n      'missing-conversion': 0,\n      'pre-roll-email': 1,\n      'post-roll-email': 2,\n      'mid-roll-email': 3,\n      'post-roll-click': 4,\n      'mid-roll-click': 5,\n      'non-video': 6\n    };\n\n    function VideoTracker2(publicApi1) {\n      this.publicApi = publicApi1;\n      this.eventQueue = [];\n      this.initializedOnce = false;\n      this.monitoring = false;\n      this._setStartValues();\n      this.publicApi.hasData((function(_this) {\n        return function() {\n          _this.utmParams = getUTMParams(_this.publicApi);\n          _this.params = merge({\n            transmitInterval: (_this.publicApi._mediaData.trackingTransmitInterval || 10) * 1000\n          }, _this.publicApi._opts);\n          if (!_this.publicApi._attrs.shouldTrack) {\n\n          }\n        };\n      })(this));\n      this;\n    }\n\n    VideoTracker2.prototype._setStartValues = function() {\n      this.clockStart = new Date().getTime();\n      this._played = false;\n      this.lastRecordedTime = 0;\n      this.lastSeekTime = 0;\n      this.lastSecondsWatched = 0;\n      return this.lastBucket = -1;\n    };\n\n    VideoTracker2.prototype._getAccountKey = function() {\n      return this.publicApi._opts.accountKey || this.publicApi._mediaData.accountKey;\n    };\n\n    VideoTracker2.prototype._getEnabledEmbedOptions = function() {\n      var embedOptions, key, keyToPluginName, name, options, plugins, ref1, ref2;\n      embedOptions = this.publicApi.embedOptions();\n      plugins = embedOptions['plugin'] || {};\n      keyToPluginName = {\n        turnstile_enabled: 'requireEmail-v1',\n        annotation_link_enabled: 'midrollLink-v1',\n        call_to_action_enabled: 'postRoll-v1',\n        eventbrite_enabled: 'eventbrite',\n        hubspot_form_enabled: 'hubspotForm',\n        marketo_form_enabled: 'marketoForm'\n      };\n      options = {};\n      for (key in keyToPluginName) {\n        name = keyToPluginName[key];\n        options[key] = plugins[name] ? (ref1 = plugins[name]['on']) === 'true' || ref1 === true : false;\n      }\n      options.auto_play_enabled = (ref2 = embedOptions['autoPlay']) === 'true' || ref2 === true;\n      options.looping_enabled = this.publicApi._attrs['endVideoBehavior'] === 'loop';\n      return options;\n    };\n\n    VideoTracker2.prototype._data = function() {\n      var result;\n      result = merge({\n        account_key: this._getAccountKey(),\n        event_details: this.eventQueue,\n        page_title: this.publicApi._getPageTitle(),\n        browser_language: this.publicApi._getBrowserLanguage(),\n        foreign_data: this.publicApi.foreignData(),\n        media_duration: parseFloat(this.publicApi._mediaData.duration),\n        media_id: this.publicApi._mediaData.mediaKey,\n        media_type: this._mediaType(),\n        referrer: this.publicApi._attrs.pageUrl,\n        referrer_url: this.publicApi._attrs.referrerUrl,\n        resumable_key: this.resumableKey(),\n        session_id: this.visitorKey(),\n        utm_params: this.utmParams,\n        visitor_version: this.videoTrackerLocalStorage.getVisitorVersion(),\n        event_version: '1.0.0',\n        player_type: 'modern',\n        enabled_embed_options: this._getEnabledEmbedOptions(),\n        visibility_metrics: this.publicApi._getEmbedVisibilityMetrics()\n      }, this.videoTrackerSession.fetchSessionData());\n      if (this.publicApi.email()) {\n        result['email'] = this.publicApi.email();\n      }\n      if (this.publicApi._opts.anonymizeIp || !isVisitorTrackingEnabled()) {\n        result['anonymizeIp'] = true;\n      }\n      if (this.params.conversionType) {\n        result['conversion_type'] = this.conversions[this.params.conversionType];\n      }\n      if (this.params.conversionData) {\n        result['conversion_data'] = this.params.conversionData;\n      }\n      if (this.publicApi._opts.channel) {\n        result['channel'] = this.publicApi._opts.channel;\n      }\n      if (this.publicApi._mediaData.channelId) {\n        result['channel_id'] = this.publicApi._mediaData.channelId;\n      }\n      if (this.publicApi._mediaData.episodeId) {\n        result['episode_id'] = this.publicApi._mediaData.episodeId;\n      }\n      if (this.publicApi._mediaData.projectId) {\n        result['project_id'] = this.publicApi._mediaData.projectId;\n      }\n      return JSON.stringify(result);\n    };\n\n    VideoTracker2.prototype._mediaType = function() {\n      return this.publicApi._mediaData.mediaType;\n    };\n\n    VideoTracker2.prototype.reset = function() {\n      this.stopMonitoring();\n      this._setStartValues();\n      return this.initializedOnce = false;\n    };\n\n    VideoTracker2.prototype.initialize = function() {\n      if (!this.initializedOnce) {\n        this.publicApi.info('video tracker initialize');\n        this.videoTrackerLocalStorage = new VideoTrackerLocalStorage(this._getAccountKey(), this.publicApi.hashedId(), (function(_this) {\n          return function() {\n            var ref1;\n            return (ref1 = _this.publicApi).info.apply(ref1, arguments);\n          };\n        })(this));\n        this._failedEventsQueue = [];\n        this._retryTimer = null;\n        this._retryInterval = 1000;\n        this.initializedOnce = true;\n        this._setStartValues();\n        this.log('initialized');\n        this.videoTrackerLocalStorage.recordLoad();\n        this.debounceTransmit();\n      }\n      return this;\n    };\n\n    VideoTracker2.prototype.monitor = function() {\n      if (!this.initializedOnce) {\n        this.publicApi.hasData((function(_this) {\n          return function() {\n            return _this.videoTrackerSession = new VideoTrackerSession(_this.publicApi);\n          };\n        })(this));\n      }\n      return this.publicApi.embedded((function(_this) {\n        return function() {\n          _this.stopMonitoring();\n          _this.publicApi.info('_tracker.monitor');\n          _this.initialize();\n          if (_this.onPlaybackRateChange == null) {\n            _this.onPlaybackRateChange = function(rate) {\n              return _this.log('playbackRateChange', null, rate);\n            };\n          }\n          if (_this.onPlay == null) {\n            _this.onPlay = function() {\n              _this.log('play');\n              _this.videoTrackerLocalStorage.recordPlay();\n              if (!_this._played) {\n                _this._played = true;\n                return _this.debounceTransmit();\n              }\n            };\n          }\n          if (_this.onPause == null) {\n            _this.onPause = function() {\n              if (Math.abs(_this.publicApi.duration() - _this.publicApi.time()) > .3) {\n                return _this.log('pause');\n              }\n            };\n          }\n          if (_this.onEnd == null) {\n            _this.onEnd = function() {\n              _this.log('end');\n              return _this.transmit();\n            };\n          }\n          if (_this.onSeek == null) {\n            _this.onSeek = function(t, lastT) {\n              if (Math.abs(lastT - t) < 5) {\n                return;\n              }\n              _this.lastSeekTime = lastT;\n              return _this.log('seek');\n            };\n          }\n          if (_this.onPercentWatchedThreshold == null) {\n            _this.onPercentWatchedThreshold = function(threshold) {\n              _this.log('percentWatchedThreshold', null, threshold);\n              return _this.transmit();\n            };\n          }\n          _this.monitoring = true;\n          _this.publicApi.rebind('play', _this.onPlay);\n          _this.publicApi.rebind('pause', _this.onPause);\n          _this.publicApi.rebind('end', _this.onEnd);\n          _this.publicApi.rebind('seek', _this.onSeek);\n          _this.publicApi.rebind('playbackratechange', _this.onPlaybackRateChange);\n          _this.publicApi.rebind('percentWatchedThreshold', _this.onPercentWatchedThreshold);\n          _this.videoTrackerSession.setupBindings();\n          if (_this.publicApi.state() === 'playing') {\n            _this.onPlay();\n          }\n          return doTimeout(_this.publicApi.uuid + \".start_tracking_timeout\", function() {\n            _this.publicApi.info('_tracker start tracking_loop');\n            return W.eventLoop.add(_this.publicApi.uuid + \".tracking_loop\", _this.params.transmitInterval, function() {\n              if (_this.publicApi.state() === 'playing') {\n                _this.log('update');\n              }\n              return _this.transmit();\n            });\n          }, Math.random() * _this.params.transmitInterval + 1000);\n        };\n      })(this));\n    };\n\n    VideoTracker2.prototype.stopMonitoring = function() {\n      this.publicApi.info('_tracker.stopMonitoring');\n      this.monitoring = false;\n      if (this.onPlay) {\n        this.publicApi.unbind('play', this.onPlay);\n      }\n      if (this.onPause) {\n        this.publicApi.unbind('pause', this.onPause);\n      }\n      if (this.onEnd) {\n        this.publicApi.unbind('end', this.onEnd);\n      }\n      if (this.onSeek) {\n        this.publicApi.unbind('seek', this.onSeek);\n      }\n      if (this.onPercentWatchedChanged) {\n        this.publicApi.unbind('percentwatchedchanged', this.onPercentWatchedChanged);\n      }\n      if (this.videoTrackerSession) {\n        return this.videoTrackerSession.removeBindings();\n      }\n    };\n\n    VideoTracker2.prototype.distilleryUrl = function() {\n      return this.publicApi._attrs.statsUrl || this.publicApi._mediaData.distilleryUrl;\n    };\n\n    VideoTracker2.prototype.sendToDistillery = function(data) {\n      return fetch(this.distilleryUrl(), {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'text/plain'\n        },\n        body: encodeURIComponent(data)\n      })[\"catch\"]((function(_this) {\n        return function(error) {\n          return W.Metrics.videoCount(_this.publicApi, \"player/distillery-error-response/\" + error.status);\n        };\n      })(this));\n    };\n\n    VideoTracker2.prototype.readyToTrack = function(fn) {\n      return this.publicApi.hasData((function(_this) {\n        return function() {\n          return pageLoaded(function() {\n            return W.visitorKey.ready().then(fn);\n          });\n        };\n      })(this));\n    };\n\n    VideoTracker2.prototype.transmit = function(options) {\n      if (options == null) {\n        options = {};\n      }\n      if (!this.publicApi._attrs.shouldTrack) {\n        return;\n      }\n      return this.readyToTrack((function(_this) {\n        return function() {\n          var data;\n          if (_this.eventQueue.length > 0 || options.force) {\n            data = _this._data();\n            _this.publicApi.info('_tracker.transmit', data);\n            _this.publicApi.trigger('transmit-stats', data);\n            _this.sendToDistillery(base64Encode(data));\n            return _this.eventQueue = [];\n          }\n        };\n      })(this));\n    };\n\n    VideoTracker2.prototype.debounceTransmit = function() {\n      return doTimeout(this.publicApi.uuid + \".transmit_play_data\", ((function(_this) {\n        return function() {\n          return _this.transmit();\n        };\n      })(this)), 350);\n    };\n\n    VideoTracker2.prototype.log = function(action, type, data) {\n      var payload, secondsWatched, uniquePlayedRatio, uniquePlayedTime;\n      if (!this.publicApi._attrs.shouldTrack) {\n        return;\n      }\n      this.publicApi.info('_tracker.log', action, type, data);\n      this.videoTrackerSession.ping();\n      secondsWatched = this.videoTrackerSession.secondsWatched();\n      uniquePlayedTime = secondsWatched - this.lastSecondsWatched;\n      uniquePlayedRatio = uniquePlayedTime / this.publicApi.duration();\n      this.lastSecondsWatched = secondsWatched;\n      if (action === 'conversion') {\n        this.params.conversionType = type;\n        this.params.conversionData = data;\n        return this.transmit({\n          force: true\n        });\n      } else {\n        payload = {\n          key: action,\n          value: this.timeInVideo(),\n          timeDelta: this.timeDelta(),\n          uniquePlayedTime: uniquePlayedTime,\n          uniquePlayedRatio: uniquePlayedRatio\n        };\n        if (action === 'initialized') {\n          payload.lastAccountInstance = this.videoTrackerLocalStorage.lastLoadForAccount();\n          payload.lastMediaInstance = this.videoTrackerLocalStorage.lastLoadForMedia();\n          payload.isUnique = convertIsUniqueValue(this.videoTrackerLocalStorage.lastLoadForMedia());\n        } else if (action === 'play') {\n          payload.lastAccountInstance = this.videoTrackerLocalStorage.lastPlayForAccount();\n          payload.lastMediaInstance = this.videoTrackerLocalStorage.lastPlayForMedia();\n          payload.isUnique = convertIsUniqueValue(this.videoTrackerLocalStorage.lastPlayForMedia());\n          if (this._played) {\n            payload.key = 'unpause';\n          } else {\n            this.addPlayedTime(payload);\n            this.addBuckets(payload);\n            this.lastRecordedTime = this.timeInVideo();\n          }\n        } else if (action === 'seek') {\n          this.addPlayedTime(payload, this.lastSeekTime);\n          this.addBuckets(payload, this.lastSeekTime);\n          this.lastRecordedTime = this.timeInVideo();\n        } else if (action === 'update') {\n          this.addPlayedTime(payload);\n          this.addBuckets(payload);\n          this.lastRecordedTime = this.timeInVideo();\n        } else if (action === 'playbackRateChange') {\n          payload.value = data;\n        } else if (action === 'percentWatchedThreshold') {\n          payload.value = data;\n        } else if (action === 'end') {\n          this.addPlayedTime(payload);\n          this.addBuckets(payload);\n          this.lastBucket = -1;\n          this.lastRecordedTime = this.timeInVideo();\n        }\n        this.publicApi.debug('_tracker.log', payload);\n        return this.eventQueue.push(payload);\n      }\n    };\n\n    VideoTracker2.prototype.addPlayedTime = function(payload, value) {\n      var currentTime, playedTime;\n      currentTime = value !== void 0 ? value : this.timeInVideo();\n      playedTime = Math.max(currentTime - this.lastRecordedTime, 0);\n      return payload.playedTime = String(playedTime);\n    };\n\n    VideoTracker2.prototype.addBuckets = function(payload, endTime) {\n      var endBucket, now;\n      if (this.publicApi.state() !== 'beforeplay') {\n        now = this.publicApi.time();\n        endBucket = this._timeToBucket(endTime || now);\n        if (this.lastBucket < endBucket) {\n          payload.startBucket = this.lastBucket + 1;\n          payload.endBucket = endBucket;\n        }\n        this.lastBucket = this._timeToBucket(now);\n        if (endTime) {\n          return this.lastBucket -= 1;\n        }\n      }\n    };\n\n    VideoTracker2.prototype._timeToBucket = function(time) {\n      return Math.floor(time / this.publicApi.duration() * this.NUM_BUCKETS);\n    };\n\n    VideoTracker2.prototype.logConversionOpportunity = function(data) {\n      var payload;\n      if (!this.publicApi._attrs.shouldTrack) {\n        return;\n      }\n      this.videoTrackerSession.ping();\n      if (data.co_key != null) {\n        data.is_new_lead = this.videoTrackerLocalStorage.isNewLead();\n        payload = {\n          key: 'conversion',\n          value: data,\n          timeDelta: this.timeDelta()\n        };\n        this.publicApi.info('_tracker.logConversionOpportunity', data);\n        return this.eventQueue.push(payload);\n      } else {\n        return W.Metrics.videoCount(this.publicApi, 'player/no-co-key', 1);\n      }\n    };\n\n    VideoTracker2.prototype.logAction = function(action, providedDetails) {\n      var defaultDetails, details, payload;\n      if (providedDetails == null) {\n        providedDetails = {};\n      }\n      this.videoTrackerSession.ping();\n      defaultDetails = {\n        time: this.publicApi.time(),\n        key: action,\n        type: 'default',\n        category: 'default',\n        text: 'test',\n        uniqueToVisitor: false\n      };\n      details = assign({}, defaultDetails, providedDetails);\n      payload = {\n        value: details,\n        key: 'action',\n        timeDelta: this.timeDelta()\n      };\n      return this.eventQueue.push(payload);\n    };\n\n    VideoTracker2.prototype.logCaptionSelection = function(data) {\n      var payload;\n      if (!this.publicApi._attrs.shouldTrack) {\n        return;\n      }\n      this.videoTrackerSession.ping();\n      if (!data.caption_key) {\n        return;\n      }\n      payload = {\n        key: 'caption',\n        value: data,\n        timeDelta: this.timeDelta()\n      };\n      this.publicApi.info('_tracker.logCaptionSelection', data);\n      return this.eventQueue.push(payload);\n    };\n\n    VideoTracker2.prototype.logChapterClick = function(chapter, time) {\n      this.logAction('chapterConversion', {\n        text: chapter.title,\n        type: 'conversion',\n        category: 'chapter',\n        uniqueToVisitor: true,\n        time: time\n      });\n      return this.logAction(\"chapterSelection-\" + chapter.id, {\n        text: chapter.title,\n        type: 'interaction',\n        category: 'chapter',\n        time: time\n      });\n    };\n\n    VideoTracker2.prototype.logShareClick = function(channel) {\n      this.logAction('shareConversion', {\n        text: channel,\n        type: 'conversion',\n        category: 'share',\n        uniqueToVisitor: true\n      });\n      return this.logAction(\"shareClick-\" + channel, {\n        text: channel,\n        type: 'interaction',\n        category: 'share'\n      });\n    };\n\n    VideoTracker2.prototype.resumableKey = function() {\n      if (this.publicApi.embedOptions().resumable !== false) {\n        return getResumableKeyForVideo(this.publicApi.hashedId());\n      } else {\n        return null;\n      }\n    };\n\n    VideoTracker2.prototype.timeInVideo = function() {\n      var timeInVideo;\n      timeInVideo = this.publicApi.time();\n      if (timeInVideo == null) {\n        if (this.publicApi.state() === 'beforeplay') {\n          timeInVideo = 0;\n        } else {\n          timeInVideo = this.publicApi.duration();\n        }\n      }\n      return timeInVideo.toFixed(1);\n    };\n\n    VideoTracker2.prototype.timeDelta = function() {\n      return (new Date().getTime()) - this.clockStart;\n    };\n\n    VideoTracker2.prototype.visitorKey = function() {\n      return this.publicApi.visitorKey();\n    };\n\n    VideoTracker2.prototype.eventKey = function() {\n      if (this.videoTrackerSession) {\n        return this.videoTrackerSession.eventKey();\n      }\n    };\n\n    return VideoTracker2;\n\n  })();\n})(Wistia);\n","var SecondsWatchedTracker, VideoTrackerSession, W, secondsSinceTime, uniqId;\n\nW = require('wistia_namespace.js')[\"default\"];\n\nsecondsSinceTime = require('utilities/secondsSinceTime.js')[\"default\"];\n\nSecondsWatchedTracker = require('utilities/secondsWatchedTracker.js').SecondsWatchedTracker;\n\nuniqId = require('utilities/uniqId.js').uniqId;\n\nVideoTrackerSession = (function() {\n  VideoTrackerSession.prototype.EVENT_KEY_REFRESH_INTERVAL = 30 * 60;\n\n  function VideoTrackerSession(publicApi) {\n    this.publicApi = publicApi;\n    this.lastFetchTime = new Date().getTime();\n    this.secondsWatchedTracker = new SecondsWatchedTracker(this.publicApi, this.publicApi.duration(), {\n      maxWatchingPlaybackRate: this.publicApi._opts.maxWatchingPlaybackRate\n    });\n  }\n\n  VideoTrackerSession.prototype.withRefresh = function(func) {\n    if (secondsSinceTime(this.lastFetchTime) > this.EVENT_KEY_REFRESH_INTERVAL) {\n      this.reset();\n    }\n    this.lastFetchTime = new Date().getTime();\n    if (typeof func === 'function') {\n      return func();\n    }\n  };\n\n  VideoTrackerSession.prototype.fetchSessionData = function() {\n    return this.withRefresh((function(_this) {\n      return function() {\n        var result;\n        return result = {\n          event_key: _this.eventKey(),\n          seconds_watched: _this.secondsWatchedTracker.secondsWatched()\n        };\n      };\n    })(this));\n  };\n\n  VideoTrackerSession.prototype.secondsWatched = function() {\n    return this.withRefresh((function(_this) {\n      return function() {\n        return _this.secondsWatchedTracker.secondsWatched();\n      };\n    })(this));\n  };\n\n  VideoTrackerSession.prototype.ping = function() {\n    return this.withRefresh();\n  };\n\n  VideoTrackerSession.prototype.setupBindings = function() {\n    if (this.binding == null) {\n      this.binding = (function(_this) {\n        return function(s) {\n          return _this.secondsWatchedTracker.trackSecond(s);\n        };\n      })(this);\n    }\n    return this.publicApi.rebind('secondchange', this.binding);\n  };\n\n  VideoTrackerSession.prototype.reset = function() {\n    this._eventKey = null;\n    return this.secondsWatchedTracker.reset();\n  };\n\n  VideoTrackerSession.prototype.removeBindings = function() {\n    if (this.binding) {\n      return this.publicApi.unbind('secondchange', this.binding);\n    }\n  };\n\n  VideoTrackerSession.prototype.eventKey = function() {\n    if (this.isValidKey(this._eventKey)) {\n      return this._eventKey;\n    }\n    this._eventKey = uniqId((__FINGERPRINT_SHA__.substring(0, 7)) + \"_\");\n    this.publicApi.trigger('eventkeychange', this._eventKey);\n    return this._eventKey;\n  };\n\n  VideoTrackerSession.prototype.isValidKey = function(key) {\n    return (key != null ? key.length : void 0) > 25 && /^[a-z0-9_\\-\\.]+$/i.test(key);\n  };\n\n  return VideoTrackerSession;\n\n})();\n\nmodule.exports = VideoTrackerSession;\n","const secondsSinceTime = (timeValue) => {\n  if (timeValue) {\n    return Math.round((new Date().getTime() - timeValue) / 1000);\n  }\n\n  return null;\n};\n\nexport default secondsSinceTime;\n","var VideoTrackerLocalStorage, W, secondsSinceTime;\n\nW = require('wistia_namespace.js')[\"default\"];\n\nsecondsSinceTime = require('utilities/secondsSinceTime.js')[\"default\"];\n\nVideoTrackerLocalStorage = (function() {\n  function VideoTrackerLocalStorage(accountKey, hashedId, logFn) {\n    this.accountKey = accountKey;\n    this.hashedId = hashedId;\n    this.logFn = logFn;\n    this;\n  }\n\n  VideoTrackerLocalStorage.prototype.nullToNone = function(value) {\n    if (value === null) {\n      return \"none\";\n    } else {\n      return value;\n    }\n  };\n\n  VideoTrackerLocalStorage.prototype.lastLoadForAccount = function() {\n    return this._lastLoadForAccount || (this._lastLoadForAccount = this.nullToNone(secondsSinceTime(Wistia.localStorage(\"accounts_loaded.\" + this.accountKey))));\n  };\n\n  VideoTrackerLocalStorage.prototype.lastLoadForMedia = function() {\n    return this._lastLoadForMedia || (this._lastLoadForMedia = this.nullToNone(secondsSinceTime(Wistia.localStorage(\"medias_loaded.\" + this.hashedId))));\n  };\n\n  VideoTrackerLocalStorage.prototype.lastPlayForAccount = function() {\n    return this._lastPlayForAccount || (this._lastPlayForAccount = this.nullToNone(secondsSinceTime(Wistia.localStorage(\"accounts_played.\" + this.accountKey))));\n  };\n\n  VideoTrackerLocalStorage.prototype.lastPlayForMedia = function() {\n    return this._lastPlayForMedia || (this._lastPlayForMedia = this.nullToNone(secondsSinceTime(Wistia.localStorage(\"medias_played.\" + this.hashedId))));\n  };\n\n  VideoTrackerLocalStorage.prototype.lastRecordingOfActionForMedia = function(actionKey) {\n    return this.nullToNone(secondsSinceTime(Wistia.localStorage(\"action_recorded.\" + this.hashedId + \".\" + actionKey)));\n  };\n\n  VideoTrackerLocalStorage.prototype.isNewLead = function() {\n    var key, v;\n    key = \"action_recorded.conversion\";\n    v = Wistia.localStorage(key);\n    if (v) {\n      return !v;\n    } else {\n      this.logFn('recordNewLead');\n      return Wistia.localStorage(key, true);\n    }\n  };\n\n  VideoTrackerLocalStorage.prototype.recordLastActionForMedia = function(actionKey) {\n    return Wistia.localStorage(\"action_recorded.\" + this.hashedId + \".\" + actionKey, new Date().getTime());\n  };\n\n  VideoTrackerLocalStorage.prototype.recordLoad = function() {\n    this.logFn('recordLoad');\n    Wistia.localStorage(\"accounts_loaded.\" + this.accountKey, new Date().getTime());\n    return Wistia.localStorage(\"medias_loaded.\" + this.hashedId, new Date().getTime());\n  };\n\n  VideoTrackerLocalStorage.prototype.recordPlay = function() {\n    this.logFn('recordPlay');\n    Wistia.localStorage(\"accounts_played.\" + this.accountKey, new Date().getTime());\n    return Wistia.localStorage(\"medias_played.\" + this.hashedId, new Date().getTime());\n  };\n\n  VideoTrackerLocalStorage.prototype._saveVisitorVersion = function(version) {\n    if (version == null) {\n      version = 1;\n    }\n    if (Wistia.localStorage('visitor_version') == null) {\n      return Wistia.localStorage('visitor_version', version);\n    }\n  };\n\n  VideoTrackerLocalStorage.prototype.getVisitorVersion = function() {\n    var v;\n    v = Wistia.localStorage('visitor_version');\n    if (v) {\n      return v;\n    } else {\n      this._saveVisitorVersion(0);\n      return 0;\n    }\n  };\n\n  VideoTrackerLocalStorage.prototype.clearActionRecordings = function() {\n    return ['chapterImpression', 'chapterConversion', 'shareImpression', 'shareConversion'].forEach((function(_this) {\n      return function(key) {\n        return Wistia.localStorage(\"action_recorded.\" + _this.hashedId + \".\" + key, '', true);\n      };\n    })(this));\n  };\n\n  return VideoTrackerLocalStorage;\n\n})();\n\nmodule.exports = VideoTrackerLocalStorage;\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport * as Hosts from 'utilities/hosts.js';\nimport * as MediaData from 'utilities/media_data.js';\nimport * as PlaylistData from 'utilities/playlist_data.js';\nimport { appHostname } from '../../../appHostname.js';\n\n(function (W) {\n  if (W.remote) {\n    return;\n  }\n\n  W.remote = {};\n  W.remote.appHostname = appHostname;\n  W.remote.embedHost = Hosts.cdnFastWistiaComHost;\n  W.remote.externalEmbedHost = Hosts.cdnFastWistiaNetHost;\n  W.remote.appHost = Hosts.appHost;\n  W.remote.assetHost = Hosts.deliveryHost;\n\n  // TODO: can be deleted once all outside references are detected and deleted.\n  W.remote.media = MediaData.fetchMedia;\n  W.cacheMedia = MediaData.cacheMedia;\n  W.cacheAbTest = MediaData.cacheAbTest;\n  W.uncacheMedia = MediaData.uncacheMedia;\n  W.mediaFromCache = MediaData.mediaFromCache;\n  W.abTestFromCache = MediaData.abTestFromCache;\n  W.remote.playlist = PlaylistData.fetchPlaylist;\n})(window.Wistia);\n","import Wistia from 'wistia_namespace.js';\nimport { proto as urlProto } from 'utilities/url.js';\nimport { cdnFastWistiaComHost } from 'utilities/hosts.js';\nimport { wlog } from 'utilities/wlog.js';\nimport { seqId } from 'utilities/seqid.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\n\nif (Wistia._remotePlaylist == null) {\n  Wistia._remotePlaylist = {};\n}\n\n// e.g. Wistia.remote.playlist(\"abcd1234\", function(media) { ... });\nexport const fetchPlaylist = (playlistId, callback) => {\n  const cachedData = Wistia._remotePlaylist[playlistId];\n  if (cachedData) {\n    doTimeout(`remote-playlist.${playlistId}.${seqId()}`, () => {\n      callback(cachedData);\n    });\n  } else {\n    const url = `${urlProto()}//${cdnFastWistiaComHost()}/embed/playlists/${playlistId}.json`;\n    fetch(url)\n      .then((resp) => resp.json())\n      .then((playlist) => {\n        Wistia._remotePlaylist[playlistId] = playlist;\n        callback(playlist);\n      })\n      .catch(() => {\n        wlog.error(`Timed out fetching ${url}`);\n      });\n  }\n};\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS202: Simplify dynamic range loops\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport { send, count, sample } from 'utilities/metrics.js';\nimport { merge } from 'utilities/obj.js';\nimport { elemWidth, elemHeight } from 'utilities/elem.js';\n\n(function (W) {\n  if (W.Metrics) {\n    return;\n  }\n\n  return (W.Metrics = {\n    count,\n    sample,\n    send,\n\n    // Used for logging occurrence of an event\n    // @param  media   Video   Video embed object\n    // @param  key     String  Metrics key to be send to pipedream,\n    //                         e.g. 'play' will show as 'player/play' in snowbeast\n    // @param  val     Int     Value associated with event\n    //                         Most events will use the default of 1\n    videoCount(video, key, val, extraData) {\n      if (val == null) {\n        val = 1;\n      }\n      return this.videoSend(video, 'count', key, val, extraData);\n    },\n\n    // Used for logging a sampled value, e.g. a timing\n    // @param  media   Video   Video embed object\n    // @param  key     String  Metrics key to be send to pipedream,\n    //                         e.g. 'play' will show as 'player/play' in snowbeast\n    // @param  val     Int     Value associated with event\n    //                         Can be any jsonifiable value\n    videoSample(video, key, val, extraData) {\n      return this.videoSend(video, 'sample', key, val, extraData);\n    },\n\n    videoSend(video, type, key, val, extraData) {\n      if (extraData == null) {\n        extraData = {};\n      }\n      return video.hasData?.(() => {\n        let currentAsset;\n        const bandwidth = video.bandwidthTest?.().savedResult() || {};\n        extraData = merge(\n          {\n            location:\n              location?.protocol?.length && location?.hostname?.length\n                ? `${location.protocol}//${location.hostname}`\n                : null,\n            agent: navigator.userAgent,\n            account_key: video._mediaData?.accountKey,\n            at: video.time(),\n            video_id: video.hashedId(),\n            embed_type: video.playerType,\n            duration: video.duration(),\n            client_kbps: bandwidth.clientKbps,\n            supports_hd: bandwidth.supportsHd,\n            autoplay: !!video._attrs?.autoplay,\n            in_iframe: top !== self,\n            device_pixel_ratio: window.devicePixelRatio,\n            window_width: elemWidth(window),\n            window_height: elemHeight(window),\n            video_width: video.videoWidth(),\n            video_height: video.videoHeight(),\n            visitor_key: video._tracker?.visitorKey(),\n            event_key: video._tracker?.eventKey(),\n            event_time_delta: video._tracker?.timeDelta(),\n            connection_type: this.connectionType(),\n            version: 9,\n            channel: W.channelName,\n          },\n          extraData,\n        );\n\n        if (/romulus|html5|vulcan/.test(video.playerType)) {\n          extraData.errorState = video.elem()?.error;\n        }\n\n        if (video._cacheStatus != null) {\n          extraData.cache_status = video._cacheStatus;\n        }\n        if (video._assetServer != null) {\n          extraData.asset_server = video._assetServer;\n        }\n        if (video._cacheHit != null) {\n          extraData.cache_hit = video._cacheHit;\n        }\n        if (video.inFullscreen) {\n          extraData.in_fullscreen = video.inFullscreen();\n        }\n\n        if (video._substream != null) {\n          extraData.substream = video._substream.index;\n          extraData.adaptive = video._substream.adaptive;\n          extraData.current_level = video._substream.currentLevel;\n          extraData.all_level_names = video._substream.allLevelNames;\n          currentAsset = video._substream.asset;\n          extraData.hls_error_counts = video._substream.hlsErrorCounts();\n        } else {\n          extraData.substream = null;\n          extraData.adaptive = null;\n          currentAsset = video.data?.asset;\n        }\n\n        if (currentAsset != null) {\n          extraData.asset_type = currentAsset.type;\n          extraData.asset_slug = currentAsset.slug;\n          extraData.bitrate = currentAsset.bitrate;\n          extraData.asset_height = currentAsset.height;\n          extraData.asset_width = currentAsset.width;\n        }\n\n        if (video.videoElem?.buffered?.length > 0) {\n          extraData.bufferedFrom0 = video.videoElem.buffered.end(0);\n        }\n        if (video._timeToFirstByte != null) {\n          extraData.time_to_first_byte = video._timeToFirstByte;\n        }\n        extraData.buffered = video.totalBuffered != null ? video.totalBuffered() : undefined;\n        extraData.played = video.totalPlayed != null ? video.totalPlayed() : undefined;\n\n        this.send(type, key, val, extraData);\n\n        if (\n          video._mediaData &&\n          video._mediaData.accountKey &&\n          video._mediaData.accountSpecificMetrics\n        ) {\n          return this.send(type, `${video._mediaData.accountKey}/${key}`, val, extraData);\n        }\n      });\n    },\n\n    // Helper to count events on video objects, without accidental double-binding\n    countEvent(videoObj, eventName, statsName) {\n      if (!statsName) {\n        statsName = eventName;\n      }\n      if (this._private.countEventCallbacks[statsName] == null) {\n        this._private.countEventCallbacks[statsName] = this._private.mkCountEventCallback(\n          eventName,\n          statsName,\n        );\n      }\n      return videoObj.rebind(eventName, this._private.countEventCallbacks[statsName]);\n    },\n\n    // Helper to count events on video objects, and deal\n    // with the possibility of the video object having already\n    // been initialized and events bound\n    countEventOnce(videoObj, eventName, statsName) {\n      if (!statsName) {\n        statsName = eventName;\n      }\n      if (this._private.countEventOnceCallbacks[statsName] == null) {\n        this._private.countEventOnceCallbacks[statsName] = this._private.mkCountEventOnceCallback(\n          eventName,\n          statsName,\n        );\n      }\n      return videoObj.rebind(eventName, this._private.countEventOnceCallbacks[statsName]);\n    },\n\n    sampleEvent(videoObj, eventName, statsName) {\n      if (!statsName) {\n        statsName = eventName;\n      }\n      if (this._private.sampleEventCallbacks[statsName] == null) {\n        this._private.sampleEventCallbacks[statsName] = this._private.mkSampleEventCallback(\n          eventName,\n          statsName,\n        );\n      }\n      return videoObj.rebind(eventName, this._private.sampleEventCallbacks[statsName]);\n    },\n\n    countShowLoadingOnce(videoObj) {\n      let lastDuration = -1;\n      return videoObj.bind('waiting', (duration) => {\n        if (lastDuration < 2 && duration >= 2) {\n          this.videoCount(videoObj, 'player/show-loading/first', 1);\n          lastDuration = duration;\n          return videoObj.unbind;\n        }\n        return (lastDuration = duration);\n      });\n    },\n\n    countShowLoadingAll(videoObj) {\n      let lastDuration = -1;\n      videoObj.bind('waiting', (duration) => {\n        if (lastDuration < 2 && duration >= 2) {\n          this.videoCount(videoObj, 'player/show-loading/all', 1);\n        }\n        return (lastDuration = duration);\n      });\n      return videoObj.bind('done-waiting', () => (lastDuration = -1));\n    },\n\n    countShowLoadingLongTimeOnce(videoObj) {\n      let lastDuration = -1;\n      return videoObj.bind('waiting', (duration) => {\n        if (lastDuration < 5 && duration >= 5) {\n          this.videoCount(videoObj, 'player/show-loading-long-time/first', 1);\n          lastDuration = duration;\n          return videoObj.unbind;\n        }\n        return (lastDuration = duration);\n      });\n    },\n\n    countShowLoadingLongTimeAll(videoObj) {\n      let lastDuration = -1;\n      videoObj.bind('waiting', (duration) => {\n        if (lastDuration < 5 && duration >= 5) {\n          this.videoCount(videoObj, 'player/show-loading-long-time/all', 1);\n        }\n        return (lastDuration = duration);\n      });\n      return videoObj.bind('done-waiting', () => (lastDuration = -1));\n    },\n\n    assetBuckets(video) {\n      const isMobile =\n        W.detect.iphone ||\n        W.detect.android ||\n        W.detect.blackberry ||\n        /mobile/i.test(navigator.userAgent);\n      if (isMobile) {\n        if (W.detect.iphone) {\n          return ['mobile', 'iphone'];\n        }\n        if (W.detect.android) {\n          return ['mobile', 'android'];\n        }\n        return ['mobile'];\n      }\n      return [];\n    },\n\n    // Uses the Network Information API (https://w3c.github.io/netinfo/) to try\n    // to determine if the user is on cellular/wifi/etc. We pretty much only\n    // expect this to work on some Android devices.\n    connectionType() {\n      const connection =\n        window.navigator.connection ||\n        window.navigator.mozConnection ||\n        window.navigator.webkitConnection;\n      return connection?.type;\n    },\n\n    // Returns the total number of seconds \"covered\" by all of the ranges in a\n    // normalized TimeRanges object.\n    sumTimeRanges(timeRanges) {\n      if (timeRanges == null) {\n        return null;\n      }\n      let sum = 0;\n      for (\n        let i = 0, end = timeRanges.length, asc = end >= 0;\n        asc ? i < end : i > end;\n        // eslint-disable-next-line no-plusplus\n        asc ? i++ : i--\n      ) {\n        sum += timeRanges.end(i) - timeRanges.start(i);\n      }\n      return sum;\n    },\n\n    // Returns the time in milliseconds between now and `timeMsec`, which is a\n    // positive number of `timeMsec` is in the past.\n    millisecondsSince(timeMsec) {\n      return new Date().getTime() - timeMsec;\n    },\n\n    _private: {\n      countEventCallbacks: {},\n      mkCountEventCallback(eventName, statsName) {\n        return function (event) {\n          if (!statsName) {\n            statsName = eventName;\n          }\n          return W.Metrics.videoCount(this, `player/${statsName}`, event);\n        };\n      },\n\n      countEventOnceCallbacks: {},\n      mkCountEventOnceCallback(eventName, statsName) {\n        return function (event) {\n          if (!statsName) {\n            statsName = eventName;\n          }\n          W.Metrics.videoCount(this, `player/${statsName}`, event);\n          return this.unbind;\n        };\n      },\n\n      sampleEventCallbacks: {},\n      mkSampleEventCallback(eventName, statsName) {\n        return function (event) {\n          if (!statsName) {\n            statsName = eventName;\n          }\n          return W.Metrics.videoSample(this, `player/${statsName}`, event);\n        };\n      },\n    },\n  });\n})(window.Wistia);\n","(function(W) {\n  var allow3rdParty, eV1HostWithPort, eV1Protocol, merge, ref, ref1, runScripts, seqId, wData, wRemoveData;\n  if (!W.Plugin) {\n    W.Plugin = {};\n  }\n  if (W.Plugin.Base) {\n    return;\n  }\n  ref = require('utilities/hosts.js'), eV1HostWithPort = ref.eV1HostWithPort, eV1Protocol = ref.eV1Protocol;\n  allow3rdParty = require('utilities/pluginScriptsToLoad.js').allow3rdParty;\n  merge = require('utilities/obj.js').merge;\n  ref1 = require('utilities/wistiaData.js'), wData = ref1.wData, wRemoveData = ref1.wRemoveData;\n  seqId = require('utilities/seqid.js').seqId;\n  runScripts = require('utilities/script-utils.js').runScripts;\n  W.Plugin.Base = (function() {\n    function Base() {\n      this.pluginName = \"plugin\";\n      this;\n    }\n\n    Base.prototype.instances = function() {\n      return wData([\"plugins\", this.pluginName, this.video.uuid]);\n    };\n\n    Base.prototype.register = function(data) {\n      var target;\n      target = this.playlist || this.video || this.audio;\n      target.plugins[this.uuid] = data;\n      return wData([\"plugins\", this.pluginName, target.uuid, this.uuid], data);\n    };\n\n    Base.prototype.remove = function(options) {\n      var target;\n      if (options == null) {\n        options = {};\n      }\n      target = this.playlist || this.video || this.audio;\n      target.plugins[this.uuid] = null;\n      wRemoveData([\"plugins\", this.pluginName, target.uuid, this.uuid]);\n      if (target.plugins[this.uuid] === this) {\n        delete target.plugins[this.uuid];\n      }\n      if (target.plugin[this.pluginName] === this) {\n        delete target.plugin[this.pluginName];\n      }\n      if (!options.dontFit) {\n        W.grid.fitHorizontal(target);\n        return W.grid.fitVertical(target);\n      }\n    };\n\n    Base.prototype.fit = function() {};\n\n    Base.prototype.init = function(video, pluginOptions) {\n      if (video.plugins == null) {\n        video.plugins = {};\n      }\n      if (video != null ? video.playlist : void 0) {\n        this.playlist = video;\n      } else {\n        this.video = video;\n      }\n      this.target = this.playlist || this.video || this.audio;\n      this.options = pluginOptions || {};\n      this.params = merge({}, pluginOptions || {});\n      return this.uuid = this.params.uuid || seqId(\"wistia_\", \"_plugin\");\n    };\n\n    return Base;\n\n  })();\n  if (!W.plugin) {\n    W.plugin = function(name, callback) {\n      var ctx, initPlugin, initPluginNow, ref2, ref3, ref4;\n      if (ctx = (ref2 = W.pluginQueue) != null ? (ref3 = ref2[name]) != null ? ref3.shift() : void 0 : void 0) {\n        initPluginNow = function() {\n          var pluginHandle, ref4;\n          ctx.video.info('initializing plugin', name, ctx.options);\n          pluginHandle = callback(ctx.video._impl || ctx.video, ctx.options) || true;\n          ctx.video.plugin[name] = pluginHandle;\n          if (ctx.video._impl) {\n            ctx.video._impl.plugin[name] = pluginHandle;\n          }\n          ctx.video.trigger('plugininitialized', name);\n          return (ref4 = ctx.video._pluginStopGos) != null ? typeof ref4[name] === \"function\" ? ref4[name](true, pluginHandle) : void 0 : void 0;\n        };\n        initPlugin = function() {\n          if (ctx.options.initBeforeHasData) {\n            return initPluginNow();\n          } else {\n            return ctx.video.hasData(initPluginNow);\n          }\n        };\n        if (ctx.options.initBeforeHasData !== true && ((ref4 = ctx.video) != null ? ref4.looksDown() : void 0)) {\n          ctx.video.notice('W.plugin: delaying initialization of plugin until \"up\"', name, ctx.options);\n          ctx.video.bind('up', function() {\n            initPlugin();\n            return this.unbind;\n          });\n        } else {\n          if (ctx.video._implVersion === ctx.implVersion) {\n            initPlugin();\n          } else {\n            ctx.video.notice('W.plugin impl changed, ignoring initialization', name, ctx.options);\n          }\n        }\n      }\n      if (!W.plugin[name]) {\n        return W.plugin[name] = callback;\n      }\n    };\n    W.plugin._prefetched = {};\n    W.plugin._inject = function(video, pluginName, options) {\n      var defaultSrc, pluginScripts;\n      if (options == null) {\n        options = {};\n      }\n      if (options['on'] !== false) {\n        defaultSrc = (eV1Protocol()) + \"//\" + (eV1HostWithPort()) + \"/assets/external/\" + pluginName + \".js\";\n        pluginScripts = [\n          {\n            name: pluginName,\n            options: options,\n            src: options.src && W.plugin._allow3rdParty(video.options) ? options.src : defaultSrc,\n            async: true\n          }\n        ];\n        W.plugin._setFnForDefinedPlugins(video, pluginScripts);\n        return W.plugin._execQueue(video, pluginScripts);\n      }\n    };\n    W.plugin._allow3rdParty = function(options) {\n      return allow3rdParty(options);\n    };\n    W.plugin._setFnForDefinedPlugins = function(video, plugins) {\n      var i, len, results, script;\n      results = [];\n      for (i = 0, len = plugins.length; i < len; i++) {\n        script = plugins[i];\n        if (W.plugin[script.name]) {\n          results.push((function(script) {\n            script.fn = function() {\n              var initPluginNow;\n              initPluginNow = function() {\n                var name1, pluginHandle, ref2;\n                pluginHandle = W.plugin[script.name](video._impl || video, script.options) || true;\n                video.plugin[script.name] = pluginHandle;\n                if (video._impl) {\n                  video._impl.plugin[script.name] = pluginHandle;\n                  video.trigger('plugininitialized', script.name);\n                }\n                return (ref2 = video._pluginStopGos) != null ? typeof ref2[name1 = script.name] === \"function\" ? ref2[name1](true, pluginHandle) : void 0 : void 0;\n              };\n              if (script.options.initBeforeHasData) {\n                return initPluginNow();\n              } else {\n                return video.hasData(initPluginNow);\n              }\n            };\n            return script.async = false;\n          })(script));\n        }\n      }\n      return results;\n    };\n    W.plugin._queueUndefinedPlugins = function(video, plugins) {\n      var i, len, name, plugin, results, script;\n      if (W.pluginQueue == null) {\n        W.pluginQueue = {};\n      }\n      results = [];\n      for (i = 0, len = plugins.length; i < len; i++) {\n        plugin = plugins[i];\n        if (plugin.subScripts) {\n          results.push((function() {\n            var j, len1, ref2, results1;\n            ref2 = plugin.subScripts;\n            results1 = [];\n            for (j = 0, len1 = ref2.length; j < len1; j++) {\n              script = ref2[j];\n              name = script.name || script.src;\n              if (W.pluginQueue[name] == null) {\n                W.pluginQueue[name] = [];\n              }\n              if (!plugin.fn) {\n                results1.push(W.pluginQueue[name].push({\n                  video: video,\n                  implVersion: video._implVersion,\n                  options: script.options\n                }));\n              } else {\n                results1.push(void 0);\n              }\n            }\n            return results1;\n          })());\n        } else {\n          name = plugin.name || plugin.src;\n          if (W.pluginQueue[name] == null) {\n            W.pluginQueue[name] = [];\n          }\n          if (!plugin.fn) {\n            results.push(W.pluginQueue[name].push({\n              video: video,\n              implVersion: video._implVersion,\n              options: plugin.options\n            }));\n          } else {\n            results.push(void 0);\n          }\n        }\n      }\n      return results;\n    };\n    W.plugin._execQueue = function(video, plugins, callback) {\n      W.plugin._queueUndefinedPlugins(video, plugins);\n      return runScripts(plugins).then(callback);\n    };\n    W.plugin._init = function(pluginName, video, options) {\n      var instance, klass, klassName;\n      klassName = pluginName.charAt(0).toUpperCase() + pluginName.substr(1);\n      klass = W.Plugin[klassName];\n      instance = new klass();\n      instance.init(video, options);\n      return instance;\n    };\n    W.plugin._instance = function(pluginName, video, pluginUuid) {\n      return wData([\"plugins\", pluginName, video.uuid, pluginUuid]);\n    };\n    W.plugin._remove = function(pluginName, video, pluginUuid) {\n      var ref2;\n      if ((ref2 = W.plugin._instance(pluginName, video, pluginUuid)) != null) {\n        ref2.remove();\n      }\n    };\n    W.plugin._isActive = function(pluginName, video, pluginUuid) {\n      return !!W.plugin._instance(pluginName, video, pluginUuid);\n    };\n    return W.plugin._defined = function() {\n      var key, ref2, results, val;\n      ref2 = W.plugin;\n      results = [];\n      for (key in ref2) {\n        val = ref2[key];\n        if (!/^_/.test(key)) {\n          results.push({\n            name: key,\n            options: val\n          });\n        }\n      }\n      return results;\n    };\n  }\n})(Wistia);\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\nimport { setOrGet, removeLocalStorage } from 'utilities/legacyLocalstorage.js';\n\n(function (W) {\n  if (W.localStorage) {\n    return;\n  }\n\n  W.localStorage = setOrGet;\n  W.removeLocalStorage = removeLocalStorage;\n})(window.Wistia);\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport {\n  addInlineCss,\n  elemAppend,\n  elemFromObject,\n  elemHeight,\n  elemRemove,\n  elemStyle,\n  elemWidth,\n} from 'utilities/elem.js';\nimport { countMetric } from 'utilities/simpleMetrics.js';\nimport { seqId } from 'utilities/seqid.js';\nimport { pluginScriptsToLoad, getPluginsNotInList } from 'utilities/pluginScriptsToLoad.js';\nimport { generateHtml } from 'utilities/generate.js';\n\n(function (W) {\n  if (W.gridify) {\n    return;\n  }\n\n  W.gridifyCss = function (gridId) {\n    const containerId = gridId.replace(/_grid$/, '');\n    return `\\\n#${gridId}_wrapper{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}\n#${gridId}_wrapper *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}\n#${gridId}_above{position:relative;}\n#${gridId}_main{display:block;height:100%;position:relative;}\n#${gridId}_behind{height:100%;left:0;position:absolute;top:0;width:100%;}\n#${gridId}_center{height:100%;overflow:hidden;position:relative;width:100%;}\n#${gridId}_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}\n#${gridId}_top_inside{position:absolute;left:0;top:0;width:100%;}\n#${gridId}_top{width:100%;position:absolute;bottom:0;left:0;}\n#${gridId}_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}\n#${gridId}_bottom{width:100%;position:absolute;top:0;left:0;}\n#${gridId}_left_inside{height:100%;position:absolute;left:0;top:0;}\n#${gridId}_left{height:100%;position:absolute;right:0;top:0;}\n#${gridId}_right_inside{height:100%;right:0;position:absolute;top:0;}\n#${gridId}_right{height:100%;left:0;position:absolute;top:0;}\n#${gridId}_below{position:relative;}\\\n`;\n  };\n\n  W.gridifyHtml = (gridId) => ({\n    id: `${gridId}_wrapper`,\n\n    childNodes: [\n      { id: `${gridId}_above` },\n      {\n        id: `${gridId}_main`,\n        childNodes: [\n          { id: `${gridId}_behind` },\n          { id: `${gridId}_center` },\n          { id: `${gridId}_front` },\n          {\n            id: `${gridId}_top_inside`,\n            childNodes: { id: `${gridId}_top` },\n          },\n          {\n            id: `${gridId}_bottom_inside`,\n            childNodes: { id: `${gridId}_bottom` },\n          },\n          {\n            id: `${gridId}_left_inside`,\n            childNodes: { id: `${gridId}_left` },\n          },\n          {\n            id: `${gridId}_right_inside`,\n            childNodes: { id: `${gridId}_right` },\n          },\n        ],\n      },\n      { id: `${gridId}_below` },\n    ],\n  });\n\n  W.createGrid = function (video, options) {\n    const grid = W.createGridSkeleton();\n    W.initGridEventListeners(grid);\n    W.initGridDimensions(video, grid, options);\n    for (let node in grid) {\n      if (grid[node].nodeName !== 'STYLE' && video._opts._inLegacyPlaylist !== true) {\n        addTrackingForGrid(grid[node], video);\n      }\n    }\n    return grid;\n  };\n\n  // We want to learn how often the grid is maniupulated by 3rd party plugins.\n  // To do this, we're intercepting and monitoring calls to `append` and `appendChild`\n  // on the grid elems.\n  // playlist-v1 is ignored entirely, and we add a `wistiaGridCaller` to other internal\n  // calls to the grid to stop us from tracking our own usage\n  const addTrackingForGrid = (node, video) => {\n    node.originalAppendChild = node.appendChild;\n    node.originalAppend = node.append;\n    node.originalPrepend = node.prepend;\n\n    node.appendChild = (val, opts) => {\n      if (opts == null) {\n        opts = {};\n      }\n      if (opts.wistiaGridCaller !== true && W._hasTrackedGrid !== true) {\n        W._hasTrackedGrid = true;\n        trackGridAppend(video);\n      }\n      return node.originalAppendChild(val);\n    };\n\n    node.append = (val, opts) => {\n      if (opts == null) {\n        opts = {};\n      }\n      if (opts.wistiaGridCaller !== true && W._hasTrackedGrid !== true) {\n        W._hasTrackedGrid = true;\n        trackGridAppend(video);\n      }\n      return node.originalAppend(val);\n    };\n\n    return (node.prepend = (val, opts) => {\n      if (opts == null) {\n        opts = {};\n      }\n      if (opts.wistiaGridCaller !== true && W._hasTrackedGrid !== true) {\n        W._hasTrackedGrid = true;\n        trackGridAppend(video);\n      }\n      return node.originalPrepend(val);\n    });\n  };\n\n  const trackGridAppend = function (video) {\n    const pluginScripts = pluginScriptsToLoad(video._mediaData, video._opts);\n\n    return countMetric('custom-plugin-grid-append', 1, {\n      hashedId: video._mediaData.hashedId,\n      href: window.location.href,\n      plugins: getPluginsNotInList(pluginScripts),\n    });\n  };\n\n  W.createGridSkeleton = function () {\n    const gridId = seqId('wistia_grid_');\n    const gridRoot = elemFromObject(W.gridifyHtml(gridId));\n    const gridCss = addInlineCss(gridRoot, W.gridifyCss(gridId));\n\n    // Return an object with easy access to different grid sections,\n    // e.g. grid.above, grid.center, grid.right.\n    const result = {};\n    result.css = gridCss;\n    result.root = gridRoot;\n\n    // Actually add grid to the DOM so we can get handles to each section\n    // using document.getElementById.\n    elemStyle(gridRoot, { display: 'none' });\n    elemAppend(document.body, gridRoot);\n\n    // Setup the DOM handles.\n    const sectors = [\n      'wrapper',\n      'main',\n      'above',\n      'below',\n      'top',\n      'right',\n      'bottom',\n      'left',\n      'top_inside',\n      'right_inside',\n      'bottom_inside',\n      'left_inside',\n      'front',\n      'center',\n      'behind',\n    ];\n    for (let sector of Array.from(sectors)) {\n      result[sector] = document.getElementById(`${gridId}_${sector}`);\n    }\n\n    // Detach the grid from the DOM. Up to the caller to use it or not.\n    elemRemove(gridRoot);\n    elemStyle(gridRoot, { display: 'block' });\n\n    return result;\n  };\n\n  W.initGridEventListeners = (grid) =>\n    grid.center.addEventListener(\n      'scroll',\n      () =>\n        // You'd think the grid center can't scroll, because it has\n        // overflow: hidden... but you would be mistaken! It can be scrolled when\n        // a descendant element that's overflowing it gets focus, which can happen\n        // for things like opening the context menu (momentarily overflows before\n        // we determine that it's overflowing and render it in a different\n        // direction), and on tabbing to the control bar buttons when they're\n        // hidden (and translated down such that they overflow the bottom of the\n        // player) due to the player's narrowness, i.e. when we show the ellipsis\n        // control. Such scrolling is undesired, so we unscroll it here.\n        (grid.center.scrollTop = 0),\n    );\n\n  W.initGridDimensions = function (video, grid, extra) {\n    if (extra == null) {\n      extra = {};\n    }\n    if (extra.initDimensions === false) {\n      return;\n    }\n    const container = video._embedContainer;\n    const { chrome } = video;\n    const options = video._opts;\n    chrome.style.height = `${elemHeight(container)}px`;\n    return (grid.main.style.width = `${elemWidth(container)}px`);\n  };\n\n  W.gridify = function (options, container) {\n    const result = {};\n    const gridId = `${container.id}_grid`;\n\n    container.innerHTML = generateHtml(W.gridifyHtml(gridId));\n    for (let sector of [\n      'wrapper',\n      'main',\n      'above',\n      'below',\n      'top',\n      'right',\n      'bottom',\n      'left',\n      'top_inside',\n      'right_inside',\n      'bottom_inside',\n      'left_inside',\n      'front',\n      'center',\n      'behind',\n    ]) {\n      result[sector] = document.getElementById(`${gridId}_${sector}`);\n    }\n    addInlineCss(result.wrapper, W.gridifyCss(gridId));\n\n    result.wrapper.style.height = `${elemHeight(container)}px`;\n    result.main.style.width = `${elemWidth(container)}px`;\n\n    return result;\n  };\n\n  W.isGridElem = function (grid, elem) {\n    for (let sectionName in grid) {\n      let sectionElem = grid[sectionName];\n      if (elem === sectionElem) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  W.grid = {};\n  W.grid.allNodesHidden = function (nodes) {\n    if (nodes.length === 0) {\n      return true;\n    }\n    for (let node of Array.from(nodes)) {\n      if (node.style && node.style.display !== 'none') {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  W.grid.zeroEmptySections = (video) =>\n    (() => {\n      const result = [];\n      for (let section of ['top', 'bottom', 'left', 'right', 'above', 'below']) {\n        let elem = video.grid[section];\n        if (!elem.childNodes.length) {\n          elem.appendChild(document.createTextNode(' '), { wistiaGridCaller: true });\n          elem.style.height = '0px';\n          elem.style.fontSize = '0px';\n          elem.style.lineHeight = '0px';\n          result.push((elem.isEmpty = true));\n        } else if (W.grid.allNodesHidden(elem.childNodes)) {\n          elem.style.height = '0px';\n          elem.style.fontSize = '0px';\n          elem.style.lineHeight = '0px';\n          result.push((elem.isEmpty = true));\n        } else {\n          elem.style.height = '';\n          elem.style.fontSize = '';\n          result.push((elem.style.lineHeight = ''));\n        }\n      }\n      return result;\n    })();\n\n  W.grid.wrapperHeight = function (video) {\n    const { wrapper } = video.grid;\n\n    // resize the video so top/bottom grid elems fit too\n    const wrapperHeight = elemHeight(wrapper);\n\n    return wrapperHeight;\n  };\n\n  W.grid.wrapperWidth = function (video) {\n    const { wrapper } = video.grid;\n\n    // resize the video so top/bottom grid elems fit too\n    const wrapperWidth = elemWidth(wrapper);\n\n    return wrapperWidth;\n  };\n\n  W.grid.fitVertical = function (video) {\n    if (video._opts.dontFit) {\n      return;\n    }\n\n    W.grid.zeroEmptySections(video);\n    const { grid } = video;\n    const { main } = grid;\n    const { wrapper } = grid;\n    const th = Math.max(elemHeight(grid.above), elemHeight(grid.top));\n    const bh = Math.max(elemHeight(grid.below), elemHeight(grid.bottom));\n\n    const newHeight = Math.max(0, W.grid.wrapperHeight(video) - th - bh);\n    main.style.height = `${newHeight}px`;\n\n    if (elemWidth(grid.left) === 0) {\n      main.style.left = '0px';\n    }\n    main.style.marginTop = `${elemHeight(grid.top)}px`;\n  };\n\n  W.grid.fitHorizontal = function (video) {\n    if (video._opts.dontFit) {\n      return;\n    }\n\n    W.grid.zeroEmptySections(video);\n    const { grid } = video;\n    const { wrapper } = grid;\n    const { main } = grid;\n    const lw = elemWidth(grid.left);\n    const rw = elemWidth(grid.right);\n\n    // resize the video so left/right grid elems fit too\n    const newWidth = W.grid.wrapperWidth(video) - lw - rw;\n    main.style.width = `${newWidth}px`;\n    main.style.left = `${lw}px`;\n  };\n\n  W.grid.fit = function (video, position) {\n    if (/left|right/.test(position)) {\n      W.grid.fitHorizontal(video);\n    } else if (/top|bottom|above|below/.test(position)) {\n      W.grid.fitVertical(video);\n    }\n    video.ieSizeHack();\n  };\n})(window.Wistia);\n","var slice = [].slice;\n\n(function(W) {\n  var IframeApiProxy, dynamicImport, elemRebind, elemUnbind, k, ref, ref1, v;\n  ref = require('utilities/elem.js'), elemRebind = ref.elemRebind, elemUnbind = ref.elemUnbind;\n  dynamicImport = require('utilities/dynamicImport.ts').dynamicImport;\n  if (!W.iframeInit) {\n    W.iframeInit = function(media, options) {\n      return dynamicImport('assets/external/insideIframe.js').then(function(mod) {\n        return mod.iframeInit(media, options);\n      });\n    };\n  }\n  if (!W.IframeApiProxy) {\n    IframeApiProxy = (function() {\n      function IframeApiProxy(iframe1) {\n        this.iframe = iframe1;\n        this.loadIframeApi();\n      }\n\n      IframeApiProxy.prototype.loadIframeApi = function() {\n        return new Promise((function(_this) {\n          return function(resolve) {\n            return setTimeout(function() {\n              return dynamicImport('assets/external/iframeApi.js').then((function(_this) {\n                return function() {\n                  _this._loaded = true;\n                  return resolve();\n                };\n              })(this));\n            }, 0);\n          };\n        })(this));\n      };\n\n      IframeApiProxy.prototype.proxyFn = function() {\n        var args, methodName, ref1;\n        methodName = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n        if (this._loaded) {\n          return (ref1 = this.iframe.wistiaApi)[methodName].apply(ref1, args);\n        } else {\n          this.loadIframeApi().then((function(_this) {\n            return function() {\n              var ref2;\n              if (_this.iframe.wistiaApi !== _this) {\n                return (ref2 = _this.iframe.wistiaApi)[methodName].apply(ref2, args);\n              }\n            };\n          })(this));\n          return this;\n        }\n      };\n\n      IframeApiProxy.prototype._hasImpl = function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return this.proxyFn.apply(this, ['_hasImpl'].concat(slice.call(args)));\n      };\n\n      IframeApiProxy.prototype.hasData = function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return this.proxyFn.apply(this, ['hasData'].concat(slice.call(args)));\n      };\n\n      IframeApiProxy.prototype.embedded = function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return this.proxyFn.apply(this, ['embedded'].concat(slice.call(args)));\n      };\n\n      IframeApiProxy.prototype.ready = function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return this.proxyFn.apply(this, ['ready'].concat(slice.call(args)));\n      };\n\n      IframeApiProxy.prototype.up = function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return this.proxyFn.apply(this, ['up'].concat(slice.call(args)));\n      };\n\n      IframeApiProxy.prototype.down = function() {\n        return this.proxyFn.apply(this, ['down'].concat(slice.call(args)));\n      };\n\n      return IframeApiProxy;\n\n    })();\n    ref1 = W.PublicApi.prototype;\n    for (k in ref1) {\n      v = ref1[k];\n      if (!IframeApiProxy.prototype[k] && typeof v === 'function') {\n        (function(k) {\n          return IframeApiProxy.prototype[k] = function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return this.proxyFn.apply(this, [k].concat(slice.call(args)));\n          };\n        })(k);\n      }\n    }\n    W.IframeApiProxy = IframeApiProxy;\n  }\n  if (W.maybeRequireIframeApi == null) {\n    W.maybeRequireIframeApi = function() {\n      var i, iframe, len, results, wistiaIframes;\n      wistiaIframes = document.querySelectorAll('iframe.wistia_embed,iframe[name=wistia_embed],iframe.wistia_playlist,iframe[name=wistia_playlist]');\n      if (wistiaIframes.length > 0) {\n        results = [];\n        for (i = 0, len = wistiaIframes.length; i < len; i++) {\n          iframe = wistiaIframes[i];\n          if (!iframe.wistiaApi) {\n            results.push(iframe.wistiaIframeApiProxy = iframe.wistiaApi = new IframeApiProxy(iframe));\n          } else {\n            results.push(void 0);\n          }\n        }\n        return results;\n      }\n    };\n  }\n  if (W.onIframePostMessage == null) {\n    W.onIframePostMessage = function(event) {\n      if (event.data === 'new-wistia-iframe') {\n        dynamicImport('assets/external/iframeApi.js');\n        return elemUnbind;\n      }\n    };\n  }\n  elemRebind(window, 'message', W.onIframePostMessage);\n  W.bind('ev1initend', function() {\n    W.maybeRequireIframeApi();\n    return elemRebind(window, 'message', W.onIframePostMessage);\n  });\n  return W.bind('ev1destroystart', function() {\n    return elemUnbind(window, 'message', W.onIframePostMessage);\n  });\n})(Wistia);\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport { globalBind } from 'utilities/globalBindAndTrigger.js';\nimport { isVisitorTrackingEnabled } from 'utilities/trackingConsentApi.js';\nimport { uniqId } from 'utilities/uniqId.js';\nimport { onFindApiHandle, ALL_API_HANDLES_KEY } from 'utilities/onFindApiHandle.ts';\n\n(function (Wistia) {\n  const W = Wistia;\n\n  if (W.VisitorKey) {\n    return;\n  }\n\n  const DISTILLERY_PREFIX = '__distillery';\n\n  globalBind('visitortrackingchange', (val, domain) => {\n    // post the message down to all iframes whenever this changes.\n    for (let v of Array.from(W.api.all())) {\n      v._postDownVisitorTrackingEnabled?.();\n    }\n\n    if (W.visitorKey) {\n      const isEnabled = isVisitorTrackingEnabled();\n      if (isEnabled) {\n        if (W.visitorKey.value()) {\n          return W.visitorKey.persist(W.visitorKey.value());\n        }\n      } else {\n        W.visitorKey.unpersist();\n        return W._destructors.destroyMux?.();\n      }\n    }\n  });\n\n  W.VisitorKey = class VisitorKey {\n    constructor() {\n      this.ready = this.ready.bind(this);\n      this.unbinds = [];\n\n      // In a timeout because we'll want to make sure rendering has\n      // completed before we try to access the DOM\n      setTimeout(() => {\n        return this.unbinds.push(\n          onFindApiHandle(ALL_API_HANDLES_KEY, (video) => {\n            return video.hasData(() => {\n              if (!video.iframe && video._mediaData?.privacyMode === true) {\n                this.unpersist();\n              }\n              return this.ready();\n            });\n          }),\n        );\n      }, 0);\n    }\n\n    ready() {\n      if (this._readyPromise) {\n        return this._readyPromise;\n      }\n\n      this._readyPromise = new Promise((resolve) => {\n        if (!this.savedValue()) {\n          this.persist(W.VisitorKey.generate());\n        }\n        resolve();\n      });\n\n      return this._readyPromise;\n    }\n\n    reinitialize() {\n      this.destroy();\n      this.unbinds = [];\n      this._readyPromise = null;\n      return this.ready();\n    }\n\n    persist(newValue) {\n      if (!W.VisitorKey.isValid(newValue)) {\n        this.error(new Error(`Attempted to persist invalid visitor key '${newValue}'`));\n        return;\n      }\n\n      this.info('@persist', newValue);\n\n      // Persist to memory for speed.\n      this._value = newValue;\n\n      if (!isVisitorTrackingEnabled()) {\n        return;\n      }\n\n      // Persist via localStorage. This is so all iframes on the page can access\n      // the value immediately.\n      if (window.wistiaDisableCookies !== true && this.localStorageValue() !== this._value) {\n        return W.localStorage(DISTILLERY_PREFIX, this._value);\n      }\n    }\n\n    unpersist() {\n      return this.clearFromCurrentDomain();\n    }\n\n    clear() {\n      this.info('clear');\n      this.unpersist();\n      return (this._value = null);\n    }\n\n    clearFromCurrentDomain() {\n      return W.removeLocalStorage(DISTILLERY_PREFIX, null);\n    }\n\n    value() {\n      let result = this._value || this.savedValue();\n      if (!result) {\n        result = W.VisitorKey.generate();\n        this.persist(result);\n      }\n      return result;\n    }\n\n    savedValue() {\n      if (isVisitorTrackingEnabled()) {\n        return this.localStorageValue();\n      }\n      return undefined;\n    }\n\n    localStorageValue() {\n      return W.localStorage(DISTILLERY_PREFIX);\n    }\n\n    isValid() {\n      return W.VisitorKey.isValid(this.value());\n    }\n\n    destroy() {\n      for (let u of Array.from(this.unbinds)) {\n        u();\n      }\n      return (this.unbinds = []);\n    }\n\n    static isValid(key) {\n      return key?.length > 25 && /^[a-z0-9_\\-.]+$/i.test(key);\n    }\n\n    static generate() {\n      return uniqId(`${__FINGERPRINT_SHA__.substring(0, 7)}_`);\n    }\n  };\n\n  // Allow @warn, @error, @info, etc. in VisitorKey.\n  W.mixin(W.VisitorKey.prototype, W.logHelpers);\n\n  W._initializers.initVisitorKey = () => (W.visitorKey = new W.VisitorKey());\n\n  return (W._destructors.destroyVisitorKey = function () {\n    W.visitorKey?.destroy();\n    return (W.visitorKey = null);\n  });\n})(window.Wistia);\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n// This makes the first embedded video seek to a time derived from the host page's 'wtime' param if given.\n//\n((W) =>\n  (W._initializers.initSpecificTime = function () {\n    try {\n      // Execute only if E-v1.js is called from the host page\n      if (parent !== self) {\n        return;\n      }\n      // And if there is a wtime param in the URL\n      const time = location.href.match(/[?&]wtime=([\\dhms]*)/);\n      const hashedId = location.href.match(/[?&]wvideo(id)?=([^&]+)/)?.[2];\n      if (!(time?.length >= 2)) {\n        return;\n      }\n      // And if this function has been initiated (reduces the probability of collisions)\n      if (W._specificTimeInitiated) {\n        return;\n      }\n      W._specificTimeInitiated = true;\n      let foundAVideo = false;\n      return window.wistiaEmbeds.onFind((video) => {\n        if (hashedId && video.hashedId() !== hashedId) {\n          return;\n        }\n\n        // And finally, only set the time when a video was not immediately found\n        if (!foundAVideo) {\n          foundAVideo = true;\n          video.embedded(() => video.popover?.show());\n          return video.time(time[1]).play();\n        }\n      });\n    } catch (e) {\n      W.error(e);\n      return (W._specificTimeInitiated = false);\n    }\n  }))(window.Wistia);\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\nimport Interpolation from 'interpolation.js';\n\n(function (W) {\n  if (W.Interpolation) {\n    return;\n  }\n  return (W.Interpolation = Interpolation);\n})(window.Wistia);\n","/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS201: Simplify complex destructure assignments\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n// ## PURPOSE\n//\n// Sometimes you have two discrete values and instead of showing them\n// immediately, you want to animate toward those values. That can be useful when\n// showing a progress bar or changing a percentage, for instance.\n//\n// A use case based on time (i.e. using current time as a \"seed\") is the most\n// obvious, but interpolation can also be used to translate between two\n// intervals. For example, if you want to get a scrub bar pixel location based\n// on the current time of the video, that can also be configured.\n//\n// Both of the above cases are solveable without this class, but this provides\n// a nice way to get values on an arbitrary timeline while also applying an\n// easing function.\n//\n// ## USAGE\n//\n// Get some basic interpolated values over 10 seconds:\n//\n// ```javascript\n// interpolation = new Interpolation({ seedRange: 10000 })\n// setInterval(function() {\n//   console.log(interpolation.value());\n// }, 500);\n// ```\n//\n// Translate the video's time into a scrub bar position, considering dynamically\n// changing width and duration, with quadratic easing (because why not?).\n//\n// ```javascript\n// timeToPx = new Interpolation({\n//   seed: function() { return video.time(); },\n//   seedRange: function() { return video.duration(); },\n//   outputStart: 0,\n//   outputEnd: function() { return video.videoWidth(); },\n//   easing: Interpolation.easeInOut\n// });\n//\n// video.bind(\"timechange\", function() {\n//   video.scrubBar.style.width = \"\" + Math.round(timeToPx.value()) + \"px\";\n// });\n// ```\n//\n// ## OPTIONS\n//\n// ### seedRange (required)\n//\n// Must be an integer representing the maximum seedRange of seed values. This can\n// be negative or positive.\n//\n// ### seedFunction\n//\n// This is a function used to compute a seed value at a given instant in time.\n// When you instantiate an Interpolation, it is immediately called to get a\n// starting seed value. It is used to get the current delta when computing the\n// `value()` function.\n//\n// Default assumes a time-based seed:\n//\n//     function() { return new Date().getTime() }\n//\n// ### seedStart\n//\n// The first value to use as a seed. By default this takes on the value of\n// `seedFunction()` at time of initialization.\n//\n// ### outputStart\n//\n// This is the start value of the output range. Default is 0.\n//\n// ### outputEnd\n//\n// This is the end value of the output range. Default is 1.\n//\n// ### easing\n//\n// This is a function used to apply a transformation when running `value()`. It\n// ships with two built-in easings: `Interpolation.linear`, and\n// `Interpolation.easeInOut`. You can write custom easings by providing a\n// function like so:\n//\n// ```javascript\n// new Interpolation({\n//   range: 10000,\n//   easing: function(outputRange, seedDelta, seedRange, outputStart) {\n//     // random easing\n//     return outputStart + Math.random() * outputRange;\n//   });\n// });\n// ```\n//\n// For more formulas and explanation, visit http://gizma.com/easing/. If you're\n// mapping closely to that page, you can use the same variable names like so:\n//\n// ```javascript\n// new Interpolation({\n//   range: 10000,\n//   easing: function(c, t, d, b) {\n//     // random easing\n//     return b + Math.random() * c;\n//   });\n// });\n// ```\nclass Interpolation {\n  constructor(...args) {\n    const obj = args[0];\n    const { seedRange, seedFunction, seedStart } = obj;\n    const val = obj.outputStart;\n    const outputStart = val != null ? val : 0;\n    const val1 = obj.outputEnd;\n    const outputEnd = val1 != null ? val1 : 1;\n    const val2 = obj.easing;\n    const easing = val2 != null ? val2 : Interpolation.linear;\n    if (seedRange == null) {\n      throw new Error('Must provide seedRange argument');\n    }\n    if (seedFunction != null && typeof seedFunction !== 'function') {\n      throw new Error('Given seed is not a function');\n    }\n    if (typeof easing !== 'function') {\n      throw new Error(`Invalid easing function given: ${this.easing}`);\n    }\n    this._seedRange = seedRange;\n    this._seedFunction = seedFunction || (() => new Date().getTime());\n    this._outputStart = outputStart;\n    this._outputEnd = outputEnd;\n    this._easing = easing;\n    this._seedStart = seedStart?.() || this.seed();\n  }\n\n  seed() {\n    return this.seedFunction()();\n  }\n\n  seedStart() {\n    return this._seedStart;\n  }\n\n  seedRange() {\n    return this._valOrFn(this._seedRange);\n  }\n\n  seedFunction() {\n    return this._seedFunction;\n  }\n\n  outputStart() {\n    return this._valOrFn(this._outputStart);\n  }\n\n  outputEnd() {\n    return this._valOrFn(this._outputEnd);\n  }\n\n  easing() {\n    return this._valOrFn(this._easing);\n  }\n\n  value() {\n    return this._easing(...Array.from(this.easingArgs() || []));\n  }\n\n  atEnd() {\n    return this.ratio() === 1;\n  }\n\n  atStart() {\n    return this.ratio() === 0;\n  }\n\n  easingArgs() {\n    return [this.c(), this.t(), this.d(), this.b()];\n  }\n\n  seedDelta() {\n    if (this.seedRange() > 0) {\n      return Math.min(this.seedRange(), this.seed() - this.seedStart());\n    }\n    if (this.seedRange() < 0) {\n      return Math.max(this.seedRange(), this.seed() - this.seedStart());\n    }\n    return 0;\n  }\n\n  ratio() {\n    let ratioChange;\n    const seedRange = this.seedRange();\n    if (seedRange === 0) {\n      return 1;\n    }\n    return (ratioChange = Math.max(0, Math.min(1, this.seedDelta() / seedRange)));\n  }\n\n  // For ease of translation of formulas from http://gizma.com/easing/, setup\n  // aliases for our js. A couple basic ones are implemented below.\n  c() {\n    return this.outputEnd() - this.outputStart();\n  }\n\n  t() {\n    return this.seedDelta();\n  }\n\n  d() {\n    return this.seedRange();\n  }\n\n  b() {\n    return this.outputStart();\n  }\n\n  _valOrFn(val) {\n    if (typeof val === 'function') {\n      return val();\n    }\n    return val;\n  }\n\n  static linear(c, t, d, b) {\n    return (c * t) / (d || 1) + b;\n  }\n\n  static easeInOut(c, t, d, b) {\n    t /= (d || 1) / 2;\n    if (t < 1) {\n      return (c / 2) * t * t + b;\n    }\n    t -= 1;\n    return (-c / 2) * (t * (t - 2) - 1) + b;\n  }\n}\n\nexport default Interpolation;\n","import W from 'wistia_namespace.js';\nimport { pageLoaded } from 'utilities/elem.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\n\nconst hasAnyIntegrations = (video) => {\n  if (video._mediaData && video._mediaData.integrations) {\n    for (let k in video._mediaData.integrations) {\n      if (video._mediaData.integrations[k]) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nwindow._wq = window._wq || [];\nwindow._wq.push({\n  id: '_all',\n  onHasData: (video) => {\n    if (hasAnyIntegrations(video)) {\n      pageLoaded(() => {\n        setTimeout(() => {\n          dynamicImport('assets/external/allIntegrations.js').then((mod) => {\n            mod.runIntegrationsSetup();\n          });\n        }, 1000);\n      });\n    }\n  },\n});\n","var getDefaultTranslation;\n\ngetDefaultTranslation = require('../../shared/translations.js').getDefaultTranslation;\n\n(function(W) {\n  var initializeEveryTime, initializeOnce;\n  initializeOnce = W.initializeOnce = function() {\n    var ref;\n    W._initializers.initDetect();\n    W._initializers.initWLog();\n    W._initializers.initVisitorKey();\n    if ((ref = W._initializers) != null ? ref.initEventLoop : void 0) {\n      W._initializers.initEventLoop();\n    }\n    W._initializers.initFullscreenTriggers();\n    W.trigger('ev1initonce');\n    return performance.mark('player_init_start');\n  };\n  initializeEveryTime = W.initializeEveryTime = function() {\n    var ref, ref1, ref2, ref3;\n    W.trigger('ev1initstart');\n    if ((ref = W._initializers) != null ? ref.initEmbedShepherd : void 0) {\n      W._initializers.initEmbedShepherd();\n    }\n    if ((ref1 = W._initializers) != null ? ref1.initMux : void 0) {\n      W._initializers.initMux();\n    }\n    if ((ref2 = W._initializers) != null ? ref2.initAsyncEmbeds : void 0) {\n      W._initializers.initAsyncEmbeds();\n    }\n    W._initializers.initSpecificTime();\n    getDefaultTranslation();\n    if ((ref3 = W.eventLoop) != null) {\n      ref3.resync();\n    }\n    return W.trigger('ev1initend');\n  };\n  W.destroy = function() {\n    W.trigger('ev1destroystart');\n    W._destructors.destroyAsyncEmbeds();\n    W._destructors.destroyEmbedShepherd();\n    W._destructors.destroyEmbedLinks();\n    W._destructors.destroyFullscreenTriggers();\n    W._destructors.destroyEventLoop();\n    W._destructors.destroyVisitorKey();\n    W._destructors.destroyWLog();\n    W._destructors.destroyMux();\n    return W.trigger('ev1destroyend');\n  };\n  W.destroyGlobals = function() {\n    var k, results, v;\n    window.Wistia = null;\n    window.wistiaApi = null;\n    window.wistiaDispatch = null;\n    window.wistiaBindIframes = null;\n    window.wistiaEmbeds = null;\n    window._wistiaElemId = null;\n    window.wistiaInitQueue = null;\n    window.wistiaInit = null;\n    window.wistiaEmbedShepherdReady = null;\n    results = [];\n    for (k in window) {\n      v = window[k];\n      if (/^wistiajson/.test(k)) {\n        results.push(window[k] = null);\n      } else {\n        results.push(void 0);\n      }\n    }\n    return results;\n  };\n  W.reinitialize = function() {\n    W.destroy();\n    W.initializeOnce();\n    return W.initializeEveryTime();\n  };\n  if (!W._initialized) {\n    W._initialized = true;\n    W.initializeOnce();\n  }\n  return W.initializeEveryTime();\n})(Wistia);\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport {\n  shorterThanResumableThreshold,\n  withinResumableTime,\n} from 'utilities/resumableVideoData.js';\nimport { onDocReady } from 'utilities/docReady.js';\nimport { LiveMediaTracker } from 'analytics';\nimport * as Judy from 'utilities/judy.js';\nimport Color from 'utilities/color.js';\nimport { inUserEventContext } from 'utilities/elem.js';\nimport { merge, equalsDeep, clone } from 'utilities/obj.js';\nimport { clearTimeouts, doTimeout } from 'utilities/timeout-utils.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport { defineControl } from '../../../shared/control_definitions.js';\nimport './video/controls/AudioDescriptionControl/AudioDescriptionControl.js';\nimport './video/controls/CaptionsV3ButtonControl/CaptionsV3ButtonControl.js';\nimport './video/controls/BackgroundFocusControl.js';\nimport './video/controls/BigPlayButtonControl.js';\nimport './video/controls/ClickForSoundControl/ClickForSoundControl.js';\nimport './shared/controls/ContextMenuControl/ContextMenuControl.js';\nimport './video/controls/EllipsisButtonControl.js';\nimport './video/controls/FocusOutlineControl.js';\nimport './video/controls/FullscreenButtonControl/FullscreenButtonControl.js';\nimport './shared/controls/LoadingHourglassControl/LoadingHourglassControl.js';\nimport './video/controls/PlaybarControl.js';\nimport './video/controls/PlayPauseNotifierControl.js';\nimport './video/controls/PlaybarlessProgressIndicatorControl.js';\nimport './video/controls/SettingsControl/SettingsControl.js';\nimport './shared/controls/SmallPlayButtonControl.js';\nimport './video/controls/StatusBarControl/StatusBarControl.js';\nimport './video/controls/ThumbnailControl/ThumbnailControl.js';\nimport './video/controls/VolumeButtonControl.js';\nimport './video/controls/LiveStreamStatusControl/LiveStreamStatusControl.js';\nimport BandwidthTestBehavior from './behaviors/BandwidthTestBehavior.js';\nimport EmbedBehavior from './behaviors/EmbedBehavior.js';\nimport FullscreenBehavior from './behaviors/FullscreenBehavior.js';\nimport MetricsBehavior from './behaviors/MetricsBehavior.js';\nimport PlaybackErrorHandlingBehavior from './behaviors/PlaybackErrorHandlingBehavior.js';\nimport { ProblemMonitoringBehavior } from './behaviors/ProblemMonitoringBehavior.js';\nimport RelayEventsBehavior from './behaviors/RelayEventsBehavior.js';\nimport ResumableBehavior from './behaviors/ResumableBehavior.js';\nimport UIBehavior from './behaviors/UIBehavior.js';\nimport { PlaySuspendedOffScreenBehavior } from './behaviors/PlaySuspendedOffScreenBehavior.js';\nimport { getDurationAfterCuts } from './engines/simple_video/cutsCalc.js';\nimport { allHlsAudioAssets, audioTracksForVideo } from './engines/hls_video/hls_assets.js';\nimport { PLAYER_VERSION } from '../../../../utilities/player-version.js';\n\nconst detect = cachedDetect();\n\nif (!W.VulcanV2Player) {\n  const Video = W.Video;\n  class VulcanV2Player extends Video {\n    constructor(publicApi) {\n      super(publicApi);\n      this.playerType = 'vulcan-v2';\n      this._enabledControls = {};\n      this._visibilityRequests = {};\n      this._inputContextsToEnter = [];\n      this._playerContext = [];\n      this._overlays = {};\n      this._initialized = this.setupBehaviors();\n      this._isKeyboardFocused = undefined;\n\n      // setup tracking initialization\n      this.setupTracking();\n\n      if (publicApi._playlist && publicApi._playlist.length > 1) {\n        this.loadLastFrameCanvasControl();\n      }\n\n      this.on('playlistchange', (playlist) => {\n        if (playlist.length > 1) {\n          this.loadLastFrameCanvasControl();\n        }\n      });\n\n      const unbindBeforeReplace = this.on('beforereplace', () => {\n        unbindBeforeReplace();\n\n        // This might not finish loading in time for this replaceWith, but at\n        // least it'll be there for the next one.\n        this.loadLastFrameCanvasControl();\n      });\n\n      onDocReady(() => {\n        dynamicImport('assets/external/playPauseLoadingControl.js').then((moduleClass) => {\n          defineControl(moduleClass.PlayPauseLoadingCircleControl);\n        });\n\n        if (detect.touchScreen && !this.publicApi.isLiveMedia()) {\n          dynamicImport('assets/external/skipControls.js').then((moduleClass) => {\n            defineControl(moduleClass.SkipAheadControl);\n            defineControl(moduleClass.SkipBackControl);\n          });\n        }\n      });\n\n      if (this._opts.techInfo) {\n        dynamicImport(\n          'assets/external/vulcanV2Player/video/controls/TechInfoControl/TechInfoControl.js',\n        ).then((moduleClass) => {\n          defineControl(moduleClass.TechInfoControl);\n        });\n      }\n\n      if (this._opts.spherical) {\n        dynamicImport(\n          'assets/external/vulcanV2Player/video/controls/SphericalControl/SphericalControl.js',\n        ).then((moduleClass) => {\n          defineControl(moduleClass.SphericalControl);\n        });\n      }\n\n      if (this.publicApi.isLiveMedia()) {\n        dynamicImport('assets/external/captions-v3.js').then((moduleClass) => {\n          defineControl(moduleClass.CaptionsV3Control);\n        });\n      }\n    }\n\n    loadLastFrameCanvasControl() {\n      this.ready(() => {\n        dynamicImport(\n          'assets/external/vulcanV2Player/video/controls/LastFrameCanvasControl.js',\n        ).then((moduleClass) => {\n          defineControl(moduleClass.LastFrameCanvasControl);\n        });\n      });\n    }\n\n    setupBehaviors() {\n      return new Promise((resolve) => {\n        this.addBehaviors([\n          BandwidthTestBehavior,\n          EmbedBehavior,\n          FullscreenBehavior,\n          MetricsBehavior,\n          PlaySuspendedOffScreenBehavior,\n          PlaybackErrorHandlingBehavior,\n          ProblemMonitoringBehavior,\n          RelayEventsBehavior,\n        ]);\n\n        if (!this.publicApi.isLiveMedia()) {\n          this.addBehavior(ResumableBehavior);\n        }\n\n        if (this._mediaData.type === 'Audio') {\n          Promise.all([\n            dynamicImport('assets/external/vulcanV2Player/audio/AudioUIBehavior.js'),\n            dynamicImport('assets/external/interFontFace.js'),\n          ]).then(([moduleClass]) => {\n            this.addBehavior(moduleClass.AudioUIBehavior);\n            resolve();\n          });\n        } else {\n          this.addBehavior(UIBehavior);\n          resolve();\n        }\n      });\n    }\n\n    removeBehaviors() {\n      for (let handle in this.behaviors) {\n        if (Object.hasOwn(this.behaviors, handle)) {\n          this.removeBehavior(handle);\n        }\n      }\n    }\n\n    setupTracking() {\n      // have a Live media use its own tracker, since we don't have\n      // things like duration available to us\n      if (this.publicApi.isLiveMedia()) {\n        this._tracker = new LiveMediaTracker(this.publicApi);\n        this._tracker.monitor();\n      } else {\n        this._tracker = new W.VideoTracker2(this.publicApi);\n        this._tracker.visitorKey();\n        this._tracker.monitor();\n      }\n    }\n\n    elem() {\n      if (this.engine) {\n        return this.engine.getMediaElement();\n      }\n      // Return a dummy in case monitor() runs before we have a video\n      // element. If this doesn't return something, it'll think the embed is\n      // dead and try to remove it!\n      if (!this._dummyVideo) {\n        this._dummyVideo = document.createElement('video');\n      }\n      return this._dummyVideo;\n    }\n\n    embed(oldImpl) {\n      return this._initialized.then(() => {\n        if (oldImpl instanceof VulcanV2Player) {\n          // Note that we could technically accept anything that uses engines and\n          // does not mess with the underlying <video> element. We added this\n          // requirement because the old SphericalVideo plugin monkey patches\n          // stuff and changes styles on the <video> tag. We don't want to think\n          // about that at all in vulcan-v2, so let's just build a new engine\n          // from scratch and give up the \"autoplay in playlist\" functionality\n          // when switching between spherical and vulcan-v2.\n          return this.behaviors.embed.embed(oldImpl);\n        }\n        return this.behaviors.embed.embed();\n      });\n    }\n\n    eventKey() {\n      return this._tracker.eventKey();\n    }\n\n    renderUI() {\n      if (!this.ui) {\n        this.ui = this.behaviors.ui;\n      }\n\n      const canRender = this.ui.lastRenderPromise || Promise.resolve();\n      return canRender.then(() => this.ui.render());\n    }\n\n    rebuild() {\n      return this.behaviors.embed.rebuild(this);\n    }\n\n    onDimensionChangeSafe() {\n      if (!this.grid) {\n        return;\n      }\n      try {\n        this.onWidthChange(this.videoWidth());\n        this.onHeightChange(this.videoHeight());\n      } catch (e) {\n        this.error(e);\n      }\n    }\n\n    transferStateFrom(impl) {\n      if (this.behaviors.fullscreen) {\n        this.behaviors.fullscreen.transferStateFrom(impl);\n      }\n\n      this.isKeyboardFocused(impl.isKeyboardFocused());\n      if (this.publicApi._opts.skipFocus !== true) {\n        this.focus();\n      }\n    }\n\n    bestEngine() {\n      return Judy.bestUsableEngine(this.publicApi.judyCtx(), this._mediaData, this._opts);\n    }\n\n    initEngineAfterEmbedded() {\n      this.embedded(() => this.behaviors.embed.initializeEngine());\n    }\n\n    setupBindings() {\n      this.setupVideoBindings();\n    }\n\n    setupVideoBindings() {\n      this.publicApi.bind('click', () => {\n        this.initEngineAfterEmbedded();\n      });\n\n      this.publicApi.bind('mouseenter', () => {\n        this.initEngineAfterEmbedded();\n      });\n\n      this.publicApi.bind('focusin', () => {\n        this.initEngineAfterEmbedded();\n      });\n\n      // Reposition controls when the video is resized\n      this.bind('widthchange', (w) => {\n        this.onWidthChange(w);\n      });\n      this.bind('heightchange', (h) => {\n        this.onHeightChange(h);\n      });\n    }\n\n    addBehavior(BehaviorClass, callInit = true) {\n      if (this.behaviors == null) {\n        this.behaviors = {};\n      }\n\n      const handle = BehaviorClass.handle;\n      if (!handle) {\n        this.error('No handle defined for', BehaviorClass);\n        return;\n      }\n\n      if (this.behaviors[handle]) {\n        this.behaviors[handle].destroy();\n        this.behaviors[handle] = null;\n      }\n\n      try {\n        const behavior = (this.behaviors[handle] = new BehaviorClass(this));\n\n        if (callInit) {\n          behavior.init();\n        }\n\n        return behavior;\n      } catch (e) {\n        setTimeout(() => {\n          throw e;\n        }, 0);\n        delete this.behaviors[handle];\n      }\n    }\n\n    // init() is called after all these behaviors run. This is desirable if\n    // some behaviors use methods from others; we want to make sure all the\n    // methods are defined before init() runs.\n    addBehaviors(behaviorClasses) {\n      const behaviors = behaviorClasses.map((k) => this.addBehavior(k, false));\n      behaviors.forEach((b) => {\n        try {\n          b.init();\n        } catch (e) {\n          this.error('error in init for', b.constructor.handle, 'behavior');\n          setTimeout(() => {\n            throw e;\n          }, 0);\n        }\n      });\n      return behaviors;\n    }\n\n    removeBehavior(handle) {\n      if (this.behaviors[handle]) {\n        this.behaviors[handle].destroy();\n        delete this.behaviors[handle];\n      }\n    }\n\n    isMediaDataUsingEmbedSsl() {\n      for (let i = 0; i < this._mediaData.assets.length; i++) {\n        const a = this._mediaData.assets[i];\n        if (a.url && /embed-ssl\\.wistia\\.com/.test(a.url)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    onWidthChange(w) {\n      if (this.engine) {\n        this.engine.onWidthChange(w);\n      }\n    }\n\n    onHeightChange(h) {\n      if (this.engine) {\n        this.engine.onHeightChange(h);\n      }\n    }\n\n    controlScaling(s) {\n      if (s != null) {\n        const prevControlScaling = this._controlScaling;\n        this._controlScaling = s;\n        if (prevControlScaling !== s) {\n          this.trigger('controlscalingchange', s, prevControlScaling);\n        }\n      } else {\n        return this._controlScaling || 'auto';\n      }\n    }\n\n    audioDescriptionControlEnabled(enabled) {\n      this.setControlEnabled('audioDescriptionButton', enabled);\n    }\n\n    bigPlayButtonEnabled(enabled) {\n      super.bigPlayButtonEnabled(enabled);\n      this.setControlEnabled('bigPlayButton', enabled);\n    }\n\n    bigPlayButtonTimeEnabled(enabled) {\n      if (this.isControlEnabled('bigPlayButton')) {\n        this.ui.controls.bigPlayButton.setTimeEnabled(enabled);\n      }\n    }\n\n    playPauseControlEnabled(enabled) {\n      super.playPauseControlEnabled(enabled);\n      this.setControlEnabled('smallPlayButton', enabled);\n    }\n\n    playbarControlEnabled(enabled) {\n      super.playbarControlEnabled(enabled);\n      this.setControlEnabled('playbar', enabled);\n    }\n\n    settingsControlEnabled(enabled) {\n      super.settingsControlEnabled(enabled);\n      this.setControlEnabled('settingsButton', enabled);\n    }\n\n    playbackRateControlEnabled(enabled) {\n      if (this.isControlEnabled('settingsButton')) {\n        this.ui.controls.settingsButton.setPlaybackRateEnabled(enabled);\n      }\n    }\n\n    playPauseNotifierEnabled(enabled) {\n      super.playPauseNotifierEnabled(enabled);\n      this.setControlEnabled('playPauseNotifier', enabled);\n    }\n\n    qualityControlEnabled(enabled) {\n      if (this.isControlEnabled('settingsButton')) {\n        this.ui.controls.settingsButton.setQualityEnabled(enabled);\n      }\n    }\n\n    volumeControlEnabled(enabled) {\n      super.volumeControlEnabled(enabled);\n      this.setControlEnabled('volumeButton', enabled);\n    }\n\n    fullscreenControlEnabled(enabled) {\n      super.fullscreenControlEnabled(enabled);\n      this.setControlEnabled('fullscreenControl', enabled);\n    }\n\n    hideControls() {\n      return this.ui.releaseControls('showControls');\n    }\n\n    showControls() {\n      return this.requestControls('showControls', 4000);\n    }\n\n    requestChromeless(requester, timeout) {\n      return this.requestControls(requester, timeout, false);\n    }\n\n    releaseChromeless(requester) {\n      return this.releaseControls(requester);\n    }\n\n    requestControls(requester, timeout, value = true) {\n      this._visibilityRequests[requester] = value;\n      if (timeout != null) {\n        doTimeout(\n          `${this.uuid}.${requester}.release_controls`,\n          () => {\n            this.releaseControls(requester);\n          },\n          timeout,\n        );\n      }\n      return this.ui.maybeToggleControls();\n    }\n\n    releaseControls(requester) {\n      this._visibilityRequests[requester] = null;\n      return this.ui.maybeToggleControls();\n    }\n\n    fit() {\n      super.fit();\n      this.embedded(() => {\n        // TODO: Does the UI need to do anything here? The video?\n      });\n    }\n\n    getBuffered() {\n      if (!this.engine) {\n        return [];\n      }\n      const activeBufferRange = this.engine.activeBufferRange();\n      if (activeBufferRange) {\n        const [start, end] = this.engine.activeBufferRange();\n        return [{ start, end }];\n      }\n      return [];\n    }\n\n    rangeBuffered() {\n      this.engine.activeBufferRange();\n    }\n\n    timeBuffered() {\n      const range = this.rangeBuffered();\n      if (range) {\n        return range[1] - range[0];\n      }\n      return 0;\n    }\n\n    // Returns how much of the video has been buffered, in seconds.\n    totalBuffered() {\n      // Note that @videoElem may not have been initialized yet, in scenarios\n      // where the video is being replaced (e.g. embed links).\n      if (this.engine) {\n        return this.engine.totalBuffered();\n      }\n      return 0;\n    }\n\n    // Returns how much of the video has been played, in seconds.\n    totalPlayed() {\n      // Note that @videoElem may not have been initialized yet, in scenarios\n      // where the video is being replaced (e.g. embed links).\n      if (this.engine) {\n        return this.engine.totalPlayed();\n      }\n      return 0;\n    }\n\n    sequentialBufferedRange() {\n      if (this.engine) {\n        return this.engine.sequentialBufferedRange();\n      }\n      return [0, 0];\n    }\n\n    requestFullscreen() {\n      return this.behaviors.fullscreen.requestFullscreen();\n    }\n\n    cancelFullscreen() {\n      return this.behaviors.fullscreen.cancelFullscreen();\n    }\n\n    inFullscreen() {\n      return this.behaviors.fullscreen?.inFullscreen();\n    }\n\n    stopStreaming() {\n      this.info('stopStreaming');\n      if (this.engine) {\n        this.engine.stopStreaming();\n      }\n    }\n\n    cleanup() {\n      this.info('cleanup');\n      this.removeBehaviors();\n    }\n\n    getVideoQuality() {\n      if (this.engine) {\n        return this.engine.getCurrentQuality();\n      }\n      return 'auto';\n    }\n\n    setVideoQuality(quality = 'auto') {\n      return new Promise((resolve) => {\n        this.info('videoQuality', quality);\n        this.initEngineAfterEmbedded();\n        this.ready(() => {\n          resolve(this.engine.changeQuality(quality, this.state() === 'playing'));\n        });\n      });\n    }\n\n    changeAudioTrack(audioTrackId) {\n      if (audioTrackId != null) {\n        this.initEngineAfterEmbedded();\n        this.info('changeAudioTrack', audioTrackId);\n\n        this.commandQueueOpen.synchronize((done) => {\n          this.ready(() => {\n            this.engine.changeAudioTrack(audioTrackId).then(done);\n          });\n        });\n      }\n    }\n\n    getAudioTracks() {\n      const bestEngine = this.bestEngine();\n\n      // if we have an engine, use the engine's mechanism for getting audio tracks.\n      // If we don't, create the array of audio tracks that looks like the array of audio\n      // audio tracks that will be used when video is loaded\n      if (this.engine) {\n        return this.engine.getAudioTracks();\n      }\n      if (bestEngine === 'engines/hls_video.js' || bestEngine === 'engines/native_hls_video.js') {\n        return audioTracksForVideo(allHlsAudioAssets(this._mediaData.assets));\n      }\n      return [];\n    }\n\n    getCurrentAudioTrack() {\n      return this.engine ? this.engine.getCurrentAudioTrack() : 0;\n    }\n\n    selectedQuality() {\n      if (this.engine) {\n        return this.engine.selectedQuality();\n      }\n      return 'auto';\n    }\n\n    selectableQualities() {\n      if (this.engine) {\n        return this.engine.selectableQualities();\n      }\n      return ['auto'];\n    }\n\n    stillUrl(options) {\n      options = merge({ playButton: false }, options);\n      return super.stillUrl(options);\n    }\n\n    play() {\n      if (!this.suppressPlay()) {\n        // this is used for metrics\n        this.trigger('playcalled');\n      }\n      this.initEngineAfterEmbedded();\n\n      const clickedBeforeReady = inUserEventContext() && !this.ready();\n\n      this.info('play');\n\n      const rejectPlay = () => {\n        this._isPlayPending = false;\n        this._lastPlayType = undefined;\n        this._lastPlayRejectedAt = Date.now();\n        this.trigger('playrejected', this.lastPlayInfo());\n      };\n\n      // live medias that have not started yet, should not attempt to\n      // go any further in the play command queue\n      if (this.publicApi.isLiveMedia() && this.ready() === false) {\n        rejectPlay();\n        // eslint-disable-next-line\n        console.log(\n          'The call to play() failed likely because the livestream media was not yet ready. Try calling play() in an onReady event instead.',\n        );\n\n        return Promise.reject();\n      }\n\n      if (this.suppressPlay()) {\n        return Promise.resolve();\n      }\n\n      this._isPlayPending = true;\n      this._lastPlayType = undefined;\n      this._lastPlaySource = currentEventSource();\n      this._lastPlayIssuedAt = Date.now();\n      this._lastPlayResolvedAt = null;\n      this._lastPlayRejectedAt = null;\n      this.trigger('playpending', this.lastPlayInfo());\n      return new Promise((resolve, reject) => {\n        this.ready(() => {\n          this._calledPlay = true;\n          if (this._mozillaAtEnd()) {\n            this.engine.setCurrentTime(0);\n          }\n\n          const playOptions = {};\n\n          // If play was called when the video was being clicked but we hadn't\n          // loaded the engine yet, then this would always be async, which\n          // means it would trigger the autoplay protocol. In that situation,\n          // since the viewer has actually clicked, we definitely want to play\n          // the video. But if silentAutoplay=false is set, it wouldn't play.\n          // So in that situation, we pass silentAutoplay=allow. This matters\n          // mainly for viewers with very slow or spotty connections--for most\n          // viewers, the engine loads so fast that they can't click before it\n          // loads.\n          if (clickedBeforeReady && this._attrs.silentAutoplay === false) {\n            playOptions.silentAutoplay = 'allow';\n            this.trigger('clicked-play-before-ready');\n          }\n\n          // iOS could only play inline starting in version 10.1. Before that,\n          // calling play outside of a user event will fail but will not cause\n          // a promise rejection.\n          if (\n            W.detect.ios.version &&\n            W.detect.ios.version < 10.1 &&\n            !inUserEventContext() &&\n            !this.engine.isInitializingFromUnmuted()\n          ) {\n            this.notice('Play rejected because not in user context.');\n            rejectPlay();\n            reject();\n          }\n\n          this.engine\n            .play(playOptions)\n            .then((playType) => {\n              this._isPlayPending = false;\n              this._lastPlayType = playType;\n              this._lastPlayResolvedAt = Date.now();\n\n              if (playType === 'play-silently' && !this._inSilentPlaybackMode) {\n                this._inSilentPlaybackMode = true;\n                this.trigger('silentplaybackmodechange', true);\n                this.embedElement.dispatchEvent(\n                  new CustomEvent('silentplaybackmodechange', {\n                    detail: {\n                      inSilentPlaybackMode: true,\n                    },\n                  }),\n                );\n              }\n              resolve();\n            })\n            .catch((e) => {\n              this.notice(e);\n              rejectPlay();\n              reject();\n            });\n        });\n      });\n    }\n\n    pause() {\n      this.info('pause');\n      this.trigger('receivepause');\n      this.initEngineAfterEmbedded();\n      this._isPausePending = false;\n      this._lastPauseSource = currentEventSource();\n      this._lastPauseIssuedAt = Date.now();\n      return new Promise((resolve) => {\n        if (this.ready()) {\n          this.engine.pause();\n          this._isPausePending = false;\n          resolve();\n        }\n      });\n    }\n\n    time(t, options) {\n      if (t != null) {\n        this.info('time', t);\n\n        if (this.state() === 'beforeplay') {\n          this._startPosition = t;\n        }\n\n        this.initEngineAfterEmbedded();\n\n        return new Promise((resolve) => {\n          if (this.state() === 'beforeplay') {\n            this._lastPlaySource = currentEventSource();\n            this._lastPlayIssuedAt = Date.now();\n            this._isPlayPending = true;\n            this._lastPlayType = undefined;\n\n            // if seeking from beforeplay, we'd be ending in 'paused'\n            // state from inside the engine.\n            this._isPausePending = true;\n            this._lastPauseIssuedAt = this._lastPlayIssuedAt;\n            this._lastPauseSource = this._lastPlaySource;\n          }\n\n          t = Math.max(0, Math.min(this.duration(), t));\n          this.ready(() => {\n            const requestedLazy = options && options.lazy && this.state() !== 'playing';\n            if (requestedLazy) {\n              this.engine\n                .seekOnPlay(t)\n                .then(this.behaviors.relayEvents.fireTimeChangedEventsIfChanged);\n              this._isPlayPending = false;\n              resolve();\n              return;\n            }\n\n            if (this.state() === 'beforeplay') {\n              this._seekPromise = this.engine\n                .seek(t, options)\n                .catch((e) => {\n                  // if seek-before-play fails, fall back to seeking _on_ play.\n                  this.notice(e);\n                  this.engine.seekOnPlay(t);\n\n                  this._isPlayPending = false;\n                  this._lastPlayRejectedAt = Date.now();\n                  this._lastPlayType = undefined;\n                  this.trigger('playrejected', this.lastPlayInfo());\n                  resolve();\n                })\n                .then((playType) => {\n                  this.behaviors.relayEvents.fireTimeChangedEventsIfChanged();\n                  this._isPlayPending = false;\n                  this._isPausePending = false;\n                  this._lastPlayType = playType;\n\n                  if (playType === 'play-silently') {\n                    this._inSilentPlaybackMode = true;\n                    this.trigger('silentplaybackmodechange', true);\n\n                    this.embedElement.dispatchEvent(\n                      new CustomEvent('silentplaybackmodechange', {\n                        detail: {\n                          inSilentPlaybackMode: true,\n                        },\n                      }),\n                    );\n                  }\n                  resolve();\n                });\n            } else {\n              this.info(`time ${t}: set immediately`);\n              this.engine.setCurrentTime(t);\n              this.behaviors.relayEvents.fireTimeChangedEventsIfChanged();\n              resolve();\n            }\n          });\n        });\n      }\n      return (this.engine && this.engine.getCurrentTime()) || 0;\n    }\n\n    duration() {\n      // for live, we don't have a known duration so return the\n      // browser's native duration\n      // https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/duration#value\n      if (this.publicApi.isLiveMedia()) {\n        return Infinity;\n      }\n\n      if (this.engine) {\n        return this.engine.getDuration();\n      }\n      const effectiveDuration = this._mediaData.secondaryMediaData\n        ? this._mediaData.secondaryMediaData.duration\n        : this._mediaData.duration;\n\n      const fakeEngine = {\n        attributes: {\n          cuts: this._opts.cuts,\n          duration: effectiveDuration,\n          trimEnd: this._opts.trimEnd,\n          trimStart: this._opts.trimStart,\n        },\n      };\n\n      return getDurationAfterCuts(fakeEngine);\n    }\n\n    // COMMAND QUEUE ATOMIC - Refer to _video.coffee\n    volume(level) {\n      if (level != null) {\n        this.info('volume', level);\n        level = Math.max(0, Math.min(1, level));\n        this.initEngineAfterEmbedded();\n        super.volumeAttr(level);\n        if (this.ready()) {\n          this.engine.setVolume(level);\n        }\n      }\n\n      if (this.engine) {\n        super.volumeAttr(this.engine.getVolume());\n        return this.engine.getVolume();\n      }\n\n      return this._attrs.volume != null ? this._attrs.volume : 1;\n    }\n\n    mute() {\n      this._muted = true;\n      if (this.ready()) {\n        this.engine.mute();\n      } else {\n        this.ready(() => {\n          this.engine.mute();\n        });\n      }\n    }\n\n    unmute() {\n      this._muted = false;\n      if (this.ready()) {\n        if (W.detect.callingPlayRequiresEventContext) {\n          if (this.state() !== 'playing' || inUserEventContext()) {\n            this.engine.unmute();\n            if (this._inSilentPlaybackMode) {\n              this._inSilentPlaybackMode = false;\n              this.trigger('silentplaybackmodechange', false);\n              this.embedElement.dispatchEvent(\n                new CustomEvent('silentplaybackmodechange', {\n                  detail: {\n                    inSilentPlaybackMode: false,\n                  },\n                }),\n              );\n            }\n          } else {\n            this.notice('could not unmute');\n          }\n        } else {\n          this.engine.unmute();\n          if (this._inSilentPlaybackMode) {\n            this._inSilentPlaybackMode = false;\n            this.trigger('silentplaybackmodechange', false);\n            this.embedElement.dispatchEvent(\n              new CustomEvent('silentplaybackmodechange', {\n                detail: {\n                  inSilentPlaybackMode: false,\n                },\n              }),\n            );\n          }\n        }\n      }\n    }\n\n    isMuted() {\n      if (this.engine) {\n        return this.engine.isMuted();\n      }\n      return this._muted != null ? this._muted : !!this._opts.muted;\n    }\n\n    isResumableEnabled() {\n      // bail without even checking opts or auto criteria if we don't have the\n      // behavior, or we have a preset start time, or are a Live media\n      if (\n        !this.behaviors[ResumableBehavior.handle] ||\n        this._impl._startPosition != null ||\n        this.publicApi.isLiveMedia()\n      ) {\n        return false;\n      }\n\n      return (\n        this._attrs.resumable === true ||\n        (this._attrs.resumable !== false && this.meetsAutoCriteraForResumable())\n      );\n    }\n\n    meetsAutoCriteraForResumable() {\n      const playbarIsEnabled = this.isControlEnabled('playbar') || this._attrs.playBarControl;\n\n      return (\n        !shorterThanResumableThreshold(this.duration()) &&\n        !this._attrs.autoplay &&\n        !(this._attrs.endVideoBehavior === 'loop') &&\n        (playbarIsEnabled || this.isAudio())\n      );\n    }\n\n    setResumable(val) {\n      super.setResumable(val);\n\n      if (val === false) {\n        this.behaviors.resumable.destroyResumableKey();\n      } else if (this.shouldResume()) {\n        this.behaviors.resumable.initResumableKey();\n      }\n\n      this.behaviors.embed.updateStartPosition();\n    }\n\n    shouldResume() {\n      return (\n        this.isResumableEnabled() && withinResumableTime(this.publicApi.hashedId(), this.duration())\n      );\n    }\n\n    state() {\n      if (this.engine) {\n        const enginePlaybackMode = this.engine.getPlaybackMode();\n        if (enginePlaybackMode === 'beforeplay' && this.behaviors.relayEvents?._hasPlayed) {\n          // The engine's playback mode may be \"beforeplay\" when changing\n          // quality or when being replaced.\n          return 'paused';\n        }\n        return enginePlaybackMode;\n      }\n      return 'beforeplay';\n    }\n\n    setAriaLiveText(text) {\n      if (!this.ui) {\n        this.ui = this.behaviors.ui;\n      }\n\n      this.ui.setAriaLiveText(text);\n    }\n\n    lastPauseInfo() {\n      return {\n        source: this._lastPauseSource,\n        issuedAt: this._lastPauseIssuedAt,\n        isPending: !!this._isPausePending,\n      };\n    }\n\n    lastPlayInfo() {\n      return {\n        source: this._lastPlaySource,\n        issuedAt: this._lastPlayIssuedAt,\n        isPending: !!this._isPlayPending,\n        playType: this._lastPlayType,\n        resolvedAt: this._lastPlayResolvedAt,\n        rejectedAt: this._lastPlayRejectedAt,\n      };\n    }\n\n    playerBackgroundColor(color) {\n      if (color != null) {\n        this.info('playerBackgroundColor', color);\n        const lastPlayerBackgroundColor = this._attrs.playerBackgroundColor;\n        this._attrs.playerBackgroundColor = new Color(color).toHex();\n        if (lastPlayerBackgroundColor !== this._attrs.playerBackgroundColor) {\n          this.trigger(\n            'playerbackgroundcolorchange',\n            this._attrs.playerBackgroundColor,\n            lastPlayerBackgroundColor,\n          );\n        }\n        return this;\n      }\n      return this._attrs.playerBackgroundColor;\n    }\n\n    preloadValue() {\n      return this.behaviors.embed.preloadValue();\n    }\n\n    width(w, options = {}) {\n      if (w != null) {\n        if (options.fullscreen || !this.inFullscreen()) {\n          return super.width(w, options);\n        }\n        this.info(`notFullscreen => width(${w})`);\n        this.notFullscreen(() => {\n          super.width(w, options);\n        });\n        return this;\n      }\n      return super.width(w, options);\n    }\n\n    height(h, options = {}) {\n      if (h != null) {\n        if (options.fullscreen || !this.inFullscreen()) {\n          return super.height(h, options);\n        }\n        this.info(`notFullscreen => height(${h})`);\n        this.notFullscreen(() => {\n          super.height(h, options);\n        });\n        return this;\n      }\n      return super.height(h, options);\n    }\n\n    videoWidth(w, options = {}) {\n      if (w != null) {\n        if (options.fullscreen || !this.inFullscreen()) {\n          return super.videoWidth(w, options);\n        }\n        this.info(`notFullscreen => videoWidth(${w})`);\n        this.notFullscreen(() => {\n          super.videoWidth(w, options);\n        });\n        return this;\n      }\n      return super.videoWidth(w, options);\n    }\n\n    videoHeight(h, options = {}) {\n      if (h != null) {\n        if (!this.inFullscreen()) {\n          return super.videoHeight(h, options);\n        }\n        this.info(`notFullscreen => videoHeight(${h})`);\n        this.notFullscreen(() => {\n          super.videoHeight(h, options);\n        });\n        return this;\n      }\n      return super.videoHeight(h, options);\n    }\n\n    playbackRate(rate) {\n      if (rate != null) {\n        this.initEngineAfterEmbedded();\n        this.ready(() => {\n          this.info('playbackRate', rate);\n          const parsedRate = parseFloat(rate);\n\n          if (isNaN(parsedRate)) {\n            this.error('playbackRate: Invalid argument \"#{rate}\" given. Expected a float.');\n            return this;\n          }\n          rate = parsedRate;\n\n          const lastPlaybackRate = this.engine.getPlaybackRate();\n          this.engine.setPlaybackRate(rate);\n          this._eventLoopDuration = Math.max(50, Math.min(500, this._baseEventLoopDuration / rate));\n          this._playbackRate = rate;\n          if (lastPlaybackRate !== this._playbackRate) {\n            this.trigger('playbackratechange', this._playbackRate);\n            this.embedElement.dispatchEvent(\n              new CustomEvent('ratechange', {\n                detail: {\n                  playbackRate: this._playbackRate,\n                },\n              }),\n            );\n          }\n        });\n        return this;\n      }\n      if (this.engine) {\n        return this.engine.getPlaybackRate();\n      }\n      return 1;\n    }\n\n    trim(trimSettings) {\n      if (trimSettings != null) {\n        this.embedded(() => {\n          if (!equalsDeep(trimSettings, this.engine.getTrim())) {\n            this.engine.setTrim(trimSettings);\n            this.trigger('trimchange', trimSettings);\n          }\n        });\n      } else {\n        return this.engine.getTrim();\n      }\n    }\n\n    captureCurrentFrame(...args) {\n      return this.engine.captureCurrentFrame(...args);\n    }\n\n    getReportAProblemData(_formData) {\n      const safeExec = (fn) => {\n        try {\n          return fn();\n        } catch (e) {\n          return `threw exception: ${e.message}`;\n        }\n      };\n\n      const embedOptions = ensureOptionsAreNonCircular(this.publicApi._opts);\n      const optionSources = this.publicApi._optionSources();\n      Object.keys(optionSources).forEach((key) => {\n        optionSources[key] = ensureOptionsAreNonCircular(optionSources[key]);\n      });\n\n      const data = {\n        player_version: PLAYER_VERSION,\n        media_key: this._mediaData.mediaKey,\n        account_key: this._mediaData.accountKey,\n        visitor_key: this.visitorKey(),\n        event_key: this.eventKey(),\n        referrer: document.referrer,\n        page_url: location.href,\n        extra_data: {\n          first_1000_logs: W.wlog.first1000LogLines(),\n          last_1000_logs: W.wlog.last1000LogLines(),\n          browser_time: new Date(),\n          option_sources: safeExec(() => {\n            return optionSources;\n          }),\n          embedOptions,\n          active_plugins: safeExec(() => {\n            return Object.keys(this.publicApi.plugin);\n          }),\n          assets: this._mediaData.assets,\n          selectedAsset: this.engine.selectedAsset(),\n          attrs: this._attrs,\n          judy: safeExec(() => {\n            return Judy.report(this.publicApi.judyCtx(), this._mediaData, this._opts);\n          }),\n          detect: W.detect,\n          engineDiagnostics: safeExec(() => {\n            return this.engine.diagnosticData();\n          }),\n        },\n      };\n\n      // Let plugins define their own data to be sent\n      for (let pluginName in this.publicApi.plugin) {\n        const plugin = this.publicApi.plugin[pluginName];\n        if (typeof plugin.getReportAProblemData === 'function') {\n          data.extra_data[pluginName] = plugin.getReportAProblemData();\n        }\n      }\n\n      return data;\n    }\n\n    isKeyboardFocused(bool) {\n      if (bool != null) {\n        this._isKeyboardFocused = bool;\n      }\n      return this._isKeyboardFocused;\n    }\n\n    setControlEnabled(handle, bool) {\n      const enabledWillChange = this.isControlEnabled(handle) !== bool;\n      this._enabledControls[handle] = bool;\n\n      const triggerFn = () => {\n        if (bool) {\n          this.trigger('controlenabled', handle);\n        } else {\n          this.trigger('controldisabled', handle);\n        }\n      };\n\n      if (enabledWillChange) {\n        if (this.embedded()) {\n          return this.renderUI().then(triggerFn);\n        }\n        return new Promise((resolve) => {\n          this.embedded(resolve);\n          triggerFn();\n        });\n      }\n      return (this.ui && this.ui.lastRenderPromise) || Promise.resolve();\n    }\n\n    isControlDisabled(handle) {\n      const ControlClass = W._controlDefinitions[handle];\n      if (ControlClass && ControlClass.isVideoChrome) {\n        if (this._opts.chromeless) {\n          return true;\n        }\n      }\n      return this._enabledControls[handle] === false;\n    }\n\n    isControlEnabled(handle) {\n      if (this._enabledControls[handle] === false) {\n        return false;\n      }\n      if (this.publicApi.controls[handle] != null) {\n        return true;\n      }\n      return false;\n    }\n\n    whenControlMounted(handle) {\n      return new Promise((resolve) => {\n        this.embedded(() => {\n          this.behaviors.ui.whenControlMounted(handle).then(resolve);\n        });\n      });\n    }\n\n    getControl(handle) {\n      return this.ui && this.ui.controls && this.ui.controls[handle];\n    }\n\n    _doEnterInputContexts() {\n      // If we call enterInputContext a bunch rapidly, it's probably due to\n      // focusin handlers running for several elements at once, bubbling\n      // outwards from the element that was focused. We want the innermost\n      // element's context to be the last one we enter, so it becomes the one\n      // returned by getInputContext, and then we fall back to the next one out\n      // upon exiting the innermost one.\n      this._inputContextsToEnter = this._inputContextsToEnter.reverse().map((context) => {\n        // Either add or move this context to the front of the array.\n        const index = this._playerContext.indexOf(context);\n        if (index > 0) {\n          this._playerContext.splice(index, 1);\n        }\n        if (index === -1 || index > 0) {\n          this._playerContext.unshift(context);\n          this.trigger('inputcontextchange', context);\n        }\n\n        return context;\n      });\n    }\n\n    enterInputContext(context) {\n      clearTimeouts(`${this.uuid}.enter_input_contexts`);\n      this._inputContextsToEnter.push(context);\n      doTimeout(\n        `${this.uuid}.enter_input_contexts`,\n        () => {\n          this._doEnterInputContexts();\n        },\n        10,\n      );\n    }\n\n    originalenterInputContext(context) {\n      // Either add or move this context to the front of the array.\n      const index = this._playerContext.indexOf(context);\n      if (index > 0) {\n        this._playerContext.splice(index, 1);\n      }\n      if (index === -1 || index > 0) {\n        this._playerContext.unshift(context);\n        this.trigger('inputcontextchange', context);\n      }\n    }\n\n    exitInputContext(context) {\n      const contextBeforeExit = this.getInputContext();\n      const index = this._playerContext.indexOf(context);\n      if (index === -1) {\n        return;\n      }\n      this._playerContext.splice(index, 1);\n      const contextAfterExit = this.getInputContext();\n      if (contextBeforeExit !== contextAfterExit) {\n        this.trigger('inputcontextchange', contextAfterExit);\n      }\n    }\n\n    getInputContext() {\n      return this._playerContext[0];\n    }\n\n    getMediaElement() {\n      return this.engine && this.engine.getMediaElement();\n    }\n\n    whenVideoElementInDom() {\n      if (this._whenVideoElementInDom) {\n        return this._whenVideoElementInDom;\n      }\n      if (this.engine) {\n        return Promise.resolve(this.getMediaElement());\n      }\n      return (this._whenVideoElementInDom = new Promise((resolve) => {\n        this.bind('engine-initialized', () => {\n          resolve(this.getMediaElement());\n          return this.unbind;\n        });\n      }));\n    }\n\n    inSilentPlaybackMode() {\n      return !!this._inSilentPlaybackMode;\n    }\n\n    // This is called from PublicApi when moving to an \"up\" state.\n    checkForReady() {\n      this.behaviors.embed.checkForReady();\n    }\n\n    loadOverlayCode() {\n      return new Promise((resolve) => {\n        if (this.behaviors.overlays) {\n          resolve();\n          return;\n        }\n        dynamicImport('assets/external/vulcanV2Player/behaviors/OverlaysBehavior.js').then(\n          (moduleClass) => {\n            if (!this.behaviors.overlays) {\n              this.addBehavior(moduleClass.OverlaysBehavior);\n            }\n            resolve();\n          },\n        );\n      });\n    }\n\n    defineOverlay(name, config) {\n      return this.loadOverlayCode().then(() => {\n        this._overlays[name] = config;\n      });\n    }\n\n    requestOverlay(name) {\n      return this.loadOverlayCode().then(() => {\n        return this.behaviors.overlays.requestOverlay(name);\n      });\n    }\n\n    cancelOverlay(name) {\n      return this.loadOverlayCode().then(() => {\n        return this.behaviors.overlays.cancelOverlay(name);\n      });\n    }\n\n    undefineOverlay(name) {\n      return this.loadOverlayCode().then(() => {\n        return this.behaviors.overlays.undefineOverlay(name);\n      });\n    }\n\n    getOverlays() {\n      return this._overlays;\n    }\n\n    layout(l, extraOpts = {}) {\n      if (l != null) {\n        this.whenVideoElementInDom().then(() => {\n          this.engine.setLayout(l, extraOpts);\n        });\n        this._layout = l;\n      } else {\n        return this._layout;\n      }\n    }\n\n    focus() {\n      if (this.isAudio()) {\n        this.whenControlMounted('audioBackgroundFocus').then((control) => {\n          control.focus();\n        });\n      } else {\n        this.whenControlMounted('backgroundFocus').then((control) => {\n          control.focus();\n        });\n      }\n    }\n\n    // the chapters plugin calls this very early, sometimes before\n    // we've asyncly required the audio ui behavior\n    _inNativeMode() {\n      return this.behaviors.ui?.inNativeMode() || false;\n    }\n\n    _bandwidthTest() {\n      return this.behaviors.bandwidthTest.bandwidthTest();\n    }\n\n    _mozillaAtEnd() {\n      return this.behaviors.relayEvents.mozillaAtEnd();\n    }\n\n    _focusNextVisibleElem() {\n      return this.behaviors.ui.focusNextVisibleElem();\n    }\n\n    openTabMenu() {\n      if (!this.isAudio()) {\n        return;\n      }\n      this.ui.openTabMenu();\n    }\n\n    closeTabMenu() {\n      if (!this.isAudio()) {\n        return;\n      }\n      this.ui.closeTabMenu();\n    }\n\n    openChaptersTab() {\n      if (!this.isAudio()) {\n        return;\n      }\n      this.whenControlMounted('chaptersTab').then((control) => {\n        this.ui.setSelectedTab(control.constructor.handle);\n        this.openTabMenu();\n      });\n    }\n\n    openShareTab() {\n      if (!this.isAudio()) {\n        return;\n      }\n      this.whenControlMounted('shareTab').then((control) => {\n        this.ui.setSelectedTab(control.constructor.handle);\n        this.openTabMenu();\n      });\n    }\n\n    openTranscriptTab() {\n      if (!this.isAudio()) {\n        return;\n      }\n      this.whenControlMounted('transcriptTab').then((control) => {\n        this.ui.setSelectedTab(control.constructor.handle);\n        this.openTabMenu();\n      });\n    }\n\n    turnOffCaptions() {\n      this.controls.captions?.turnOff();\n      this.controls.captionsButton?.matchMenuToSelectedTextTrack();\n    }\n  }\n\n  W.VulcanV2Player = VulcanV2Player;\n\n  W.plugin('vulcanV2Player', (_video, _options) => {\n    W.info('vulcanV2Player no-op plugin executed');\n  });\n\n  const currentEventSource = () => {\n    return inUserEventContext() ? 'user-event' : 'non-user-event';\n  };\n\n  const ensureOptionsAreNonCircular = (options) => {\n    const result = clone(options);\n    if (result.container) {\n      result.container = 'removed to avoid circular';\n    }\n    return result;\n  };\n}\n\nexport default W.VulcanV2Player;\n","import { uniqId } from 'utilities/uniqId.js';\nimport { pageLoaded } from 'utilities/elem.js';\nimport { isVisitorTrackingEnabled } from 'utilities/trackingConsentApi.js';\nimport { PlaySession } from './ds/index.js';\nimport { getOrSetIsFirst } from './util/getOrSetIsFirst.js';\nimport { Client } from './api/Client.js';\n\nclass LiveMediaTracker {\n  #clockStart;\n\n  #api;\n\n  #client;\n\n  #events = [];\n\n  #intervals = {};\n\n  #playSession;\n\n  SCOPE = 'live_event';\n\n  constructor(publicApi) {\n    this.#clockStart = Date.now();\n    this.#api = publicApi;\n  }\n\n  get meta() {\n    return this.#playSession?.meta;\n  }\n\n  get lastEvent() {\n    return this.#playSession?.lastEvent;\n  }\n\n  get isPlaying() {\n    return this.#playSession?.isPlaying;\n  }\n\n  get captionsEnabled() {\n    return !!this.#api.getSelectedCaptions();\n  }\n\n  get isLive() {\n    return !!this.#api._mediaData?.liveStreamEventDetails?.startedAt;\n  }\n\n  get hashedId() {\n    return this.#api.hashedId();\n  }\n\n  get shouldAnonymizeIp() {\n    return Boolean(this.#api._opts.anonymizeIp || !isVisitorTrackingEnabled());\n  }\n\n  get email() {\n    return this.#api.email();\n  }\n\n  monitor() {\n    if (this.#api.doNotTrack()) return;\n\n    this.stopMonitoring();\n    this.#api.hasData(() => pageLoaded(this.#onLoad));\n  }\n\n  stopMonitoring() {\n    this.#send();\n    this.#clearInterval('flush');\n    this.#clearInterval('update');\n\n    this.#api.unbind('play', this.#onPlay);\n    this.#api.unbind('pause', this.#onPause);\n    this.#api.unbind('seek', this.#onSeek);\n    this.#api.unbind('end', this.#onEnd);\n  }\n\n  // Required by tracker interface\n  timeDelta() {\n    return new Date().getTime() - this.#clockStart;\n  }\n\n  // Required by tracker interface\n  eventKey() {\n    return this.meta?.session_key;\n  }\n\n  // Required by tracker interface\n  visitorKey() {\n    return this.#api.visitorKey();\n  }\n\n  #onLoad = () => {\n    const mediaData = this.#api._mediaData;\n    this.#events = [];\n    this.#client = new Client(mediaData.analyticsHost);\n\n    const first = getOrSetIsFirst(this.hashedId, this.SCOPE, 'load');\n    this.#playSession = PlaySession.load(\n      this.#clockStart,\n      {\n        visitor_key: this.#api.visitorKey(),\n        session_key: uniqId(`${__FINGERPRINT_SHA__.substring(0, 7)}_`),\n        embed_url: this.#api._attrs.pageUrl,\n        referrer_url: this.#api._attrs.referrerUrl,\n        account_id: mediaData.accountId,\n        live_stream_event_id: mediaData.liveStreamEventDetails.id,\n        media_id: mediaData.mediaId,\n        media_type: 'Video',\n        player_type: 'modern',\n      },\n      {\n        first,\n        scope: this.SCOPE,\n        captions: this.captionsEnabled,\n        live: this.isLive,\n        email: this.email,\n      },\n    );\n\n    this.#track(this.lastEvent, { force: true });\n\n    // In case loading finishes after the player has started playing\n    if (this.#api.state() === 'playing') this.#onPlay();\n\n    this.#api.bind('play', this.#onPlay);\n    this.#api.bind('pause', this.#onPause);\n    this.#api.bind('seek', this.#onSeek);\n    this.#api.bind('end', this.#onEnd);\n    this.#intervals.flush = setInterval(this.#send, 5000);\n  };\n\n  #onPlay = () => {\n    const first = getOrSetIsFirst(this.hashedId, this.SCOPE, PlaySession.Event.PLAY);\n    const captions = this.captionsEnabled;\n    this.#playSession = this.#playSession.play(Date.now(), this.#api.time(), {\n      first,\n      captions,\n      live: this.isLive,\n      email: this.email,\n    });\n    const force = this.#playSession.lastEvent.event === PlaySession.Event.PLAY;\n    this.#track(this.lastEvent, { force });\n\n    this.#intervals.update = setInterval(this.#onUpdate, 5000);\n  };\n\n  #onPause = () => {\n    this.#clearInterval('update');\n\n    this.#playSession = this.#playSession.pause(Date.now(), this.#api.time(), {\n      captions: this.captionsEnabled,\n      live: this.isLive,\n      email: this.email,\n    });\n\n    this.#track(this.lastEvent);\n  };\n\n  #onUpdate = () => {\n    if (this.isPlaying) {\n      this.#playSession = this.#playSession.update(Date.now(), this.#api.time(), {\n        captions: this.captionsEnabled,\n        live: this.isLive,\n        email: this.email,\n      });\n      this.#track(this.lastEvent);\n    }\n  };\n\n  #onSeek = (to, from) => {\n    this.#playSession = this.#playSession.seek(Date.now(), from, to, {\n      captions: this.captionsEnabled,\n      live: this.isLive,\n      email: this.email,\n    });\n    this.#track(this.lastEvent);\n  };\n\n  #onEnd = () => {\n    this.#playSession = this.#playSession.end(Date.now(), this.#api.time(), {\n      captions: this.captionsEnabled,\n      live: this.isLive,\n      email: this.email,\n    });\n    this.#track(this.lastEvent, { force: true });\n  };\n\n  #track(event, { force = false } = {}) {\n    this.#api.debug(event);\n    this.#events = [...this.#events, event];\n\n    if (force) this.#send();\n  }\n\n  #send = () => {\n    if (this.#events.length === 0) return;\n\n    const events = this.#events;\n    const data = {\n      ...this.#playSession.meta,\n      events,\n      anonymize_ip: this.shouldAnonymizeIp,\n    };\n    this.#events = [];\n\n    this.#api.debug('Submitting events', data);\n    this.#client\n      .liveStream(data)\n      .then((resp) => {\n        if (!resp.ok) {\n          throw new Error(\n            `Failed to send tracking events. Server responded with status: ${resp.status}`,\n          );\n        }\n      })\n      .catch((error) => {\n        this.#api.error(error);\n        // Requeue events to be sent in next batch\n        this.#events = [...events, ...this.#events].sort((ev1, ev2) => ev1.time - ev2.time);\n      });\n  };\n\n  #clearInterval(name) {\n    if (this.#intervals[name]) {\n      clearInterval(this.#intervals[name]);\n      delete this.#intervals[name];\n    }\n  }\n}\n\nexport { LiveMediaTracker };\n","class InclusiveRange {\n  #start;\n\n  #end;\n\n  constructor(start, end) {\n    this.#start = start;\n    this.#end = end;\n  }\n\n  get start() {\n    return this.#start;\n  }\n\n  get end() {\n    return this.#end;\n  }\n\n  get isEmpty() {\n    return this.start == this.end;\n  }\n\n  get isAscending() {\n    return this.start <= this.end;\n  }\n\n  foreach(fun) {\n    for (let i = this.start; i <= this.end; ++i) {\n      fun(i);\n    }\n  }\n\n  reduce(fun, initial) {\n    let acc = initial;\n    this.foreach((num) => {\n      acc = fun(acc, num);\n    });\n    return acc;\n  }\n\n  includes(num) {\n    const min = Math.min(this.start, this.end);\n    const max = Math.max(this.start, this.end);\n\n    return min <= num && num <= max;\n  }\n\n  toJSON() {\n    return { start: this.start, end: this.end };\n  }\n}\n\nexport { InclusiveRange };\n","import { Histogram } from './Histogram.js';\nimport { InclusiveRange } from './InclusiveRange.js';\n\nclass PlaySession {\n  #state;\n\n  static Event = Object.freeze({\n    LOAD: 'load',\n    PLAY: 'play',\n    SEEK: 'seek',\n    PAUSE: 'pause',\n    UNPAUSE: 'unpause',\n    UPDATE: 'update',\n    END: 'end',\n  });\n\n  static EMPTY_METRICS = {\n    unique_played_time: 0,\n    unique_played_ranges: [],\n    replayed_time: 0,\n    replayed_ranges: [],\n  };\n\n  constructor(state) {\n    this.#state = state;\n  }\n\n  get meta() {\n    return this.#state.meta;\n  }\n\n  get startedAt() {\n    return this.#state.startedAt;\n  }\n\n  get isPlaying() {\n    return this.#state.inactiveAt === undefined;\n  }\n\n  get scope() {\n    return this.#state.scope;\n  }\n\n  get histogram() {\n    return this.#state.histogram;\n  }\n\n  get history() {\n    return this.#state.history;\n  }\n\n  get lastEvent() {\n    return this.history[0];\n  }\n\n  get position() {\n    return this.lastEvent.player_position;\n  }\n\n  static load(time, meta, { first = false, scope, captions = false, live = false, email } = {}) {\n    const event = {\n      time,\n      event: PlaySession.Event.LOAD,\n      scope,\n      first,\n      live,\n      captions,\n      email,\n      ...PlaySession.EMPTY_METRICS,\n    };\n\n    return new PlaySession({\n      startedAt: time,\n      meta,\n      scope,\n      inactiveAt: time,\n      histogram: new Histogram(),\n      history: [event],\n    });\n  }\n\n  play(time, position, { first = false, captions = false, live = false, email } = {}) {\n    const event = {\n      time,\n      event:\n        this.lastEvent.event === PlaySession.Event.LOAD\n          ? PlaySession.Event.PLAY\n          : PlaySession.Event.UNPAUSE,\n      scope: this.scope,\n      first,\n      live,\n      captions,\n      email,\n      player_position: position,\n      ...PlaySession.EMPTY_METRICS,\n    };\n\n    return new PlaySession({\n      ...this.#state,\n      inactiveAt: undefined,\n      history: [event, ...this.history],\n    });\n  }\n\n  pause(time, position, { captions = false, live = false, email } = {}) {\n    const range = this.#playRangeThrough(position);\n    const metrics = this.#calculateMetrics(range);\n\n    const event = {\n      time,\n      event: PlaySession.Event.PAUSE,\n      scope: this.scope,\n      live,\n      captions,\n      email,\n      player_position: position,\n      ...metrics,\n    };\n\n    return new PlaySession({\n      ...this.#state,\n      inactiveAt: time,\n      histogram: this.histogram.union(range),\n      history: [event, ...this.history],\n    });\n  }\n\n  seek(time, from, to, { captions = false, live = false, email } = {}) {\n    let metrics = PlaySession.EMPTY_METRICS;\n    let histogram = this.histogram;\n    let inactiveAt = time;\n\n    if (this.isPlaying) {\n      const range = this.#playRangeThrough(from);\n      metrics = this.#calculateMetrics(range);\n      histogram = histogram.union(range);\n      inactiveAt = undefined;\n    }\n\n    const event = {\n      time,\n      event: PlaySession.Event.SEEK,\n      scope: this.scope,\n      live,\n      captions,\n      email,\n      previous_player_position: from,\n      player_position: to,\n      ...metrics,\n    };\n\n    return new PlaySession({\n      ...this.#state,\n      inactiveAt,\n      histogram,\n      history: [event, ...this.history],\n    });\n  }\n\n  update(time, position, { captions = false, live = false, email } = {}) {\n    if (this.isPlaying) {\n      const range = this.#playRangeThrough(position);\n      const metrics = this.#calculateMetrics(range);\n\n      const event = {\n        time,\n        event: PlaySession.Event.UPDATE,\n        scope: this.scope,\n        live,\n        captions,\n        email,\n        player_position: position,\n        ...metrics,\n      };\n\n      return new PlaySession({\n        ...this.#state,\n        histogram: this.histogram.union(range),\n        history: [event, ...this.history],\n      });\n    }\n    return this;\n  }\n\n  end(time, position, { captions = false, live = false, email } = {}) {\n    const range = this.#playRangeThrough(position);\n    const metrics = this.#calculateMetrics(range);\n\n    const event = {\n      time,\n      event: PlaySession.Event.END,\n      scope: this.scope,\n      live,\n      captions,\n      email,\n      player_position: position,\n      ...metrics,\n    };\n\n    return new PlaySession({\n      ...this.#state,\n      inactiveAt: time,\n      histogram: this.histogram.union(range),\n      history: [event, ...this.history],\n    });\n  }\n\n  #playRangeThrough(end) {\n    const previousEvent = this.lastEvent.event;\n    const isContinuation = previousEvent === PlaySession.Event.UPDATE;\n    let start = this.position;\n\n    if (isContinuation) start += 1;\n    const range = new InclusiveRange(Math.floor(start), Math.floor(end));\n\n    return range.isAscending ? range : undefined;\n  }\n\n  #calculateMetrics(range) {\n    if (!range) return PlaySession.EMPTY_METRICS;\n\n    return this.histogram\n      .chunkInRangeBy(range, ({ value }) => value === 0)\n      .reduce(\n        (metrics, chunk) => {\n          const { bucket: start, value } = chunk.at(0);\n          const { bucket: end } = chunk.at(-1);\n\n          if (value === 0) {\n            return {\n              ...metrics,\n              unique_played_time: metrics.unique_played_time + chunk.length,\n              unique_played_ranges: [...metrics.unique_played_ranges, { start, end }],\n            };\n          }\n          return {\n            ...metrics,\n            replayed_time: metrics.replayed_time + chunk.length,\n            replayed_ranges: [...metrics.replayed_ranges, { start, end }],\n          };\n        },\n        { unique_played_time: 0, unique_played_ranges: [], replayed_time: 0, replayed_ranges: [] },\n      );\n  }\n}\n\nexport { PlaySession, Histogram, InclusiveRange };\n","import { InclusiveRange } from './InclusiveRange.js';\n\nclass Histogram {\n  #buckets;\n\n  constructor(buckets = []) {\n    this.#buckets = buckets;\n  }\n\n  get buckets() {\n    return this.#buckets;\n  }\n\n  valueAt(index) {\n    return this.buckets[index] || 0;\n  }\n\n  union(range) {\n    if (!range) return this;\n\n    let buckets = [...this.buckets];\n\n    range.foreach((bucket) => {\n      buckets[bucket] = this.valueAt(bucket) + 1;\n    });\n\n    // Fill in zeros for blank entries\n    new InclusiveRange(0, range.start - 1).foreach((bucket) => {\n      buckets[bucket] = this.valueAt(bucket);\n    });\n\n    return new Histogram(buckets);\n  }\n\n  chunkInRangeBy(range, fun) {\n    const empty = Symbol('empty');\n\n    const { chunks } = range.reduce(\n      ({ chunks, flip }, bucket) => {\n        const item = { bucket, value: this.valueAt(bucket) };\n        const flop = fun(item);\n\n        if (flip !== flop) {\n          return { chunks: [[item], ...chunks], flip: flop };\n        }\n        const [chunk, ...other] = chunks;\n        return { chunks: [[...chunk, item], ...other], flip };\n      },\n      { chunks: [], flip: empty },\n    );\n\n    return chunks.reverse();\n  }\n}\n\nexport { Histogram };\n","import { getLocalStorage, setLocalStorage } from 'utilities/namespacedLocalStorage.js';\n\nexport const getOrSetIsFirst = (hashedId, scope, event) => {\n  const namespace = ['wistia', hashedId, scope].join('.');\n  const storage = getLocalStorage(namespace);\n  if (event in storage) {\n    return false;\n  }\n  setLocalStorage(namespace, { ...storage, [event]: 1 });\n  return true;\n};\n","export class Client {\n  #host;\n\n  constructor(host) {\n    this.#host = host;\n  }\n\n  liveStream = (data) => {\n    return this.#post('/live-stream/1.0.0', data);\n  };\n\n  #post(path, data) {\n    const url = new URL(path, this.#host);\n\n    return fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', Accept: 'application/json' },\n      mode: 'cors',\n      credentials: 'omit',\n      body: JSON.stringify(data),\n      keepalive: true,\n    });\n  }\n}\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport { defineControl } from 'embeds/shared/control_definitions.js';\nimport AudioDescriptionButton from './AudioDescriptionButton.jsx';\nimport { AudioDescriptionMenu } from './AudioDescriptionMenu.jsx';\nimport Control from '../../../shared/controls/Control.js';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { defineTranslations, getTranslation } from '../../../../../../shared/translations.js';\nimport { isMouseDownRecently } from '../../../../../../../utilities/isMouseDown.js';\n\ndefineTranslations('en-US', {\n  AUDIO_DESCRIPTION_HIDE_MENU: 'Hide audio description menu',\n  AUDIO_DESCRIPTION_SHOW_MENU: 'Show audio description menu',\n});\n\nclass AudioDescriptionControl extends Control {\n  constructor(video) {\n    super(video);\n    this.video = video;\n\n    this.unbinds.push(\n      video.on('playerlanguagechange', () => {\n        if (this.menuElem) {\n          this.renderMenu();\n        }\n      }),\n\n      video.on('audiostreamchange', () => {\n        if (this.menuElem) {\n          this.renderMenu();\n        }\n      }),\n    );\n  }\n\n  controlDialogOpened() {\n    this.updateButtonLabel();\n  }\n\n  controlDialogClosed() {\n    this.updateButtonLabel();\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  mountButton(buttonRoot) {\n    this.buttonRoot = buttonRoot;\n    this.renderButton();\n  }\n\n  mountDialog(dialogRoot) {\n    this.dialogRoot = dialogRoot;\n    const codeLoaded = dynamicImport('assets/external/interFontFace.js').then(() => {\n      this.renderMenu();\n    });\n\n    this.loading(\n      new Promise((resolve) => {\n        codeLoaded.then(resolve);\n      }),\n    );\n\n    return codeLoaded;\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (this.dialog && this.dialog.isOpen()) {\n      this.renderMenu();\n    }\n\n    if (\n      prevProps.playerLanguage &&\n      this.props.playerLanguage.code !== prevProps.playerLanguage.code\n    ) {\n      this.renderButton();\n      this.renderMenu();\n    }\n  }\n\n  renderButton() {\n    this.updateButtonLabel();\n\n    render(<AudioDescriptionButton />, this.buttonRoot);\n    this.reactMounts.button = [this.buttonRoot];\n  }\n\n  renderMenu() {\n    if (!this.dialog.isOpen()) {\n      return;\n    }\n\n    if (!this.dialogRoot) {\n      return;\n    }\n\n    const allAudioTracks = this.video.engine.getAudioTracks();\n\n    render(\n      <AudioDescriptionMenu\n        {...this.props}\n        elemRef={(elem) => (this.menuElem = elem)}\n        onClick={this.onClickTrack}\n        scale={this.props.scale}\n        tracks={allAudioTracks}\n      />,\n      this.dialogRoot,\n    );\n\n    this.reactMounts.menu = [this.dialogRoot];\n  }\n\n  updateButtonLabel() {\n    if (!this.dialog) {\n      return;\n    }\n    if (this.dialog.isOpen()) {\n      this.setButtonLabel(this.translate('HIDE_MENU'));\n    } else {\n      this.setButtonLabel(this.translate('SHOW_MENU'));\n    }\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `AUDIO_DESCRIPTION_${key}`);\n  }\n\n  onClickTrack = (id) => {\n    const currentId = this.video.engine.getCurrentAudioTrackId();\n    if (Number(currentId) !== Number(id)) {\n      this.video.changeAudioTrack(id);\n    }\n\n    if (isMouseDownRecently()) {\n      setTimeout(() => {\n        this.dialog.close();\n        this.buttonRoot.parentElement.focus();\n      }, 300);\n    }\n  };\n}\n\nAudioDescriptionControl.shouldMount = (video) => {\n  if (\n    video._opts.audioDescriptionIsRequired !== false &&\n    video._impl &&\n    video._impl.getAudioTracks &&\n    video._impl.getAudioTracks().length > 1\n  ) {\n    return true;\n  }\n  return false;\n};\n\nAudioDescriptionControl.handle = 'audioDescriptionButton';\nAudioDescriptionControl.type = 'control-bar-right';\nAudioDescriptionControl.sortValue = 51;\nAudioDescriptionControl.isVideoChrome = true;\ndefineControl(AudioDescriptionControl);\n\nW.AudioDescriptionControl = AudioDescriptionControl;\n\nexport default AudioDescriptionControl;\n","import { h, render, Component } from 'preact';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\n\nclass AudioDescriptionButton extends Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    const lines = {\n      fill: 'none',\n      stroke: '#ffffff',\n      'stroke-width': '1.8',\n      'stroke-linecap': 'round',\n    };\n\n    const linesAndText = {\n      ...lines,\n      'stroke-linejoin': 'round',\n    };\n\n    return (\n      <svg\n        {...standardSvgAttrs({ width: 40, height: 34, ariaHidden: true })}\n        onMouseEnter={this.props.onMouseEnter}\n      >\n        <g {...linesAndText}>\n          <path d=\"M19.6,14.5c2.2,0,3,1.4,3,2.8c0,1.3-0.7,2.8-3,2.8h-1.5v-5.6H19.6z\" />\n          <polyline points=\"9.9,20.1 12.5,14.5 14.9,20.1 \t\t\t\" />\n          <path d=\"M10.4,18.9h4\" />\n        </g>\n\n        <g {...lines}>\n          <path d=\"M27.4,24.7c2.2-2.1,3.2-4.9,3.2-7.4c0-2.7-1-5.3-3.2-7.4\" />\n          <path d=\"M24.5,12.8c1.4,1.2,2,2.8,2,4.5c0,1.6-0.5,3.3-2,4.5\" />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default AudioDescriptionButton;\n","import { h, render, Component } from 'preact';\nimport VisuallyHiddenElem from '../../../shared/ui_components/VisuallyHiddenElem.jsx';\nimport { AudioTrackMenuItem } from './AudioDescriptionMenuItem.jsx';\n\nexport class AudioDescriptionMenu extends Component {\n  render() {\n    return (\n      <div>\n        <fieldset style={{ border: 0, padding: 0, margin: 0 }}>\n          <VisuallyHiddenElem tagName=\"legend\">Audio Description Menu</VisuallyHiddenElem>\n\n          {this.props.tracks.map((track, i) => (\n            <AudioTrackMenuItem\n              {...this.props}\n              track={track}\n              id={i}\n              isLastItem={i === this.props.tracks.length - 1}\n              isFirstItem={i === 0}\n            />\n          ))}\n        </fieldset>\n      </div>\n    );\n  }\n}\n","import { h, render, Component } from 'preact';\n\nclass VisuallyHiddenElem extends Component {\n  render() {\n    const TagName = this.props.tagName || 'div';\n    return (\n      <TagName {...this.props} ref={this.props.elemRef} style={this.visuallyHiddenStyles()}>\n        {this.props.children}\n      </TagName>\n    );\n  }\n\n  visuallyHiddenStyles() {\n    return {\n      clip: 'rect(1px, 1px, 1px, 1px)',\n      height: '1px',\n      overflow: 'hidden',\n      position: 'absolute',\n      whiteSpace: 'nowrap',\n      width: '1px',\n    };\n  }\n}\n\nexport default VisuallyHiddenElem;\n","import { h, render, Component } from 'preact';\nimport { interFontFamily } from 'utilities/interFontFamily.js';\nimport { isMouseDown } from 'utilities/isMouseDown.js';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\nimport { seqId } from 'utilities/seqid.js';\nimport { getTranslation, defineTranslations } from '../../../../../../shared/translations.js';\nimport VisuallyHiddenElem from '../../../shared/ui_components/VisuallyHiddenElem.jsx';\n\ndefineTranslations('en-US', {\n  AUDIO_DESCRIPTION_OFF: 'Off',\n});\n\nexport class AudioTrackMenuItem extends Component {\n  constructor(props) {\n    super(props);\n    this.uuid = seqId();\n  }\n\n  checkStyle() {\n    return {\n      height: lineHeightPx(this),\n      verticalAlign: 'middle',\n      visibility: this.props.track.isSelected ? 'visible' : 'hidden',\n      width: checkWidthPx(this),\n    };\n  }\n\n  menuItemStyle() {\n    const { controlBarBorderRadius } = this.props;\n\n    return {\n      background: this.state.isHovering ? 'rgba(0,0,0,.3)' : '',\n      borderBottomLeftRadius: this.props.isLastItem ? `${controlBarBorderRadius}px` : 0,\n      borderBottomRightRadius: this.props.isLastItem ? `${controlBarBorderRadius}px` : 0,\n      borderTopLeftRadius: this.props.isFirstItem ? `${controlBarBorderRadius}px` : 0,\n      borderTopRightRadius: this.props.isFirstItem ? `${controlBarBorderRadius}px` : 0,\n      boxShadow: this.state.isKeyboardFocused ? '0 0 0 2px #fff inset' : 'none',\n      display: 'block',\n      fontFamily: interFontFamily,\n      fontSize: fontSize(this),\n      lineHeight: lineHeightPx(this),\n      marginRight: `${10 * this.props.scale}px`,\n      textAlign: 'left',\n      width: '100%',\n    };\n  }\n\n  onBlur = () => {\n    if (this.state.isKeyboardFocused) {\n      this.setState({ isKeyboardFocused: false });\n    }\n  };\n\n  onClick = () => {\n    this.props.onClick(this.props.id);\n  };\n\n  onFocus = () => {\n    if (!isMouseDown()) {\n      this.setState({ isKeyboardFocused: true });\n    }\n  };\n\n  onMouseEnter = () => {\n    this.setState({ isHovering: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ isHovering: false });\n  };\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `AUDIO_DESCRIPTION_${key}`);\n  }\n\n  render() {\n    const { track, elemRef } = this.props;\n    let trackName = track.label;\n\n    // 'Original' is what we label the video's default track in the hls manifest\n    if (trackName === 'Original') {\n      trackName = this.translate('OFF');\n    }\n\n    const menuItemId = `AD-${this.uuid}-${trackName}+${track.id}`;\n\n    return (\n      <div\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        ref={elemRef}\n        style={this.menuItemStyle()}\n      >\n        <VisuallyHiddenElem\n          checked={Boolean(track.isSelected)}\n          id={menuItemId}\n          name=\"Audio Description Menu\"\n          onBlur={this.onBlur}\n          onClick={this.onClick}\n          onFocus={this.onFocus}\n          tagName=\"input\"\n          type=\"radio\"\n          value={trackName}\n        />\n\n        <label class=\"w-css-reset\" for={menuItemId}>\n          <svg\n            {...standardSvgAttrs({ width: 40, height: 34 })}\n            class=\"w-checkmark\"\n            style={this.checkStyle()}\n          >\n            <polyline\n              fill=\"none\"\n              stroke=\"#ffffff\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-miterlimit=\"10\"\n              points=\"17,17 20,20 25,14 \"\n            />\n          </svg>\n          {trackName}\n        </label>\n      </div>\n    );\n  }\n}\n\nconst checkWidth = (component) => {\n  return 40 * component.props.scale;\n};\n\nconst checkWidthPx = (component) => {\n  return `${checkWidth(component)}px`;\n};\n\nconst lineHeight = (component) => {\n  return 34 * component.props.scale;\n};\n\nconst lineHeightPx = (component) => {\n  return `${lineHeight(component)}px`;\n};\n\nconst fontSize = (component) => {\n  return 14 * component.props.scale;\n};\n","import { h, render } from 'preact';\n\nclass Control {\n  #disabledButton;\n\n  constructor(video) {\n    this.video = video;\n    this.embedElement = video.container;\n    this.unbinds = [];\n    this.eventListeners = new Map();\n    this.reactMounts = {};\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n  }\n\n  // The `disabledButton` is used in the UIBehavior and fed into the\n  // ControlBarButtonWithDialog to disable control bar buttons\n  set disabledButton(state) {\n    this.#disabledButton = state;\n  }\n\n  get disabledButton() {\n    return this.#disabledButton;\n  }\n}\n\nexport default Control;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport Control from '../../../shared/controls/Control.js';\nimport CaptionsButton from './CaptionsButton.jsx';\n// import { CaptionsV3Menu } from './CaptionsV3Menu.jsx';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../../shared/control_definitions.js';\nimport { getTranslation, defineTranslations } from '../../../../../../shared/translations.js';\n\nconst TRANSLATIONS = {\n  CAPTIONS_DISABLED: 'No captions available',\n  CAPTIONS_HIDE_MENU: 'Hide captions menu',\n  CAPTIONS_OFF: 'Off',\n  CAPTIONS_SHOW_MENU: 'Show captions menu',\n  CAPTIONS_TURN_OFF: 'Turn off captions',\n  CAPTIONS_TURN_ON: 'Turn on captions',\n};\n\ndefineTranslations('en-US', TRANSLATIONS);\n\nconst DISABLED = 'disabled';\nconst ON = 'on';\nconst OFF = 'off';\nconst MENU_OPEN = 'menu-open';\nconst MENU_CLOSED = 'menu-closed';\n\nclass CaptionsV3ButtonControl extends Control {\n  #captionsV3Promise;\n\n  #buttonState;\n  // there are 5 states this button can be in:\n  // 1. `disabled` - the button is disabled and not interactive. This is used\n  //     when we know we will want captions, but they have not been loaded.\n  // 2. `on` - the button is in 'toggle-mode' and on.\n  // 3. `off` - the button is in 'toggle-mode' and off\n  //     on/off mode are used when there is only one captions track available\n  // 4. `menu-open` - the button is in 'menu mode' and the dialog is open\n  // 5. `menu-closed` - the button is in 'menu mode' and the dialog is closed\n  //     The button activates a menu dialog when there are multiple captions tracks\n\n  constructor(video) {\n    super(video);\n    this.video = video;\n    this.unbinds = [];\n\n    // note: `disabledButton` is a special class field that the UIBehavior will\n    // look for on each control button render to know if that button should be enabled/disabled\n    this.disabledButton = true;\n    this.#buttonState = DISABLED;\n\n    this.#loadCaptionsV3().then(() => {\n      if (this.captionsV3Control.captionAndSubtitleTextTracks().length > 0) {\n        this.disabledButton = false;\n        this.#buttonState = OFF;\n        this.renderButton();\n      }\n\n      // this ensures that if a track is added at a later time\n      // the button will be enabled\n      this.unbinds.push(\n        this.video.on('addtrack', () => {\n          this.disabledButton = false;\n          this.#buttonState = OFF;\n          this.renderButton();\n        }),\n\n        // TODO: this will obvs have to change when we have multiple tracks\n        this.video.on('captionschange', () => {\n          if (this.captionsV3Control.selectedLanguage) {\n            this.#buttonState = ON;\n          } else {\n            this.#buttonState = OFF;\n          }\n          this.renderButton();\n        }),\n      );\n    });\n  }\n\n  // controlDialogClosed() {\n  //   this.updateButtonLabel();\n  // }\n\n  // controlDialogOpened() {\n  //   this.updateButtonLabel();\n  // }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  // menuItems() {\n  //   const tracks = this.captionAndSubtitleTextTracks().map((track) => {\n  //     return {\n  //       text: track.label,\n  //       isSelected: track.mode === 'showing',\n  //       onClick: () => {\n  //         this.setSelectedLanguage(track.language);\n  //       },\n  //     };\n  //   });\n\n  //   return [\n  //     {\n  //       text: this.translate('OFF'),\n  //       isSelected: this.selectedLanguage === OFF,\n  //       onClick: () => {\n  //         this.setSelectedLanguage(OFF);\n  //       },\n  //     },\n  //   ].concat(tracks);\n  // }\n\n  #loadCaptionsV3() {\n    if (this.#captionsV3Promise) {\n      return this.#captionsV3Promise;\n    }\n\n    this.#captionsV3Promise = dynamicImport('assets/external/captions-v3.js')\n      .then((moduleClass) => {\n        defineControl(moduleClass.CaptionsV3Control);\n        return this.video.whenControlMounted('captionsV3');\n      })\n      .then(() => {\n        this.captionsV3Control = this.video.controls.captionsV3;\n      });\n\n    return this.#captionsV3Promise;\n  }\n\n  mountButton(buttonRoot) {\n    this.buttonRoot = buttonRoot;\n    this.renderButton();\n  }\n\n  // mountDialog(dialogRoot) {\n  //   if (this.captionAndSubtitleTextTracks().length <= 1) {\n  //     return;\n  //   }\n\n  //   this.dialogRoot = dialogRoot;\n  //   const codeLoaded = dynamicImport('assets/external/interFontFace.js').then(() => {\n  //     this.selectedLanguage = OFF;\n\n  //     this.renderDialog();\n  //   });\n\n  //   this.loading(\n  //     new Promise((resolve) => {\n  //       codeLoaded.then(resolve);\n  //     }),\n  //   );\n\n  //   return codeLoaded;\n  // }\n\n  // this button is only clickable once the captions-v3 control code has been loaded\n  // TODO: will have to change when there are multiple tracks\n  onClickButton = () => {\n    if (this.captionsV3Control?.selectedLanguage) {\n      this.captionsV3Control.setLanguage(undefined);\n      this.#buttonState = OFF;\n    } else {\n      const lang = this.captionsV3Control.captionAndSubtitleTextTracks()[0].language;\n      this.captionsV3Control.setLanguage(lang);\n      this.#buttonState = ON;\n    }\n\n    this.renderButton();\n  };\n\n  onControlPropsUpdated(prevProps) {\n    if (this.dialog && this.dialog.isOpen()) {\n      this.renderDialog();\n    }\n\n    if (\n      prevProps.playerLanguage &&\n      this.props.playerLanguage.code !== prevProps.playerLanguage.code\n    ) {\n      this.updateButtonLabel();\n    }\n  }\n\n  renderButton() {\n    if (this.video._inNativeMode() || !this.buttonRoot) {\n      return;\n    }\n\n    this.updateButtonLabel();\n    render(\n      <CaptionsButton\n        onClick={this.onClickCaptionsButton}\n        color={this.video.playerColor()}\n        filled={Boolean(this.captionsV3Control?.selectedTrack)}\n      />,\n      this.buttonRoot,\n    );\n    this.reactMounts.button = [this.buttonRoot];\n  }\n\n  // renderDialog() {\n  //   if (!this.dialogRoot) {\n  //     return;\n  //   }\n\n  //   render(\n  //     <CaptionsV3Menu {...this.props} items={this.menuItems()} scale={this.props.scale} />,\n  //     this.dialogRoot,\n  //   );\n  //   this.reactMounts.menu = [this.dialogRoot];\n  // }\n\n  updateButtonLabel() {\n    const translationKeys = {\n      [ON]: 'CAPTIONS_TURN_OFF',\n      [OFF]: 'CAPTIONS_TURN_ON',\n      [MENU_CLOSED]: 'CAPTIONS_SHOW_MENU',\n      [MENU_OPEN]: 'CAPTIONS_HIDE_MENU',\n      [DISABLED]: 'CAPTIONS_DISABLED',\n    };\n\n    const key = translationKeys[this.#buttonState];\n    const text = getTranslation(this.props.playerLanguage.code, key);\n\n    this.setButtonLabel(text);\n  }\n}\n\nCaptionsV3ButtonControl.handle = 'captionsV3Button';\nCaptionsV3ButtonControl.type = 'control-bar-right';\nCaptionsV3ButtonControl.sortValue = 50;\nCaptionsV3ButtonControl.shouldMount = (video) => {\n  return video.isLiveMedia();\n};\ndefineControl(CaptionsV3ButtonControl);\n","import { h, render, Component } from 'preact';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\n\nclass CaptionsButton extends Component {\n  shouldComponentUpdate(nextProps) {\n    if (this.props.filled !== nextProps.filled) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const strokeData = {\n      'stroke-linecap': 'round',\n      'stroke-miterlimit': 10,\n    };\n\n    const background = {\n      ...strokeData,\n      fill: this.props.filled ? '#fff' : 'none',\n      stroke: '#ffffff',\n    };\n\n    const captionsCharacters = {\n      ...strokeData,\n      fill: 'none',\n      stroke: this.props.filled ? `#${this.props.color}` : '#fff',\n    };\n\n    return (\n      <svg {...standardSvgAttrs({ width: 40, height: 34 })}>\n        <g>\n          <path\n            {...background}\n            stroke-width=\"2\"\n            d=\"M31,21.9c0,1.6-1.4,3-3,3H12c-1.6,0-3-1.4-3-3V12c0-1.6,1.4-3,3-3h16c1.6,0,3,1.4,3,3V21.9z\"\n          />\n        </g>\n        <g>\n          <path\n            {...captionsCharacters}\n            stroke-width=\"1.8\"\n            d=\"M18.4,18.7c-0.5,0.7-1.1,1.2-2.1,1.2c-1.3,0-2.4-1.1-2.4-2.8c0-1.6,1-2.8,2.4-2.8c1,0,1.6,0.5,2,1.2\"\n          />\n        </g>\n        <g>\n          <path\n            {...captionsCharacters}\n            stroke-width=\"1.8\"\n            d=\"M25.8,18.7c-0.5,0.7-1.1,1.2-2.1,1.2c-1.3,0-2.4-1.1-2.4-2.8c0-1.6,1-2.8,2.4-2.8c1,0,1.6,0.5,2,1.2\"\n          />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default CaptionsButton;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { unescapeHtml } from 'utilities/core.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport Control from '../../shared/controls/Control.js';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\nimport { getTranslation, defineTranslations } from '../../../../../shared/translations.js';\n\nconst detect = cachedDetect();\n\ndefineTranslations('en-US', {\n  BACKGROUND_FOCUS_SHOW_CONTROLS: 'Show controls',\n});\n\nclass BackgroundFocusControl extends Control {\n  constructor(video) {\n    super(video);\n    this.video = video;\n    this._focusImmediately = false;\n\n    this.unbinds.push(\n      this.video.on('play', this.render),\n      this.video.on('pause', this.render),\n      this.video.on('end', this.render),\n    );\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  onControlPropsUpdated = (prevProps) => {\n    const { isFocusable } = this.props;\n    // If the grandparent of this element is not yet visible when we try to\n    // focus, which can happen within a popover, focus would silently fail.\n    // So if it is not yet focusable when we call `focus` we set the\n    // _focusImmediately flag and keep checking the changed props to see\n    // if we are able to focus yet.\n    if (prevProps.isFocusable != isFocusable && isFocusable && this._focusImmediately) {\n      this.el.focus({ preventScroll: true });\n      this._focusImmediately = false;\n    }\n  };\n\n  focus = () => {\n    if (this.props.isFocusable) {\n      this.el.focus({ preventScroll: true });\n    } else {\n      this._focusImmediately = true;\n    }\n  };\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n    this.render();\n  }\n\n  onBlur = () => {\n    this.video.exitInputContext('background-focus');\n    this.video.controls.focusOutline.hide();\n  };\n\n  onFocus = () => {\n    this.video.enterInputContext('background-focus');\n    if (this.video.isKeyboardFocused() === true) {\n      this.video.controls.focusOutline.show();\n    }\n  };\n\n  style() {\n    return {\n      width: 0,\n      height: 0,\n      pointerEvents: 'none',\n    };\n  }\n\n  // The background focus button will do different things\n  // based on the state of the video\n  getTranslation() {\n    if (detect.touchScreen && !this.props.chromeless) {\n      return this.translate('BACKGROUND_FOCUS_SHOW_CONTROLS');\n    }\n    // all other times we can just say play/pause\n    return this.video.state() === 'playing'\n      ? this.translate('PLAY_BUTTON_TITLE_WHEN_PLAYING')\n      : this.translate('PLAY_BUTTON_TITLE_WHEN_NOT_PLAYING');\n  }\n\n  // using the same key as the small button translations\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, key);\n  }\n\n  render = () => {\n    const buttonTabIndex =\n      !this.video.publicApi.popover || this.video.publicApi.popover.isVisible() ? 0 : -1;\n    render(\n      <button\n        ref={(elem) => (this.el = elem)} // used in `focus` method of VulcanV2Player\n        aria-label={`${this.getTranslation()}: ${unescapeHtml(this.video.name() || '')}`}\n        class=\"w-css-reset w-vulcan-v2-button\"\n        onBlur={this.onBlur}\n        onFocus={this.onFocus}\n        style={this.style()}\n        tabIndex={buttonTabIndex}\n      />,\n      this.rootElem,\n    );\n\n    this.reactMounts = [this.rootElem];\n  };\n}\n\nBackgroundFocusControl.shouldMount = () => true;\n\nBackgroundFocusControl.handle = 'backgroundFocus';\nBackgroundFocusControl.type = 'background';\nBackgroundFocusControl.sortValue = 100;\n\ndefineControl(BackgroundFocusControl);\nexport default BackgroundFocusControl;\n","import { controlMultiplierBasedOnVideo } from 'utilities/fit-control.js';\nimport { h, render } from 'preact';\nimport Control from '../../shared/controls/Control.js';\nimport BigPlayButton from '../../shared/ui_components/BigPlayButton.jsx';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\n\nconst BASE_WIDTH = 125;\nconst BASE_HEIGHT = 80;\n\nclass BigPlayButtonControl extends Control {\n  constructor(video) {\n    super(video);\n    this.video = video;\n\n    this.eventListeners.set('playercolorchange', () => this.renderButton());\n\n    this.unbinds.push(\n      video.on('play', this.renderButton),\n      video.on('playrejected', this.renderButton),\n      video.on('playpending', this.renderButton),\n      video.on('playerlanguagechange', this.renderButton),\n      video.on('end', this.renderButton),\n      video.on('up', this.renderButton),\n      video.on('trimchange', this.renderButton),\n    );\n    this._timeEnabled = this.video._opts.bpbTime;\n\n    this.hiddenButton = this.video.isLiveMedia();\n\n    if (this.video.isLiveMedia()) {\n      this.video.ready(() => {\n        this.hiddenButton = false;\n        this.renderButton();\n      });\n    }\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n    this.renderButton();\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  renderButton = () => {\n    if (this.__destroyed || this.hiddenButton) {\n      return;\n    }\n    const buttonTabIndex =\n      !this.video.publicApi.popover || this.video.publicApi.popover.isVisible() ? 0 : -1;\n    render(\n      <BigPlayButton\n        baseHeight={BASE_HEIGHT}\n        baseWidth={BASE_WIDTH}\n        borderRadius={this.props.bigPlayButtonBorderRadius}\n        buttonTabIndex={buttonTabIndex}\n        color={this.video.playerColor()}\n        duration={this.video.duration()}\n        elemRef={(elem) => (this.buttonElem = elem)}\n        isLiveMedia={this.video.isLiveMedia()}\n        isVisible={this.shouldShow()}\n        leftNudgeFraction={this.getLeftNudgeFraction()}\n        noMixBlendMode={this.video.embedOptions().noMixBlendMode}\n        onClick={this.onClick}\n        controlBarDistance={this.props.controlBarDistance}\n        playerLanguage={this.props.playerLanguage}\n        scale={this.scale()}\n        showBpbTime={this._timeEnabled}\n        topNudgeFraction={this.getTopNudgeFraction()}\n        videoHeight={this.props.videoHeight - this.props.controlBarHeight * 0.75}\n        videoName={this.video.name() || ''}\n        videoWidth={this.props.videoWidth}\n      />,\n      this.rootElem,\n    );\n    this.reactMounts = [this.rootElem];\n  };\n\n  onControlPropsUpdated(prevProps) {\n    if (\n      this.props.videoWidth !== prevProps.videoWidth ||\n      this.props.videoHeight !== prevProps.videoHeight ||\n      this.props.bigPlayButtonBorderRadius !== prevProps.bigPlayButtonBorderRadius\n    ) {\n      this.renderButton();\n    }\n  }\n\n  onClick = () => {\n    this.video.play();\n    this.video.focus();\n  };\n\n  shouldShow() {\n    const video = this.video;\n    return (\n      video.lastPlayInfo().isPending === false &&\n      (video.state() === 'beforeplay' ||\n        (video.state() === 'ended' && video._attrs.endVideoBehavior === 'reset'))\n    );\n  }\n\n  scale() {\n    return Math.min(1.3, Math.max(0.3, controlMultiplierBasedOnVideo(this.video, [640, 960])));\n  }\n\n  setTimeEnabled(timeEnabled) {\n    this._timeEnabled = timeEnabled;\n    this.renderButton();\n  }\n\n  setLeftNudgeFraction(f) {\n    this._leftNudgeFraction = f;\n    this.renderButton();\n  }\n\n  setTopNudgeFraction(f) {\n    this._topNudgeFraction = f;\n    this.renderButton();\n  }\n\n  getLeftNudgeFraction() {\n    if (this._leftNudgeFraction != null) {\n      return this._leftNudgeFraction;\n    }\n    return this.video._opts.bpbLeftNudge;\n  }\n\n  getTopNudgeFraction() {\n    if (this._topNudgeFraction != null) {\n      return this._topNudgeFraction;\n    }\n    return this.video._opts.bpbTopNudge;\n  }\n\n  getButtonOffsets() {\n    const { offsetHeight, offsetTop } = this.buttonElem;\n    return { offsetHeight, offsetTop };\n  }\n}\n\nBigPlayButtonControl.shouldMount = (video) => {\n  const bigPlayButtonOpt = video._attrs.bigPlayButton;\n  return bigPlayButtonOpt == null || bigPlayButtonOpt === true;\n};\n\nBigPlayButtonControl.handle = 'bigPlayButton';\nBigPlayButtonControl.type = 'above-control-bar';\ndefineControl(BigPlayButtonControl);\n\nexport default BigPlayButtonControl;\n","import { elemStyle } from 'utilities/elem.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { cast, merge } from 'utilities/obj.js';\n\nconst detect = cachedDetect();\n\nexport const scalingOptionsFromVideo = (video, options) => {\n  return merge(\n    {\n      videoWidth: video.videoWidth(),\n      videoHeight: video.videoHeight(),\n      isInFullscreen: video.inFullscreen(),\n      controlScaling: video.controlScaling(),\n    },\n    options,\n  );\n};\n\nexport const controlDimensions = (options = {}, baseWidth = 40, baseHeight = 34) => {\n  options = merge(\n    {\n      videoWidth: 640,\n      videoHeight: 360,\n      isInFullscreen: false,\n      baseWidth: baseWidth != null ? baseWidth : 40,\n      baseHeight: baseHeight != null ? baseHeight : 34,\n    },\n    options,\n  );\n  const multiplier = controlMultiplier(options);\n  return { width: multiplier * options.baseWidth, height: multiplier * options.baseHeight };\n};\n\nexport const bigPlayButtonDimensions = (options, baseWidth, baseHeight) => {\n  return controlDimensions(options, baseWidth, baseHeight);\n};\n\n// abstracted so this can easily be changed if we wanted.\nexport const fontSizeMultiplier = (options) => {\n  return controlMultiplier(options);\n};\n\nexport const allowBigControls = (options = {}) => {\n  const screenHeight = options.screenHeight || window.screen.height;\n  const screenWidth = options.screenWidth || window.screen.width;\n  return (\n    options.controlScaling != 'auto' ||\n    detect.iphone ||\n    detect.android ||\n    screenWidth < screenHeight\n  );\n};\n\nexport const maxMultiplierForVideo = (options) => {\n  if (options.controlScaling != 'auto') {\n    return options.controlScaling;\n  }\n\n  if (allowBigControls(options)) {\n    // the device dimensions are oriented vertically; this is probably a phone\n    // or tablet, or just a monitor that would be fine with huge controls.\n    return 3.5;\n  }\n  return 1.4;\n};\n\nexport const minMultiplierForVideo = (options) => {\n  if (options.controlScaling != 'auto') {\n    return options.controlScaling;\n  }\n\n  if (allowBigControls(options)) {\n    // the controls are unusable if we scale down too much for on phones and\n    // tablets.\n    return 1;\n  }\n  return 0.75;\n};\n\nexport const getZoomMultiplier = (options) => {\n  if (!options.isInFullscreen) {\n    return 1;\n  }\n\n  const result = Math.max(1, window.innerWidth / Math.max(screen.width, screen.height));\n  return result;\n};\n\nexport const getDeviceMultiplier = (options) => {\n  if (allowBigControls(options)) {\n    return 1.4;\n  }\n  return 1;\n};\n\nexport const controlMultiplierForVideo = (video, options) => {\n  return controlMultiplier(scalingOptionsFromVideo(video, options));\n};\n\nexport const controlMultiplier = (options) => {\n  if (options.controlScaling != 'auto') {\n    return options.controlScaling;\n  }\n\n  const { videoWidth, videoHeight } = options;\n  const zoomMultiplier = getZoomMultiplier(options);\n  const largestDimension = Math.max(videoWidth, videoHeight);\n  if (largestDimension > 960) {\n    const percentOverThreshold = largestDimension / 960;\n    const scaleFactor = percentOverThreshold * getDeviceMultiplier(options);\n    return Math.min(maxMultiplierForVideo(options) * zoomMultiplier, scaleFactor * zoomMultiplier);\n  }\n  if (largestDimension < 640) {\n    const percentUnderThreshold = largestDimension / 640;\n    const scaleFactor = percentUnderThreshold * getDeviceMultiplier(options);\n    return Math.max(minMultiplierForVideo(options) * zoomMultiplier, scaleFactor * zoomMultiplier);\n  }\n  return 1 * getDeviceMultiplier(options);\n};\n\n// abstracted so this can easily be changed if we wanted.\nexport const menuMultiplier = (options) => {\n  return Math.max(0.75, controlMultiplier(options));\n};\n\nexport const fitControl = (options) => {\n  const { controlId, video, controlElem } = options;\n  options = merge(\n    {\n      videoWidth: video.videoWidth(),\n      videoHeight: video.videoHeight(),\n      controlScaling: video.controlScaling(),\n      isInFullscreen: video.inFullscreen(),\n    },\n    options,\n  );\n  const { width, height } = controlDimensions(options);\n  elemStyle(controlElem, {\n    height: `${height}px`,\n    width: `${width}px`,\n  });\n  tapIcon(`${video.uuid}.${controlId}`, controlElem);\n  return { width, height };\n};\n\n// Often the svg size changes don't visually change the vertical position of\n// the icon. \"tapping\" it by forcing it to reevaluate the stack is one way to\n// fix that.\nexport const tapIcon = (timeoutPrefix, controlElem) => {\n  const svgs = controlElem.getElementsByTagName('svg');\n  for (let i = 0; i < svgs.length; i++) {\n    ((svg) => {\n      doTimeout(\n        `${timeoutPrefix}.tap_icon`,\n        () => {\n          elemStyle(svg, { position: 'relative' });\n          doTimeout(\n            '#{timeoutPrefix}.tap_icon',\n            () => {\n              elemStyle(svg, { position: '' });\n            },\n            30,\n          );\n        },\n        30,\n      );\n    })(svgs[i]);\n  }\n};\n\nexport const parseMetaViewport = () => {\n  const metaTag = document.querySelector('meta[name=viewport]');\n  const content = metaTag && metaTag.getAttribute('content');\n  const result = {};\n  if (content) {\n    const pairs = content.split(/[\\s,]+/);\n    pairs.forEach((pair) => {\n      const keyAndVal = pair.split('=');\n      if (keyAndVal.length === 2) {\n        result[keyAndVal[0]] = cast(keyAndVal[1]);\n      }\n    });\n  }\n  return result;\n};\n\nconst normalScaleWidthRange = (media) => {\n  const onMobile = detect.iphone || detect.ipad || detect.android;\n\n  if (!onMobile) {\n    return [640, 960];\n  }\n\n  if (media?.isAudio()) {\n    return [500, 960];\n  }\n\n  const viewport = parseMetaViewport();\n\n  let screenWidth;\n  if (viewport.width) {\n    // Initial render being controled by <meta name='viewport' content='...'/>\n    if (typeof viewport.width === 'number') {\n      screenWidth = 0 + viewport.width;\n    } else {\n      screenWidth = screen.width || window.innerWidth;\n    }\n\n    // This doesn't capture any scaling the user does after the initial\n    // render, but the page designer would expect the video to render at the\n    // scale they set.\n    const scale = Math.max(\n      viewport['minimum-scale'] || 0,\n      Math.min(viewport['maximum-scale'] || 10, viewport['initial-scale'] || 1),\n    );\n    if (scale < 1) {\n      screenWidth /= scale;\n    }\n  } else {\n    // Initial render will use the width of the document to determine its\n    // size, then zoom out to show the whole page.\n    screenWidth = window.innerWidth;\n  }\n\n  return [screenWidth, (screenWidth * 2) / 3];\n};\n\nexport const controlMultiplierBasedOnVideo = (video, normalRange) => {\n  const vidWidth = video.videoWidth();\n  const [lowerCutoff, upperCutoff] = normalRange || normalScaleWidthRange(video);\n  if (vidWidth <= lowerCutoff) {\n    return vidWidth / lowerCutoff;\n  }\n  if (vidWidth > upperCutoff) {\n    return vidWidth / upperCutoff;\n  }\n  return 1;\n};\n","import { interNumbersSemiBold } from 'utilities/interFontFamily.js';\nimport { h, render, Component } from 'preact';\nimport Color from 'utilities/color.js';\nimport { unescapeHtml } from 'utilities/core.js';\nimport { flexibleDuration } from 'utilities/duration.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\nimport { getTranslation } from '../../../../../shared/translations.js';\nimport withOnClick from '../../higher_order_components/withOnClick.js';\n\nconst detect = cachedDetect();\n\nclass BigPlayButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHovering: false,\n    };\n  }\n\n  render() {\n    const { baseHeight, baseWidth, elemRef, scale } = this.props;\n    const svgAttrs = standardSvgAttrs({\n      width: baseWidth,\n      height: baseHeight,\n      styleOverride: { position: 'absolute', height: `${baseHeight * scale}px` },\n      ariaHidden: true,\n    });\n    return (\n      <div\n        class=\"w-bpb-wrapper w-css-reset w-css-reset-tree\"\n        ref={elemRef}\n        style={this.wrapperStyle()}\n      >\n        <button\n          class=\"w-big-play-button w-css-reset-button-important w-vulcan-v2-button\"\n          style={this.buttonStyle()}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          onfocusin={this.onFocusIn}\n          onfocusout={this.onFocusOut}\n          aria-label={`${this.translate('TITLE_WHEN_NOT_PLAYING')}: ${unescapeHtml(\n            this.props.videoName,\n          )}`}\n          tabIndex={this.props.buttonTabIndex}\n        >\n          <div style={this.blendStyle()} />\n          <div style={this.overlayStyle()} />\n          <svg {...svgAttrs} alt=\"\">\n            <rect\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              fill=\"none\"\n              width={baseWidth}\n              height={baseHeight}\n            />\n            <polygon\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              fill=\"#FFFFFF\"\n              points=\"53,22 53,58 79,40\"\n            />\n          </svg>\n        </button>\n        {this.props.showBpbTime && this.props.isLiveMedia !== true ? (\n          <div class=\"w-bpb-time\" style={this.timeStyle()}>\n            {flexibleDuration(this.props.duration)}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `PLAY_BUTTON_${key}`);\n  }\n\n  wrapperStyle() {\n    const {\n      baseHeight,\n      baseWidth,\n      borderRadius,\n      isVisible,\n      leftNudgeFraction,\n      controlBarDistance,\n      topNudgeFraction,\n      scale,\n    } = this.props;\n    const width = baseWidth * scale;\n    const height = baseHeight * scale;\n    return {\n      borderRadius: `${borderRadius}px`,\n      display: isVisible ? 'block' : 'none',\n      left: `calc(50% + ${(leftNudgeFraction || 0) * 100}%)`,\n      marginLeft: `-${width / 2}px`,\n      marginTop: `-${height / 2}px`,\n      overflow: 'hidden',\n      position: 'absolute',\n      top: `calc(50% + ${(topNudgeFraction || 0) * 100}% - ${controlBarDistance}px)`,\n    };\n  }\n\n  shouldMixBlendMode() {\n    const { noMixBlendMode } = this.props;\n    return !detect.edge && !noMixBlendMode;\n  }\n\n  blendStyle() {\n    const { baseHeight, baseWidth, color: colorStr, scale } = this.props;\n    const color = new Color(colorStr || '#000').alpha(1);\n    return {\n      background: color.toRgba(),\n      display: this.shouldMixBlendMode() ? 'block' : 'none',\n      left: 0,\n      height: `${baseHeight * scale}px`,\n      mixBlendMode: 'darken',\n      position: 'absolute',\n      top: 0,\n      width: `${baseWidth * scale}px`,\n    };\n  }\n\n  overlayStyle() {\n    const { baseHeight, baseWidth, color: colorStr, scale } = this.props;\n    const { isHovering } = this.state;\n    const color = new Color(colorStr || '#000');\n\n    color.alpha(0.7);\n\n    if (!this.shouldMixBlendMode()) {\n      color.alpha(0.85);\n    }\n\n    if (isHovering) {\n      color.lighten(30);\n    }\n\n    return {\n      backgroundColor: color.toRgba(),\n      height: `${baseHeight * scale}px`,\n      left: 0,\n      position: 'absolute',\n      top: 0,\n      transition: 'background-color 150ms',\n      width: `${baseWidth * scale}px`,\n    };\n  }\n\n  buttonStyle() {\n    const { scale, baseHeight, baseWidth } = this.props;\n    return {\n      cursor: 'pointer',\n      height: `${baseHeight * scale}px`,\n      boxShadow: this.state.isKeyboardFocused ? '0 0 0 2px #fff inset' : 'none',\n      width: `${baseWidth * scale}px`,\n    };\n  }\n\n  timeStyle() {\n    const { scale } = this.props;\n    return {\n      background: 'rgba(0,0,0,.4)',\n      color: '#fff',\n      fontFamily: interNumbersSemiBold,\n      fontSize: `${18 * scale}px`,\n      lineHeight: `${30 * scale}px`,\n      pointerEvents: 'none',\n      textAlign: 'center',\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ isHovering: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ isHovering: false });\n  };\n\n  onFocusIn = () => {\n    this.setState({ isHovering: true });\n  };\n\n  onFocusOut = () => {\n    this.setState({ isHovering: false });\n  };\n}\n\nexport default withOnClick(BigPlayButton);\n","import { h, render, Component } from 'preact';\nimport { elemBind } from 'utilities/elem.js';\n\nconst withOnClick = (WrappedComponent) => {\n  return class extends Component {\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n\n    componentDidMount() {\n      this.setupBindings();\n    }\n\n    componentDidUpdate() {\n      // this.base may have changed with any render, so we need to reset our\n      // bindings.\n      this.destroyBindings();\n      this.setupBindings();\n    }\n\n    componentWillUnmount() {\n      this.destroyBindings();\n    }\n\n    setupBindings() {\n      this.unbinds = [];\n\n      this.unbinds.push(elemBind(this.base, 'click', this.onClick));\n    }\n\n    destroyBindings() {\n      if (this.unbinds) {\n        this.unbinds.map((unbind) => unbind());\n        this.unbinds = null;\n      }\n    }\n\n    onClick = (e) => {\n      const onClick = this.props.onClick;\n      if (onClick) {\n        onClick(e);\n      }\n    };\n  };\n};\n\nexport default withOnClick;\n","import { h, render } from 'preact';\nimport { bindify } from 'utilities/bindify.js';\nimport { isMouseDown } from 'utilities/isMouseDown.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport { defineControl } from 'embeds/shared/control_definitions.js';\nimport { getTranslation, defineTranslations } from '../../../../../../shared/translations.js';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { ClickForSoundButton } from './ClickForSoundButton.tsx';\nimport Control from '../../../shared/controls/Control.js';\n\nconst detect = cachedDetect();\n\ndefineTranslations('en-US', {\n  CLICK_FOR_SOUND_DESKTOP_TEXT: 'Click for sound',\n  CLICK_FOR_SOUND_MOBILE_TEXT: 'Tap for sound',\n});\n\nclass ClickForSoundButtonControl extends Control {\n  constructor(video) {\n    super(video);\n    this.silentAutoPlayBackdropEnabled = this.video._opts.silentAutoPlayBackdropEnabled;\n\n    this.unbinds.push(\n      video.on('play', this.renderButton),\n      video.on('silentplaybackmodechange', this.renderButton),\n      video.on('volumechange', this.renderButton),\n    );\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n    this.renderButton();\n  }\n\n  renderButton = () => {\n    const silentAutoPlayIsChromeless = Boolean(this.video._opts.silentAutoPlayIsChromeless);\n    const isVisible = this.isVisible();\n    if (silentAutoPlayIsChromeless) {\n      if (isVisible) {\n        this.video.requestChromeless('clickForSound');\n      } else {\n        this.video.releaseChromeless('clickForSound');\n      }\n    }\n\n    this.video.trigger('clickforsoundvisibilitychange', isVisible);\n\n    let loadDeps;\n    if (isVisible) {\n      const oneSecondElapsed = new Promise((resolve) => {\n        setTimeout(resolve, 1000);\n      });\n      loadDeps = Promise.race([\n        oneSecondElapsed,\n        dynamicImport('assets/external/interFontFace.js'),\n      ]);\n    } else {\n      loadDeps = Promise.resolve();\n    }\n    if (!this.lastRenderPromise) {\n      this.lastRenderPromise = Promise.resolve();\n    }\n\n    this.lastRenderPromise.then(() => {\n      this.lastRenderPromise = new Promise((resolve) => {\n        loadDeps.then(() => {\n          render(\n            <ClickForSoundButton\n              {...this.props}\n              isTouchscreen={detect.touchScreen}\n              backdropEnabled={this.getSilentAutoplayBackdropState()}\n              buttonText={this.buttonText()}\n              elemRef={(elem) => (this.buttonRoot = elem)}\n              isVisible={this.isVisible()}\n              onClick={this.onClick}\n              scale={this.scale()}\n            />,\n            this.rootElem,\n          );\n          this.reactMounts = [this.rootElem];\n          this.trigger('buttonrootrendered');\n          resolve();\n        });\n      });\n    });\n  };\n\n  onControlPropsUpdated(prevProps) {\n    const props = this.props;\n    if (\n      prevProps.scale !== props.scale ||\n      prevProps.controlsAreVisible !== props.controlsAreVisible ||\n      prevProps.controlBarHeight !== props.controlBarHeight\n    ) {\n      this.renderButton();\n    }\n\n    if (\n      prevProps.playerLanguage &&\n      this.props.playerLanguage.code !== prevProps.playerLanguage.code\n    ) {\n      this.renderButton();\n    }\n  }\n\n  onClick = (e) => {\n    if (!isMouseDown()) {\n      // the control will disappear when we unmute. We should at least maintain\n      // focus on the player when that happens.\n      this.video.focus();\n    }\n\n    this.video.unmute();\n    this.video.turnOffCaptions();\n    this.trigger('click', e);\n  };\n\n  getSilentAutoplayBackdropState() {\n    if (this.silentAutoPlayBackdropEnabled != undefined) {\n      return this.silentAutoPlayBackdropEnabled;\n    }\n\n    return true;\n  }\n\n  setSilentAutoPlayBackdropEnabled(val) {\n    this.silentAutoPlayBackdropEnabled = val;\n    this.renderButton();\n  }\n\n  isVisible() {\n    return this._isVisible != null ? this._isVisible : this.video.inSilentPlaybackMode();\n  }\n\n  setIsVisible(v) {\n    this._isVisible = v;\n    this.renderButton();\n    this.video.trigger('clickforsoundvisibilitychange', this.isVisible());\n  }\n\n  buttonText() {\n    if (this._buttonText) {\n      return this._buttonText;\n    }\n    return detect.touchScreen ? this.translate('MOBILE_TEXT') : this.translate('DESKTOP_TEXT');\n  }\n\n  setButtonText(t) {\n    this._buttonText = t;\n    this.renderButton();\n  }\n\n  afterButtonRenders() {\n    return new Promise((resolve) => {\n      this.bind('buttonrootrendered', () => {\n        resolve(this.buttonRoot);\n        return this.unbind;\n      });\n    });\n  }\n\n  translate(key) {\n    return getTranslation(this.props?.playerLanguage.code, `CLICK_FOR_SOUND_${key}`);\n  }\n\n  scale() {\n    const { scale } = this.props;\n    return detect.touchScreen ? scale : scale * 1.5;\n  }\n}\n\nbindify(ClickForSoundButtonControl.prototype);\n\nClickForSoundButtonControl.handle = 'clickForSoundButton';\nClickForSoundButtonControl.type = 'above-control-bar';\ndefineControl(ClickForSoundButtonControl);\n\nexport default ClickForSoundButtonControl;\n","import { h, FunctionComponent } from 'preact';\nimport { useRef, useState } from 'preact/hooks';\nimport { isMouseDown } from '../../../../../../../utilities/isMouseDown.js';\nimport { interFontFamily } from '../../../../../../../utilities/interFontFamily.js';\nimport CustomEventsWrapper from '../../../../../../shared/CustomEventsWrapper.jsx';\n\nconst iconStyle = `\n  @keyframes VOLUME_SMALL_WAVE_FLASH {\n    0% { opacity: 0; }\n    33% { opacity: 1; }\n    66% { opacity: 1; }\n    100% { opacity: 0; }\n  }\n\n  @keyframes VOLUME_LARGE_WAVE_FLASH {\n    0% { opacity: 0; }\n    33% { opacity: 1; }\n    66% { opacity: 1; }\n    100% { opacity: 0; }\n  }\n\n  .volume__small-wave {\n    animation: VOLUME_SMALL_WAVE_FLASH 2s infinite;\n    opacity: 0;\n  }\n\n  .volume__large-wave {\n    animation: VOLUME_LARGE_WAVE_FLASH 2s infinite .3s;\n    opacity: 0;\n  }\n`;\n\nconst ICON_LENGTH = 35;\nconst POSITION_FROM_SIDE = 15;\nconst MAX_BTN_WIDTH = '1000px';\n\ninterface Props {\n  backdropEnabled: boolean;\n  buttonText: string;\n  elemRef: boolean;\n  isTouchscreen: boolean;\n  isVisible: boolean;\n  onClick: () => void;\n  scale: number;\n}\n\nexport const ClickForSoundButton: FunctionComponent<Props> = ({\n  backdropEnabled,\n  buttonText,\n  elemRef,\n  isTouchscreen,\n  isVisible,\n  onClick,\n  scale,\n}) => {\n  const scaledIconLength = ICON_LENGTH * scale;\n  const topRight = POSITION_FROM_SIDE * scale - 2;\n  const btnTextSpanRef = useRef<HTMLDivElement | null>(null);\n  const [isKeyboardFocused, setIsKeyboardFocused] = useState(false);\n\n  const onFocus = () => {\n    if (isMouseDown() as boolean) return;\n    setIsKeyboardFocused(true);\n  };\n\n  const onBlur = () => setIsKeyboardFocused(false);\n\n  const onMouseEnter = () => {\n    if (isTouchscreen || btnTextSpanRef.current === null) return;\n    btnTextSpanRef.current.style.maxWidth = MAX_BTN_WIDTH;\n  };\n\n  const onMouseLeave = () => {\n    if (isTouchscreen || btnTextSpanRef.current === null) return;\n    btnTextSpanRef.current.style.maxWidth = '0px';\n  };\n\n  return (\n    <CustomEventsWrapper\n      class=\"w-css-reset w-css-reset-tree\"\n      data-handle=\"click-for-sound-backdrop\"\n      elemRef={elemRef}\n      onClick={onClick}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      style={{\n        display: isVisible ? 'block' : 'none',\n        height: '100%',\n        left: 0,\n        pointerEvents: backdropEnabled ? 'auto' : 'none',\n        position: 'absolute',\n        top: 0,\n        width: '100%',\n      }}\n    >\n      <button\n        aria-label={buttonText}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        class=\"w-vulcan-v2-button click-for-sound-btn\"\n        style={{\n          background: 'rgba(0,0,0,0.8)',\n          border: `2px solid ${isKeyboardFocused ? '#fff' : 'transparent'}`,\n          borderRadius: '60px',\n          cursor: 'pointer',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          outline: 'none',\n          pointerEvents: 'auto',\n          position: 'absolute',\n          right: `${topRight}px`,\n          top: `${topRight}px`,\n        }}\n      >\n        <div\n          ref={btnTextSpanRef}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            maxWidth: isTouchscreen ? MAX_BTN_WIDTH : 0,\n            transition: 'max-width 200ms',\n          }}\n        >\n          <span\n            style={{\n              color: '#fff',\n              fontFamily: interFontFamily as string,\n              fontSize: '18px',\n              fontWeight: 500,\n              paddingLeft: '1em',\n            }}\n          >\n            {buttonText}\n          </span>\n        </div>\n\n        <svg viewBox=\"0 0 237 237\" width={scaledIconLength} height={scaledIconLength}>\n          <style>{iconStyle}</style>\n          <path fill=\"#fff\" d=\"M88 107H65v24h24l23 23V84z\" />\n          <g fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"10\">\n            <path d=\"M142 86c9 21 9 44 0 65\" class=\"volume__small-wave\" />\n            <path d=\"M165 74c13 23 13 66 0 89\" class=\"volume__large-wave\" />\n          </g>\n        </svg>\n      </button>\n    </CustomEventsWrapper>\n  );\n};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);return n.__||(n.__=\"P\"+function(n){for(var t=0,r=n.length;r>0;)t=(t<<5)-t+n.charCodeAt(--r)|0;return t}(r.__v.__m)+t),n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){\"function\"!=typeof n.type||n.__m||null===n.__?n.__m||(n.__m=n.__&&n.__.__m?n.__.__m:\"\"):n.__m=(n.__&&n.__.__m?n.__.__m:\"\")+(n.__&&n.__.__k?n.__.__k.indexOf(n):0),r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import { logPromiseErrors } from 'utilities/throwAsync.js';\nimport W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { elemBind, elemIsInside, elemUnbind } from 'utilities/elem.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { isMouseDown } from 'utilities/isMouseDown.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport { defineControl } from '../../../../../../shared/control_definitions.js';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport TouchEvents from '../../../TouchEvents.js';\nimport Control from '../Control.js';\n\nconst detect = cachedDetect();\n\nclass ContextMenuControl extends Control {\n  constructor(video) {\n    super(video);\n    if (detect.touchScreen) {\n      this.touchEvents = new TouchEvents(video.chrome);\n      this.touchEvents.bind('longpress', this.onContextMenu);\n    } else {\n      this.unbinds.push(elemBind(video.chrome, 'contextmenu', this.onContextMenu));\n    }\n\n    this.unbinds.push(elemBind(video.chrome, 'click', this.onClick));\n\n    this.eventListeners.set('hide-copy-link-and-thumbnail-change', () => {\n      this.renderMenu();\n    });\n\n    this.eventListeners.forEach((eventListenerFn, eventName) => {\n      video.embedElement.addEventListener(eventName, eventListenerFn);\n    });\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n    // no rendering immediately on load; we do that on right click\n  }\n\n  destroy() {\n    if (this.touchEvents) {\n      this.touchEvents.destroy();\n      this.touchEvents = null;\n    }\n\n    destroyControl(this);\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (\n      (this.props.playerLanguage !== prevProps.playerLanguage ||\n        this.props.controlBarBorderRadius !== prevProps.controlBarBorderRadius) &&\n      this._visible\n    ) {\n      this.renderMenu();\n    }\n  }\n\n  onContextMenu = (e, ctx) => {\n    if (e.altKey) {\n      // Secret way to right-click the video and inspect: hold ALT while right\n      // clicking or ctrl-clicking.\n      return;\n    }\n\n    if (this.video.ui.shouldOnlyShowControlBar?.()) {\n      // We don't show the context menu when the audio player is very tiny.\n      return;\n    }\n\n    if (e.type === 'contextmenu') {\n      e.preventDefault();\n    }\n\n    this.pageX = e.pageX;\n    this.pageY = e.pageY;\n\n    if (!this._hasLoaded) {\n      this.loading(\n        new Promise((resolve) => {\n          this.resolveLoadingPromise = resolve;\n        }),\n        { x: this.pageX, y: this.pageY },\n      );\n    }\n\n    const mouseupPromise = new Promise((resolve) => {\n      // If touchEvents is supported, we'll be using longpress, which means\n      // mouseup/touchend already fired. Otherwise we'll have bound to\n      // contextmenu, and we want to wait until mouseup fires from that.\n      const isLongPressOnTouchScreen = ctx && ctx.isLongPress;\n      if (!isLongPressOnTouchScreen && isMouseDown()) {\n        elemBind(document, 'mouseup', (mouseUpEvent) => {\n          this.pageX = mouseUpEvent.pageX;\n          this.pageY = mouseUpEvent.pageY;\n          resolve();\n          return elemUnbind;\n        });\n      } else {\n        resolve();\n      }\n    });\n\n    mouseupPromise.then(() => {\n      logPromiseErrors(\n        this.loadContextMenu().then(() => {\n          if (this.renderMenu) {\n            this.resolveLoadingPromise();\n            this.renderMenu(); // we assume ContextMenuExtensions will define this\n            this.menuElemRef.focus();\n          }\n        }),\n      );\n    });\n  };\n\n  onClick = (event) => {\n    if (elemIsInside(event.target, this.rootElem)) {\n      return;\n    }\n\n    if (detect.safari && event.ctrlKey) {\n      // ctrl-click on Safari fires both a \"contextmenu\" and a \"click\" event.\n      // We want to treat that as a right-click, NOT a normal click, for our\n      // purposes.\n      return;\n    }\n\n    if (this.hideMenu) {\n      this.hideMenu();\n    } else if (!this._hasLoaded) {\n      this.loading(\n        new Promise((resolve) => {\n          resolve();\n        }),\n      );\n    }\n  };\n\n  onDocumentMouseUp = (e) => {\n    if (e.ctrlKey || elemIsInside(e.target, this.rootElem)) {\n      return;\n    }\n    elemUnbind(document, 'mouseup', this.onDocumentMouseUp);\n    this.loadContextMenu().then(() => {\n      this.hideMenu();\n    });\n  };\n\n  loadContextMenu() {\n    return Promise.all([\n      dynamicImport('assets/external/interFontFace.js'),\n      dynamicImport('assets/external/vulcanV2Player/shared/controls/ContextMenuControl/menu.js'),\n    ]).then(([, moduleContextMenu]) => {\n      const { ContextMenuExtensions } = moduleContextMenu;\n      for (let k in ContextMenuExtensions) {\n        this[k] = ContextMenuExtensions[k].bind(this);\n      }\n      this._hasLoaded = true;\n    });\n  }\n\n  removeEventListeners() {\n    if (this.eventListeners instanceof Map) {\n      this.eventListeners.forEach((eventListenerFn, eventName) => {\n        this.impl.video.embedElement.removeEventListener(eventName, eventListenerFn);\n      });\n      this.eventListeners.clear();\n    }\n  }\n}\n\nContextMenuControl.handle = 'contextMenu';\nContextMenuControl.type = 'foreground';\n\ndefineControl(ContextMenuControl);\n\nexport default ContextMenuControl;\n","const throwAsync = (e) => {\n  setTimeout(() => {\n    throw e;\n  }, 0);\n};\n\nconst logPromiseErrors = (promise) => {\n  return promise.catch(throwAsync);\n};\n\nexport { throwAsync, logPromiseErrors };\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport Control from '../../shared/controls/Control.js';\nimport { EllipsisButton } from '../../shared/ui_components/EllipsisButton.jsx';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\nimport { getTranslation, defineTranslations } from '../../../../../shared/translations.js';\n\ndefineTranslations('en-US', {\n  ELLIPSIS_LESS: 'Show fewer buttons',\n  ELLIPSIS_MORE: 'Show more buttons',\n});\n\nclass EllipsisButtonControl extends Control {\n  destroy() {\n    destroyControl(this);\n  }\n\n  mountButton(buttonElem) {\n    this.buttonElem = buttonElem;\n    this.renderButton();\n  }\n\n  renderButton() {\n    render(<EllipsisButton />, this.buttonElem);\n    this.setButtonLabel(this.translate(this.video.ui.isShowingMore() ? 'LESS' : 'MORE'));\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `ELLIPSIS_${key}`);\n  }\n\n  onClickButton = () => {\n    if (this.video.ui.isShowingMore()) {\n      this.video.ui.showLess();\n      this.renderButton();\n    } else {\n      this.video.ui.showMore();\n      this.renderButton();\n    }\n  };\n}\n\nEllipsisButtonControl.handle = 'ellipsisButton';\nEllipsisButtonControl.isVideoChrome = true;\nEllipsisButtonControl.type = 'ellipsis';\nEllipsisButtonControl.sortValue = 100000;\n\nEllipsisButtonControl.shouldMount = (video) => {\n  const buttonsOnRight = video._impl.ui?.getControlsByType('control-bar-right') || [];\n  const playbar = video._impl.ui?.getControlsByType('playbar') || [];\n\n  return (\n    buttonsOnRight.length > 0 &&\n    playbar.length > 0 &&\n    video._impl.ui &&\n    !video._impl.ui.shouldShowMoreDefaultValue()\n  );\n};\n\ndefineControl(EllipsisButtonControl);\n","import { h, render } from 'preact';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\n\nexport class EllipsisButton {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    return (\n      <svg {...standardSvgAttrs({ width: 40, height: 34, ariaHidden: true })}>\n        <circle cx=\"20\" cy=\"17\" r=\"2\" />\n        <circle cx=\"13\" cy=\"17\" r=\"2\" />\n        <circle cx=\"27\" cy=\"17\" r=\"2\" />\n      </svg>\n    );\n  }\n}\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport Control from '../../shared/controls/Control.js';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\n\nclass FocusOutlineControl extends Control {\n  constructor(video) {\n    super(video);\n    this.video = video;\n    this._isVisible = false;\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n    this.render();\n  }\n\n  hide() {\n    this._isVisible = false;\n    this.render();\n  }\n\n  show() {\n    this._isVisible = true;\n    this.render();\n  }\n\n  style() {\n    return {\n      boxShadow: '0 0 0 2px #fff inset',\n      borderRadius: `${this.props.playerBorderRadius}px`,\n      display: this._isVisible ? 'block' : 'none',\n      height: '100%',\n      left: 0,\n      pointerEvents: 'none',\n      position: 'absolute',\n      right: 0,\n      width: '100%',\n    };\n  }\n\n  render() {\n    render(<div style={this.style()} class=\"w-focus-outline\"></div>, this.rootElem);\n  }\n}\n\nFocusOutlineControl.shouldMount = (publicApi) => {\n  return !publicApi.isAudio();\n};\n\nFocusOutlineControl.handle = 'focusOutline';\nFocusOutlineControl.type = 'foreground';\nFocusOutlineControl.sortValue = 100;\n\ndefineControl(FocusOutlineControl);\n\nexport default FocusOutlineControl;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { elemBind, formInputIsFocused } from 'utilities/elem.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport Control from '../../../shared/controls/Control.js';\nimport FullscreenButton from './FullscreenButton.jsx';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../../shared/control_definitions.js';\nimport { getTranslation, defineTranslations } from '../../../../../../shared/translations.js';\n\nconst detect = cachedDetect();\n\nconst F_KEY = 70;\n\ndefineTranslations('en-US', {\n  FULLSCREEN_DOUBLE_TAP: 'Double-tap to zoom in or out',\n  FULLSCREEN_TITLE_WHEN_IN_FULLSCREEN: 'Unfullscreen',\n  FULLSCREEN_TITLE_WHEN_NOT_IN_FULLSCREEN: 'Fullscreen',\n});\n\nclass FullscreenButtonControl extends Control {\n  constructor(video) {\n    super(video);\n\n    this.unbinds.push(\n      video.on('enterfullscreen', () => {\n        this.renderButton();\n      }),\n      video.on('cancelfullscreen', () => {\n        this.renderButton();\n      }),\n      elemBind(document, 'keyup', this.onKeyUp),\n    );\n\n    if (\n      !supportsRealFullscreen() &&\n      !supportsFakeFullscreen(this.video) &&\n      supportsDoubleTapToZoom()\n    ) {\n      this.mountDialog = this.maybeMountDialog;\n    }\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (\n      prevProps.playerLanguage &&\n      this.props.playerLanguage.code !== prevProps.playerLanguage.code\n    ) {\n      this.renderButton();\n\n      if (this.dialog && this.dialog.isOpen()) {\n        this.renderDialog();\n      }\n    }\n  }\n\n  maybeMountDialog(dialogElem) {\n    this.dialogElem = dialogElem;\n    this.renderDialog();\n  }\n\n  renderDialog() {\n    this.dialogElem.innerHTML = this.translate('DOUBLE_TAP');\n  }\n\n  mountButton(buttonElem) {\n    this.buttonElem = buttonElem;\n    this.renderButton();\n  }\n\n  renderButton() {\n    if (!this.buttonElem) {\n      return;\n    }\n\n    const label = this.video.inFullscreen()\n      ? this.translate('TITLE_WHEN_IN_FULLSCREEN')\n      : this.translate('TITLE_WHEN_NOT_IN_FULLSCREEN');\n    this.setButtonLabel(label);\n    render(<FullscreenButton />, this.buttonElem);\n    this.reactMounts = [this.buttonElem];\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `FULLSCREEN_${key}`);\n  }\n\n  onClickButton = () => {\n    this.toggleFullscreen();\n  };\n\n  onKeyUp = (e) => {\n    if (formInputIsFocused()) {\n      return;\n    }\n\n    const context = this.video.getInputContext();\n    if (\n      context === 'background-focus' ||\n      context === 'player-mouseover' ||\n      context === 'player-focus' ||\n      context === 'playbar-focus'\n    ) {\n      if (e.keyCode === F_KEY) {\n        this.toggleFullscreen();\n      }\n    }\n  };\n\n  toggleFullscreen() {\n    if (!supportsRealFullscreen() && !supportsFakeFullscreen(this.video)) {\n      return;\n    }\n    const video = this.video;\n    if (video.inFullscreen()) {\n      video.cancelFullscreen();\n    } else {\n      video.requestFullscreen();\n    }\n  }\n}\n\nFullscreenButtonControl.handle = 'fullscreenControl';\nFullscreenButtonControl.type = 'control-bar-right';\nFullscreenButtonControl.sortValue = 1000;\ndefineControl(FullscreenButtonControl);\n\nconst supportsRealFullscreen = () => {\n  return detect.fullscreenEnabled;\n};\n\nconst supportsFakeFullscreen = (video) => {\n  const mediaData = video._mediaData;\n  const embedOptions = video._opts;\n  const isSpherical =\n    (mediaData.spherical || embedOptions.spherical) && !embedOptions.overrideSpherical;\n  const isSoapbox = !!mediaData.secondaryMediaData;\n  const inIframe = top !== self;\n\n  // On iOS, we do fake fullscreen. This works if we're not in an\n  // iframe. If we _are_ in an iframe, then we can fullscreen the\n  // <video> element, but then we'd lose basic functionality of\n  // spherical and soapbox vids, so just disable fullscreen in that\n  // situation.\n  return detect.ios.version > 0 && (!inIframe || (!isSpherical && !isSoapbox));\n};\n\nconst supportsDoubleTapToZoom = () => {\n  return detect.ios.version > 0 || detect.android;\n};\n\nFullscreenButtonControl.shouldMount = (video) => {\n  const fullscreenButtonOpt = video._attrs.fullscreenControl;\n  return (\n    (fullscreenButtonOpt === true || fullscreenButtonOpt == null) &&\n    (supportsRealFullscreen() || supportsFakeFullscreen(video) || supportsDoubleTapToZoom())\n  );\n};\n\nexport default FullscreenButtonControl;\n","import { h, render, Component } from 'preact';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\n\nclass FullscreenButton extends Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    const sharedLineAttrs = {\n      fill: 'none',\n      stroke: '#ffffff',\n      'stroke-width': 2,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round',\n      'stroke-miterlimit': 10,\n    };\n    return (\n      <svg {...standardSvgAttrs({ width: 40, height: 34, ariaHidden: true })}>\n        <g>\n          <g>\n            <polyline {...sharedLineAttrs} points=\"31.4,12.6 31.4,8.7 25.8,8.7\" />\n            <polyline {...sharedLineAttrs} points=\"14.7,8.7 9.1,8.7 9.1,12.6\" />\n            <polyline {...sharedLineAttrs} points=\"25.8,24.8 31.4,24.8 31.4,20.9\" />\n            <polyline {...sharedLineAttrs} points=\"9.1,20.9 9.1,24.8 14.7,24.8\" />\n          </g>\n          <rect\n            x=\"13.7\"\n            y=\"12.3\"\n            {...sharedLineAttrs}\n            enable-background=\"new\"\n            width=\"13.3\"\n            height=\"8.9\"\n          />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default FullscreenButton;\n","import W from 'wistia_namespace.js';\nimport { elemOffset } from 'utilities/elem.js';\nimport { h, render } from 'preact';\nimport Control from '../Control.js';\nimport LoadingSVG from './LoadingSVG.jsx';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../../shared/control_definitions.js';\n\nclass LoadingHourglassControl extends Control {\n  constructor(video) {\n    super(video);\n    this._isVisible = false;\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n  }\n\n  show = (options) => {\n    this._isVisible = true;\n    this.renderMenu(options);\n  };\n\n  hide = () => {\n    this._isVisible = false;\n    render(<nothing />, this.rootElem);\n    this.reactMounts = [this.rootElem];\n  };\n\n  renderMenu(options) {\n    const x = options.x || 0;\n    const y = options.y || 0;\n    const videoOffset = elemOffset(this.video._embedContainer);\n\n    if (this._isVisible) {\n      render(<LoadingSVG videoOffset={videoOffset} x={x} y={y} />, this.rootElem);\n      this.reactMounts = [this.rootElem];\n    }\n  }\n}\n\nLoadingHourglassControl.handle = 'loadingHourglass';\nLoadingHourglassControl.type = 'foreground';\ndefineControl(LoadingHourglassControl);\n\nexport default LoadingHourglassControl;\n","import { h, render, Component } from 'preact';\nimport { elemBind, elemUnbind } from 'utilities/elem.js';\n\nclass LoadingSVG extends Component {\n  constructor(props) {\n    super(props);\n\n    this.animationInterval = undefined;\n    this.state = {\n      x: this.props.x + 10,\n      y: this.props.y,\n      floatingPixel: 8,\n    };\n  }\n\n  componentWillMount() {\n    this.animationInterval = setInterval(() => {\n      let nextNum = this.state.floatingPixel + 1;\n      if (nextNum > 10) {\n        nextNum = 8;\n      }\n\n      this.setState({ floatingPixel: nextNum });\n    }, 500);\n    elemBind(document, 'mousemove', this.onMouseMove);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.animationInterval);\n    elemUnbind(document, 'mousemove', this.onMouseMove);\n  }\n\n  sandStyle() {\n    return {\n      fill: '#000000',\n      width: '1',\n      height: '1',\n    };\n  }\n\n  anchorStyle() {\n    return {\n      height: 0,\n      left: `${this.state.x}px`,\n      position: 'absolute',\n      top: `${this.state.y}px`,\n      width: 0,\n    };\n  }\n\n  sandProps(x, y) {\n    return {\n      className: 'sand',\n      x,\n      y,\n      style: this.sandStyle(),\n    };\n  }\n\n  useRules() {\n    return {\n      fill: '#FFFFFF',\n      'fill-rule': 'evenodd',\n    };\n  }\n\n  hourGlassProps(y) {\n    return {\n      stroke: '#000000',\n      x: '1.5',\n      y,\n      width: '12',\n      height: '2',\n    };\n  }\n\n  defsProps(y) {\n    return {\n      x: 1,\n      y,\n      width: 13,\n      height: 3,\n    };\n  }\n\n  onMouseMove = (e) => {\n    const x = e.pageX - this.props.videoOffset.left + 10;\n    const y = e.pageY - this.props.videoOffset.top;\n\n    this.setState({ x, y });\n  };\n\n  render() {\n    return (\n      <div style={this.anchorStyle()} onMouseMove={this.onMouseMove}>\n        <svg width=\"15px\" height=\"20px\" viewBox=\"0 0 15 20\" version=\"1.1\">\n          <defs>\n            <rect id=\"path-1\" {...this.defsProps(1)}></rect>\n            <rect id=\"path-2\" {...this.defsProps(16)}></rect>\n            <polygon\n              id=\"path-3\"\n              points=\"2 3 13 3 13 7 10.25 10 13 13 13 17 2 17 2 13 4.75 10 2 7\"\n            ></polygon>\n          </defs>\n          <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <g id=\"hourglass\">\n              <g id=\"top\">\n                <use {...this.useRules()} xlinkKref=\"#path-1\"></use>\n                <rect {...this.hourGlassProps(1.5)}></rect>\n              </g>\n              <g id=\"bottom\">\n                <use {...this.useRules()} xlinkHref=\"#path-2\"></use>\n                <rect {...this.hourGlassProps(16.5)}></rect>\n              </g>\n              <g id=\"glass\">\n                <use {...this.useRules()} xlinkHref=\"#path-3\"></use>\n                <path\n                  stroke=\"#000000\"\n                  d=\"M2.5,3.5 L2.5,6.80550815 L5.42828419,10 L2.5,13.1944918 L2.5,16.5 L12.5,16.5 L12.5,13.1944918 L9.57171581,10 L12.5,6.80550815 L12.5,3.5 L2.5,3.5 Z\"\n                ></path>\n              </g>\n              <rect\n                id=\"floater\"\n                fill=\"#000000\"\n                x=\"7\"\n                y={this.state.floatingPixel}\n                width=\"1\"\n                height=\"1\"\n              ></rect>\n              {[\n                [5, 6],\n                [7, 6],\n                [6, 7],\n                [8, 7],\n                [7, 11],\n                [6, 12],\n                [8, 12],\n                [7, 13],\n                [6, 14],\n                [8, 14],\n                [5, 13],\n                [9, 13],\n                [4, 14],\n                [10, 14],\n                [5, 6],\n                [9, 6],\n              ].map((nums) => {\n                return <rect {...this.sandProps(nums[0], nums[1])} />;\n              })}\n            </g>\n          </g>\n        </svg>\n      </div>\n    );\n  }\n}\n\nexport default LoadingSVG;\n","import W from 'wistia_namespace.js';\nimport PlaybarControlBase from '../../shared/controls/PlaybarControlBase.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\n\nclass PlaybarControl extends PlaybarControlBase {\n  width() {\n    return this.props.width;\n  }\n\n  left() {\n    return this.props.left;\n  }\n}\n\nPlaybarControl.shouldMount = (video) => {\n  const playbarOpt = video._attrs.playBarControl;\n  return playbarOpt === true || playbarOpt == null;\n};\n\nPlaybarControl.handle = 'playbar';\nPlaybarControl.type = 'playbar';\ndefineControl(PlaybarControl);\n\nexport default PlaybarControl;\n","import { getLastTime } from 'utilities/resumableVideoData.js';\nimport { one, READY } from 'utilities/assets.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\nimport { isMouseDown } from 'utilities/isMouseDown.js';\nimport { elemBind, formInputIsFocused } from 'utilities/elem.js';\nimport { h, render } from 'preact';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport Playbar from '../ui_components/Playbar.jsx';\nimport Control from './Control.js';\n\nconst LEFT_KEY = 37;\nconst RIGHT_KEY = 39;\nconst PAGE_UP_KEY = 33;\nconst PAGE_DOWN_KEY = 34;\nconst SPACEBAR_KEY = 32;\n\nclass PlaybarControlBase extends Control {\n  constructor(video) {\n    super(video);\n    this.PlaybarComponent = Playbar;\n    this.showTime = true;\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  mount(rootElem) {\n    super.mount(rootElem);\n\n    this.eventListeners.set('playercolorchange', () => this.render());\n    this.eventListeners.set('resumablechange', () => this.render());\n\n    const { video } = this;\n    this.unbinds.push(\n      video.on('play', () => {\n        this.render();\n      }),\n      video.on('pause', () => {\n        this.render();\n      }),\n      video.on('progress', this.renderIfNotPlaying),\n      video.on('timechange', () => {\n        this.render();\n      }),\n      video.on('end', () => {\n        this.render();\n      }),\n      video.on('widthchange', () => {\n        this.render();\n      }),\n      video.on('seeking', () => {\n        this.render();\n      }),\n      video.on('trimchange', () => {\n        // This isn't a frequent operation and it would affect a lot of\n        // shouldComponentUpdate checks. Instead of marshalling it all the way\n        // through our components, let's force a hard re-render of everything.\n        this.renderNothing();\n        this.render();\n      }),\n      elemBind(document, 'keydown', this.onKeyDown),\n      elemBind(document, 'keyup', this.onKeyUp),\n    );\n\n    const bindToChaptersEvents = () => {\n      const chaptersPlugin = video.plugin.chapters;\n      this.unbinds.push(\n        chaptersPlugin.on('focuschange', () => {\n          this.render();\n        }),\n        chaptersPlugin.on('changechapters', () => {\n          this.render();\n        }),\n      );\n    };\n    video.plugin('chapters').then(bindToChaptersEvents);\n    video.on('plugininitialized', (pluginName) => {\n      if (pluginName === 'chapters') {\n        bindToChaptersEvents();\n      }\n    });\n\n    this.render();\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (prevProps.width !== this.props.width) {\n      this.render();\n    }\n\n    if (prevProps.controlsAreVisible && !this.props.controlsAreVisible) {\n      this.render();\n    }\n\n    if (!prevProps.controlsAreVisible && this.props.controlsAreVisible) {\n      this.render();\n    }\n\n    if (this.props.controlBarBorderRadius !== prevProps.controlBarBorderRadius) {\n      this.render();\n    }\n  }\n\n  onResize = ({ playbarBarWidth, playbarBarLeftOffsetFromPlayerLeftEdge }) => {\n    // We bind to this event over in the timeline UI on the media page in\n    // wistia/wistia.\n    this.video.trigger('playbarresize', {\n      playbarBarWidth,\n      playbarBarLeftOffsetFromPlayerLeftEdge,\n    });\n  };\n\n  render() {\n    if (this.video.publicApi.isLiveMedia()) {\n      this.renderNothing();\n    } else {\n      this.renderPlaybar();\n    }\n  }\n\n  renderPlaybar = () => {\n    const video = this.video;\n\n    const chaptersPlugin = video.plugin.chapters;\n    const chapters = chaptersPlugin ? chaptersPlugin.getAllChapters() : [];\n    const chapterWithVisibleTitle = chaptersPlugin\n      ? chaptersPlugin.getChapterWithVisibleTitle()\n      : null;\n    const chapterWithFocusedMarker = chaptersPlugin\n      ? chaptersPlugin.getChapterWithFocusedMarker()\n      : null;\n\n    const PlaybarComponent = this.PlaybarComponent;\n    render(\n      <PlaybarComponent\n        getCurrentTime={this.getCurrentTime}\n        getCurrentBufferTime={this.getCurrentBufferTime}\n        duration={video.duration()}\n        isBeforePlay={video.state() === 'beforeplay'}\n        isVisible={this.props.controlsAreVisible}\n        isPlaying={video.state() === 'playing'}\n        isSeeking={video._impl.engine && video._impl.engine.isSeeking()}\n        {...this.props}\n        onDragStart={this.onDragStart}\n        onDrag={this.onDrag}\n        onDragEnd={this.onDragEnd}\n        onBlur={this.onBlurPlaybar}\n        onFocus={this.onFocusPlaybar}\n        isPlaceholder={this.isPlaceholder()}\n        chapters={chapters}\n        chapterWithFocusedMarker={chapterWithFocusedMarker}\n        chapterWithVisibleTitle={chapterWithVisibleTitle}\n        onClickChapter={this.onClickChapter}\n        onMouseEnterOrFocusChapter={this.onMouseEnterOrFocusChapter}\n        onMouseLeaveOrBlurChapter={this.onMouseLeaveOrBlurChapter}\n        mediaData={this.video._mediaData}\n        embedOptions={this.video._opts}\n        color={this.video.playerColor()}\n        showTime={this.showTime}\n        shouldShowStoryboard={this.shouldShowStoryboard()}\n        shouldShowChapterTitles={true}\n        shouldShowTime={this.shouldShowTime()}\n        storyboardAsset={this.storyboardAsset()}\n        leftControlBarWidth={this.props.leftControlBarWidth}\n        setTimeWidth={this.setTimeWidth}\n        setRightBarMargin={this.setRightBarMargin}\n        resumableTime={this.resumableTime()}\n        getDurationBeforeCuts={this.getDurationBeforeCuts}\n        getTimeBeforeCuts={this.getTimeBeforeCuts}\n        onResize={this.onResize}\n      />,\n      this.rootElem,\n    );\n    this.reactMounts = [this.rootElem];\n  };\n\n  getDurationBeforeCuts = () => {\n    if (!this.video?.engine) {\n      return -1;\n    }\n\n    return this.video.engine.getDurationBeforeCuts();\n  };\n\n  getTimeBeforeCuts = (t) => {\n    if (!this.video?.engine) {\n      return -1;\n    }\n\n    return this.video.engine.getTimeBeforeCuts(t);\n  };\n\n  resumableTime() {\n    if (!this.video.shouldResume()) {\n      return;\n    }\n    return getLastTime(this.video.hashedId());\n  }\n\n  setTimeWidth = (timeWidth) => {\n    this._timeWidth = timeWidth;\n  };\n\n  timeWidth() {\n    return this._timeWidth;\n  }\n\n  setRightBarMargin = (rightBarMargin) => {\n    this._rightBarMargin = rightBarMargin;\n  };\n\n  rightBarMargin() {\n    return this._rightBarMargin;\n  }\n\n  renderNothing = () => {\n    render(<nothing />, this.rootElem);\n    this.reactMounts = [this.rootElem];\n  };\n\n  renderIfNotPlaying = () => {\n    if (this.video.state() !== 'playing') {\n      this.render();\n    }\n  };\n\n  getCurrentTime = () => {\n    return this.video ? this.video.time() : 0;\n  };\n\n  getCurrentBufferTime = () => {\n    const buffered = this.video ? this.video.getBuffered() : [];\n    if (buffered.length === 0) {\n      return 0;\n    }\n    return buffered[buffered.length - 1].end;\n  };\n\n  chaptersPlugin() {\n    return this.video.plugin.chapters;\n  }\n\n  onClickChapter = (e, chapter) => {\n    if (!chapter) {\n      return;\n    }\n    this.video.time(chapter.time);\n    if (this.video.state() === 'beforeplay') {\n      this.video.play();\n    }\n  };\n\n  onMouseEnterOrFocusChapter = (e, chapter) => {\n    if (!chapter) {\n      return;\n    }\n    this.chaptersPlugin().setChapterWithVisibleTitle(chapter.id);\n    this.chaptersPlugin().setChapterWithFocusedMarker(chapter.id);\n  };\n\n  onMouseLeaveOrBlurChapter = () => {\n    this.chaptersPlugin().setChapterWithVisibleTitle(null);\n    this.chaptersPlugin().setChapterWithFocusedMarker(null);\n  };\n\n  onDragStart = (e, percent) => {\n    this.video.requestControls('playbar-drag');\n    this.stateBeforeDrag = this.video.state();\n    this.onDrag(e, percent);\n    doTimeout(\n      `${this.video.uuid}.maybe-pause-on-scrub`,\n      () => {\n        if (isMouseDown()) {\n          this.video.pause();\n        }\n      },\n      300,\n    );\n  };\n\n  onDrag = (e, percent) => {\n    const timeToSeekTo = percent * this.video.duration();\n    if (timeToSeekTo === this._timeSeekedToRecently) {\n      // Since we call onDrag in the handlers for 'mousedown' _and_ 'mouseup', we\n      // disable seeking to the exact same time again within a few hundred ms. the\n      // video would otherwise:\n      // - seek\n      // - continue playing for a moment after the seek while the mouse is down\n      // - seek back to that same seek point again on mouse up\n      // We call that the \"double-seek jitter\" and it is bad.\n      return;\n    }\n    this.video.time(timeToSeekTo);\n    this._timeSeekedToRecently = timeToSeekTo;\n    doTimeout(\n      `${this.video.uuid}.prevent-double-seek`,\n      () => {\n        this._timeSeekedToRecently = null;\n      },\n      300,\n    );\n  };\n\n  onDragEnd = (e, percent) => {\n    this.video.releaseControls('playbar-drag');\n    this.onDrag(e, percent);\n    this.video.trigger('playbardragend');\n    if (this.stateBeforeDrag === 'beforeplay' || this.stateBeforeDrag === 'playing') {\n      this.video.play();\n    }\n  };\n\n  onFocusPlaybar = () => {\n    this.video.enterInputContext('playbar-focus');\n  };\n\n  onBlurPlaybar = () => {\n    this.video.exitInputContext('playbar-focus');\n  };\n\n  // TODO: This handler will probably move to the player level.\n  onKeyDown = (e) => {\n    const video = this.video;\n    if (!this.isVisible() || this.video._opts.spherical) {\n      return;\n    }\n\n    if (formInputIsFocused()) {\n      return;\n    }\n\n    const context = video.getInputContext();\n\n    if (\n      context !== 'playbar-focus' &&\n      context !== 'player-mouseover' &&\n      context !== 'background-focus' &&\n      context !== 'player-focus'\n    ) {\n      return;\n    }\n\n    const duration = video.duration();\n    const keyCode = e.keyCode;\n\n    if (keyCode === SPACEBAR_KEY) {\n      // this prevent default is requied to stop us from scrolling the page\n      // when clicking spacebar in the playbar focus or mouseover context\n      if (context === 'playbar-focus' || context === 'player-mouseover') {\n        e.preventDefault();\n      }\n\n      return;\n    }\n\n    if (this.keyDownStartedAt == null) {\n      this.keyDownStartedAt = Date.now();\n    }\n    const timeSinceKeyDown = Date.now() - this.keyDownStartedAt;\n    let timeDiff = 0;\n    if (video.state() === 'playing') {\n      if (e.shiftKey || timeSinceKeyDown > 200) {\n        if (keyCode === PAGE_UP_KEY || keyCode === PAGE_DOWN_KEY) {\n          if (duration < 30) {\n            timeDiff = 5;\n          } else if (duration < 60) {\n            timeDiff = 10;\n          } else {\n            timeDiff = 10 + duration / 60;\n          }\n        } else if (duration < 30) {\n          timeDiff = 2;\n        } else if (duration < 60) {\n          timeDiff = 5;\n        } else {\n          timeDiff = 5 + duration / 60 / 2;\n        }\n      } else if (keyCode === PAGE_UP_KEY || keyCode === PAGE_DOWN_KEY) {\n        if (duration < 60) {\n          timeDiff = 5;\n        } else {\n          timeDiff = 20;\n        }\n      } else {\n        timeDiff = 2;\n      }\n    } else if (e.shiftKey || timeSinceKeyDown > 200) {\n      timeDiff = 1;\n    } else {\n      timeDiff = 1 / 24;\n    }\n\n    let dir = 0;\n    if (keyCode === RIGHT_KEY || keyCode === PAGE_UP_KEY) {\n      dir = 1;\n    } else if (keyCode === LEFT_KEY || keyCode === PAGE_DOWN_KEY) {\n      dir = -1;\n    }\n\n    if (dir === -1) {\n      e.preventDefault();\n      video.time(video.time() - timeDiff);\n    } else if (dir === 1) {\n      e.preventDefault();\n      video.time(video.time() + timeDiff);\n    }\n  };\n\n  onKeyUp = (e) => {\n    if (!this.isVisible()) {\n      return;\n    }\n\n    if (formInputIsFocused()) {\n      return;\n    }\n\n    this.keyDownStartedAt = null;\n\n    const video = this.video;\n    const context = video.getInputContext();\n    if (context === 'playbar-focus') {\n      if (e.keyCode === SPACEBAR_KEY) {\n        if (video.state() === 'playing') {\n          video.pause();\n        } else {\n          video.play();\n        }\n      }\n    }\n  };\n\n  isPlaceholder() {\n    return false;\n  }\n\n  isVisible() {\n    return true;\n  }\n\n  shouldShowTime() {\n    return true;\n  }\n\n  shouldShowStoryboard() {\n    if (this._shouldShowStoryboard != null) {\n      return this._shouldShowStoryboard;\n    }\n\n    const hasReadyStoryboardAsset = !!this.storyboardAsset();\n    const isTwoStroke = !!this.video._mediaData.secondaryMediaData;\n\n    return (this._shouldShowStoryboard = hasReadyStoryboardAsset && !isTwoStroke);\n  }\n\n  storyboardAsset() {\n    return one(this.video._mediaData.assets, {\n      type: 'storyboard',\n      status: READY,\n      metadata: (m) => {\n        return m && m.frame_count && m.frame_width && m.frame_height;\n      },\n    });\n  }\n}\n\nexport default PlaybarControlBase;\n","import W from 'wistia_namespace.js';\nimport { addInterNumbersFontFace } from 'utilities/interNumbersFontFaceSemiBold.js';\nimport { interNumbersSemiBold } from 'utilities/interFontFamily.js';\nimport Color from 'utilities/color.js';\nimport { assign, clone } from 'utilities/obj.js';\nimport { flexibleDuration, accessibilityDuration } from 'utilities/duration.js';\nimport { elemBind, elemOffset, elemUnbind } from 'utilities/elem.js';\nimport { h, render, Component } from 'preact';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { isMouseDown } from 'utilities/isMouseDown.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport TimeBadge from './TimeBadge.jsx';\nimport TouchEvents from '../../TouchEvents.js';\n\naddInterNumbersFontFace();\n\nconst detect = cachedDetect();\nconst PLAYBAR_SIZE_CALCULATION_OFFSET_TO_COUNTER_LINE_CAPPING = 1;\n\n// To be defined async.\nlet ChapterMarkers;\nlet ChapterTitles;\n\nconst UI_COMPONENTS_ROOT = 'vulcanV2Player/shared/ui_components';\n\nconst W_PLAYBAR = 'w-playbar';\nlet Storyboard;\n\nconst SCALED_DOWN_SCALE = 1.001;\nconst SCALED_UP_SCALE = 2;\n\nconst zeroToOne = (num) => {\n  return Math.min(1, Math.max(0, num));\n};\n\nclass Playbar extends Component {\n  // expected props from outside:\n  // - getCurrentTime\n  // - getCurrentBufferTime\n  // - isPlaying\n  // - duration\n  // - width\n  // - onDragStart\n  // - onDrag\n  // - onDragEnd\n  // - onFocus\n  // - onBlur\n  //\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentBufferTime: props.getCurrentBufferTime(),\n      currentTime: props.getCurrentTime(),\n      dragMode: false,\n      dragPercent: 0,\n      hasPlayed: false,\n      hoverPercent: 0,\n      isHovering: false,\n      isKeyboardFocused: false,\n      isOverPlayhead: false,\n      loadedChapters: false,\n      loadedStoryboard: false,\n      timeWidth: null,\n      wasBeforePlayOnDrag: false,\n    };\n\n    this.setColorsFromPlayerColor(props.color);\n\n    if (props.chapters && props.chapters.length > 0) {\n      this.loadChapters();\n    }\n\n    this.playheadScale = SCALED_DOWN_SCALE;\n  }\n\n  canvasHeight() {\n    return this.props.height * (window.devicePixelRatio || 1);\n  }\n\n  canvasStyle() {\n    return {\n      height: `${this.props.height}px`,\n      left: `${-this.leftBarMargin()}px`,\n      position: 'absolute',\n      top: 0,\n      width: `${this.leftBarMargin() + this.unfilledBarWidth() + this.rightBarMargin()}px`,\n    };\n  }\n\n  canvasWidth() {\n    return (\n      (this.leftBarMargin() + this.unfilledBarWidth() + this.rightBarMargin()) *\n      (window.devicePixelRatio || 1)\n    );\n  }\n\n  playheadStyle() {\n    const playheadSize = this.barHeight() * 1.4 * 4;\n    const centerY = this.props.height / 2 - playheadSize / 2;\n    const filledBarWidth = this.playedPercent() * this.unfilledBarWidth();\n    const playheadX = filledBarWidth - playheadSize / 2;\n    return {\n      borderRadius: '50%',\n      height: `${playheadSize}px`,\n      left: `${playheadX}px`,\n      opacity: 0,\n      position: 'absolute',\n      top: `${centerY}px`,\n      width: `${playheadSize}px`,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const props = this.props;\n    if (props.color !== nextProps.color) {\n      this.setColorsFromPlayerColor(nextProps.color);\n    }\n\n    // Update currentTime state and friends whenever we get an external call to\n    // render().\n    //\n    // Note that \"dragMode\" exists mainly to prevent flickering of the playhead\n    // when seeking while paused. Normally there's a very brief delay between\n    // mouseup and seek which results in a flicker. By remaining in drag mode\n    // _after_ mouseup, we avoid it entirely. We only exit drag mode when we\n    // receive data from the outside that we should respect.\n    this.setState({\n      dragMode: false,\n      currentTime: props.getCurrentTime(),\n      currentBufferTime: props.getCurrentBufferTime(),\n    });\n\n    if (nextProps.chapters && nextProps.chapters.length > 0) {\n      this.loadChapters();\n    }\n  }\n\n  drawCanvas() {\n    if (!this.canvasEl) {\n      return;\n    }\n\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    const { dragMode, hoverPercent, isHovering, isKeyboardFocused, isOverPlayhead } = this.state;\n\n    const canvasWidth = this.canvasWidth();\n    const canvasHeight = this.canvasHeight();\n\n    const ctx = this.canvasEl.getContext('2d');\n    ctx.globalCompositeOperation = 'source-over';\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // draw unfilled bar\n    const unfilledBarWidth = this.unfilledBarWidth();\n    const centerY = (this.props.height * devicePixelRatio) / 2;\n    ctx.strokeStyle = 'rgba(255,255,255,.6)';\n    ctx.lineWidth = this.barHeight() * devicePixelRatio;\n    ctx.beginPath();\n    ctx.lineCap = 'round';\n    ctx.moveTo(this.leftBarMargin() * devicePixelRatio, centerY);\n    ctx.lineTo((this.leftBarMargin() + unfilledBarWidth) * devicePixelRatio, centerY);\n    ctx.stroke();\n\n    // draw filled bar\n    const filledBarWidth = this.playedPercent() * unfilledBarWidth;\n    ctx.strokeStyle = 'rgba(255,255,255,1)';\n    ctx.lineWidth = this.barHeight() * devicePixelRatio;\n    ctx.beginPath();\n    ctx.lineCap = 'round';\n    ctx.moveTo(this.leftBarMargin() * devicePixelRatio, centerY);\n    ctx.lineTo((this.leftBarMargin() + filledBarWidth) * devicePixelRatio, centerY);\n    ctx.stroke();\n\n    // draw chapters\n    let { chapters } = this.props;\n    const { chapterWithFocusedMarker, duration } = this.props;\n    const baseMarkerSize = this.barHeight() * 1.4 * devicePixelRatio;\n    if (chapters?.length > 0) {\n      if (chapterWithFocusedMarker) {\n        // put the focused chapter at the end to make sure it draws on top of\n        // other chapters if they would be overlapping.\n        chapters = clone(chapters);\n        let index = -1;\n        for (let i = 0; i < chapters.length; i++) {\n          if (chapters[i].id === chapterWithFocusedMarker.id) {\n            index = i;\n            break;\n          }\n        }\n        chapters.splice(index, 1);\n        chapters.push(chapterWithFocusedMarker);\n      }\n\n      // cut out each place where a chapter marker goes\n      // we do all these before drawing the chapter markers so that later\n      // markers can't \"cut out\" the chapter marker of a preceding chapter.\n      chapters.forEach((chapter) => {\n        const ratio = chapter.time / duration;\n        const chapterX = (this.leftBarMargin() + ratio * unfilledBarWidth) * devicePixelRatio;\n        let markerSize = baseMarkerSize;\n\n        if (chapterWithFocusedMarker === chapter) {\n          markerSize *= 1.5;\n        }\n\n        ctx.beginPath();\n        ctx.arc(chapterX, centerY, markerSize * 1.6, 0, 2 * Math.PI);\n        ctx.closePath();\n        ctx.globalCompositeOperation = 'destination-out';\n        ctx.fill();\n      });\n\n      // draw each chapter marker\n      chapters.forEach((chapter) => {\n        const ratio = chapter.time / duration;\n        const chapterX = (this.leftBarMargin() + ratio * unfilledBarWidth) * devicePixelRatio;\n        let opacity = 0.6;\n        let markerSize = baseMarkerSize;\n\n        if (chapterWithFocusedMarker === chapter) {\n          markerSize *= 2;\n          opacity = 1;\n        }\n\n        ctx.beginPath();\n        ctx.arc(chapterX, centerY, markerSize, 0, 2 * Math.PI);\n        ctx.closePath();\n        ctx.globalCompositeOperation = 'source-over';\n        ctx.fillStyle = `rgba(255,255,255,${opacity})`;\n        ctx.fill();\n\n        // Punch out a hole, leaving a thin stroke. We punch it out instead of\n        // doing a stroke to avoid an \"olympic rings\" kind of look with\n        // chapters that are very close together. Instead, the last drawn\n        // chapter will appear to be \"on top.\"\n        const borderSize = this.barHeight() * 0.75 * devicePixelRatio;\n        const holePunchSize = markerSize - borderSize;\n        ctx.beginPath();\n        ctx.arc(chapterX, centerY, holePunchSize, 0, 2 * Math.PI);\n        ctx.closePath();\n        ctx.globalCompositeOperation = 'destination-out';\n        ctx.fillStyle = 'rgba(0,0,0,1)';\n        ctx.fill();\n      });\n      ctx.globalCompositeOperation = 'source-over';\n    }\n\n    // draw playhead\n    const shouldScaleUp = dragMode || isKeyboardFocused || isOverPlayhead;\n    const finalScaleTransform = shouldScaleUp ? SCALED_UP_SCALE : SCALED_DOWN_SCALE;\n    let animUntilShouldChange = false;\n    if (finalScaleTransform !== this.playheadScale) {\n      animUntilShouldChange = true;\n      this.playheadScale = shouldScaleUp ? SCALED_UP_SCALE : SCALED_DOWN_SCALE;\n      this.lastScaledAt = Date.now();\n    }\n\n    const animTime = shouldScaleUp ? 0 : 100;\n    if (animUntilShouldChange) {\n      // animate the playhead growing or shrinking\n      this.animateUntil(Date.now() + animTime);\n    }\n\n    const ratio =\n      animTime === 0 ? 1 : 1 + 1 - Math.min(1, (Date.now() - this.lastScaledAt) / animTime);\n    const interpolatedScaleTransform = this.lastScaledAt ? ratio * finalScaleTransform : 1;\n\n    const playheadSize = this.barHeight() * 1.4 * devicePixelRatio * interpolatedScaleTransform;\n    const playheadX = (this.leftBarMargin() + filledBarWidth) * devicePixelRatio;\n    const glowRadius = playheadSize * 2;\n    const glowDiameter = glowRadius * 2;\n    const g = ctx.createRadialGradient(playheadX, centerY, 0, playheadX, centerY, glowRadius);\n    g.addColorStop(0, 'rgba(255,255,255,.5)');\n    g.addColorStop(1, 'rgba(255,255,255,0)');\n    ctx.beginPath();\n    ctx.rect(playheadX - glowRadius, centerY - glowRadius, glowDiameter, glowDiameter);\n    ctx.closePath();\n    ctx.fillStyle = g;\n    ctx.fill();\n\n    // draw playhead\n    ctx.beginPath();\n    ctx.arc(playheadX, centerY, playheadSize, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(255,255,255,1)';\n    ctx.fill();\n\n    if (isKeyboardFocused) {\n      ctx.beginPath();\n      ctx.arc(playheadX, centerY, playheadSize * 1.5, 0, 2 * Math.PI);\n      ctx.closePath();\n      ctx.strokeWidth = devicePixelRatio || 1;\n      ctx.stroke();\n    }\n\n    // draw hover marker\n    if (isHovering && !dragMode && !chapterWithFocusedMarker) {\n      ctx.beginPath();\n      const hoverMarkerSize = this.barHeight() * 1.4 * devicePixelRatio;\n      const hoverX =\n        (this.leftBarMargin() + hoverPercent * this.unfilledBarWidth()) * devicePixelRatio -\n        hoverMarkerSize / 2;\n      ctx.arc(hoverX, centerY, hoverMarkerSize, 0, 2 * Math.PI);\n      ctx.closePath();\n      ctx.fillStyle = 'rgba(255,255,255,1)';\n      ctx.fill();\n    }\n  }\n\n  animateUntil(t) {\n    if (!this._animEndTime || t > this._animEndTime) {\n      this._animEndTime = t;\n    }\n    if (!this._animating) {\n      this.animateCanvasUntilEndTime();\n      this._animating = true;\n    }\n  }\n\n  animateCanvasUntilEndTime() {\n    requestAnimationFrame(() => {\n      if (Date.now() > this._animEndTime) {\n        this._animating = false;\n        return;\n      }\n\n      this.drawCanvas();\n      this.animateCanvasUntilEndTime();\n    });\n  }\n\n  maybeCallOnResize() {\n    const playbarBarWidth =\n      this.unfilledBarWidth() + PLAYBAR_SIZE_CALCULATION_OFFSET_TO_COUNTER_LINE_CAPPING * 2;\n    const playbarBarLeftOffsetFromPlayerLeftEdge =\n      this.props.left +\n      this.timeLeftPadding() +\n      this.leftBarMargin() +\n      this.timeWidth() -\n      PLAYBAR_SIZE_CALCULATION_OFFSET_TO_COUNTER_LINE_CAPPING;\n\n    if (\n      this._lastPlaybarWidth === playbarBarWidth &&\n      this._lastPlaybarBarLeftOffsetFromPlayerLeftEdge === playbarBarLeftOffsetFromPlayerLeftEdge\n    ) {\n      return;\n    }\n\n    this.props.onResize?.({\n      playbarBarWidth,\n      playbarBarLeftOffsetFromPlayerLeftEdge,\n    });\n\n    this._lastPlaybarWidth = playbarBarWidth;\n    this._lastPlaybarBarLeftOffsetFromPlayerLeftEdge = playbarBarLeftOffsetFromPlayerLeftEdge;\n  }\n\n  render() {\n    this.maybeCallOnResize();\n    this.oldWrapperElem = this.wrapperElem;\n    return (\n      <div class={`${W_PLAYBAR}-wrapper w-css-reset w-css-reset-tree`} style={this.wrapperStyle()}>\n        {this.props.shouldShowTime ? this.renderTime() : undefined}\n        <div\n          aria-label=\"Playbar\"\n          aria-orientation=\"horizontal\"\n          aria-valuemax={this.props.duration}\n          aria-valuemin={0}\n          aria-valuenow={this.ariaValueNow()}\n          aria-valuetext={this.ariaValueText()}\n          onBlur={this.props.onBlur}\n          onFocus={this.onFocus}\n          onfocusout={this.onFocusOut}\n          onKeyDown={this.onKeyDown}\n          onMouseDown={this.onMouseDown}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          onMouseMove={this.onMouseMove}\n          onMouseUp={this.onMouseUp}\n          ref={this.setWrapperRef}\n          role=\"slider\"\n          style={this.dragAreaStyle()}\n          tabindex={this.props.isVisible ? 0 : -1}\n        >\n          <canvas\n            height={this.canvasHeight()}\n            ref={(el) => (this.canvasEl = el)}\n            style={this.canvasStyle()}\n            width={this.canvasWidth()}\n          />\n          <div\n            onMouseEnter={this.onMouseEnterPlayhead}\n            onMouseLeave={this.onMouseLeavePlayhead}\n            ref={(el) => (this.playheadEl = el)}\n            style={this.playheadStyle()}\n          />\n          {typeof ChapterMarkers !== 'undefined' ? (\n            <ChapterMarkers\n              {...this.props}\n              onFocus={this.onFocusChapterMarkers}\n              timeLeft={-10}\n              timeRight={-10}\n            />\n          ) : null}\n          {this.props.shouldShowStoryboard && typeof Storyboard !== 'undefined' ? (\n            <Storyboard\n              {...this.props}\n              hasChapters={this.state.loadedChapters}\n              isHovering={this.state.isHovering}\n              getDurationBeforeCuts={this.props.getDurationBeforeCuts}\n              getTimeBeforeCuts={this.props.getTimeBeforeCuts}\n              hoverPercent={this.state.hoverPercent}\n              left={\n                this.props.left + this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin()\n              }\n              width={this.unfilledBarWidth()}\n            />\n          ) : null}\n          {this.props.shouldShowTimeOnHover && this.state.isHovering && (\n            <TimeBadge\n              left={this.state.hoverPercent * this.unfilledBarWidth()}\n              time={this.getHoverTime()}\n              height={this.props.height}\n              widthOfPlaybar={this.unfilledBarWidth()}\n            />\n          )}\n          {this.props.shouldShowChapterTitles && typeof ChapterTitles !== 'undefined' ? (\n            <ChapterTitles\n              {...this.props}\n              left={\n                this.props.left + this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin()\n              }\n              width={this.unfilledBarWidth()}\n            />\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n\n  renderTime() {\n    return (\n      <div class={`${W_PLAYBAR}__time`} style={this.timeStyle()} ref={(e) => (this.timeElem = e)} />\n    );\n  }\n\n  componentDidMount() {\n    this.drawCanvas();\n    this.lastRenderedAt = Date.now();\n\n    if (detect.touchScreen && this.wrapperElem) {\n      this.touchEvents = new TouchEvents(this.wrapperElem);\n      this.touchEvents.on('touchstart', this.onTouchStart);\n    }\n\n    this.maybeUpdateTimeText();\n\n    const props = this.props;\n\n    if (props.isPlaying) {\n      // In case this is somehow mounted when the video is already in a\n      // playing state.\n      this.setState({ hasPlayed: true });\n    }\n\n    if (props.isPlaying) {\n      this.startAnimLoopIfPlaying();\n    }\n\n    this.props.setTimeWidth(this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin());\n    this.props.setRightBarMargin(this.rightBarMargin());\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.drawCanvas();\n    const props = this.props;\n\n    this.lastRenderedAt = Date.now();\n\n    if (detect.touchScreen && this.wrapperElem && this.oldWrapperElem !== this.wrapperElem) {\n      if (this.touchEvents) {\n        this.touchEvents.destroy();\n      }\n      this.touchEvents = new TouchEvents(this.wrapperElem);\n      this.touchEvents.on('touchstart', this.onTouchStart);\n    }\n\n    if (props.isPlaying && !this.state.hasPlayed) {\n      this.setState({ hasPlayed: true });\n    }\n\n    this.maybeUpdateTimeText();\n\n    const justPlayed = props.isPlaying && !prevProps.isPlaying;\n    const justGotBuffer = prevState.currentBufferTime != this.state.currentBufferTime;\n    const justBecameVisible = props.isVisible && !prevProps.isVisible;\n    if (justPlayed || justBecameVisible || justGotBuffer) {\n      this.startAnimLoopIfPlaying();\n    }\n\n    const justBecameHidden = !props.isVisible && prevProps.isVisible;\n    if (justBecameHidden) {\n      this.stopAnimLoop();\n    }\n\n    this.props.setTimeWidth(this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin());\n    this.props.setRightBarMargin(this.rightBarMargin());\n  }\n\n  componentWillUnmount() {\n    elemUnbind(document, 'mousemove', this.onMouseMoveDragging);\n    elemUnbind(document, 'mouseup', this.onMouseUpDragging);\n    if (this.touchEvents) {\n      this.touchEvents.destroy();\n      this.touchEvents = null;\n    }\n  }\n\n  getHoverTime() {\n    return flexibleDuration(Math.round(this.state.hoverPercent * this.props.duration));\n  }\n\n  placeholderStyle() {\n    return {\n      cursor: 'default',\n      height: '100%',\n      outline: 'none',\n      position: 'relative',\n      width: '100%',\n    };\n  }\n\n  wrapperStyle() {\n    const { videoWidth, width } = this.props;\n    return {\n      display: 'flex',\n      height: '100%',\n      width: width === videoWidth ? `${width}px` : '100%',\n    };\n  }\n\n  dragAreaStyle() {\n    return {\n      cursor: 'pointer',\n      flex: '1 1',\n      height: `${this.props.height}px`,\n      outline: 'none',\n      marginLeft: `${this.leftBarMargin()}px`,\n      marginRight: `${this.rightBarMargin()}px`,\n      position: 'relative',\n    };\n  }\n\n  leftBarMargin() {\n    const { leftControlBarWidth } = this.props;\n\n    if (leftControlBarWidth === 0) {\n      return this.rightBarMargin();\n    }\n\n    return this.rightBarMargin() * 1.5;\n  }\n\n  rightBarMargin() {\n    const { duration, scale } = this.props;\n\n    const normalDurationText = flexibleDuration(15 * 60);\n    const normalDurationWidth = normalDurationText.length * 7;\n\n    const actualDurationText = flexibleDuration(duration);\n    const actualDurationWidth = actualDurationText.length * 7;\n\n    // We want to shrink the margins a little when the full duration is longer\n    // so that we split the difference when the current time (which usually\n    // takes up less horizontal space) is showing.\n    const mult =\n      normalDurationWidth < actualDurationWidth ? normalDurationWidth / actualDurationWidth : 1;\n\n    return 10 * mult * scale;\n  }\n\n  timeLeftPadding() {\n    const { leftControlBarWidth, isPlaceholder, shouldShowTime } = this.props;\n\n    if (!shouldShowTime) {\n      return 0;\n    }\n\n    if (leftControlBarWidth === 0) {\n      return this.leftBarMargin() / 1.33;\n    }\n\n    return isPlaceholder ? this.leftBarMargin() : this.leftBarMargin() / 3;\n  }\n\n  timeStyle() {\n    const { height, scale } = this.props;\n\n    return {\n      boxSizing: 'content-box',\n      color: 'white',\n      fontFamily: interNumbersSemiBold,\n      fontSize: `${13 * scale}px`,\n      letterSpacing: `${0.5 * scale}px`,\n      lineHeight: `${height}px`,\n      paddingLeft: `${this.timeLeftPadding()}px`,\n      pointerEvents: 'none',\n      position: 'relative',\n      textAlign: 'center',\n      width: `${this.timeWidth()}px`,\n    };\n  }\n\n  timeWidth() {\n    const { duration, scale, shouldShowTime } = this.props;\n\n    if (!shouldShowTime) {\n      return 0;\n    }\n\n    // We want to set the width to the largest it could possibly be.\n    const durationText = flexibleDuration(duration);\n    return durationText.length * 7 * scale;\n  }\n\n  filledBarStyle() {\n    const barHeight = this.barHeight();\n    return {\n      background: '#fff',\n      borderRadius: `${barHeight}px`,\n      height: `${barHeight}px`,\n      left: 0,\n      position: 'absolute',\n      top: 0,\n      width: `${this.playedPercent() * 100}%`,\n    };\n  }\n\n  barHeight() {\n    const { scale } = this.props;\n    return 2 * scale;\n  }\n\n  unfilledBarStyle() {\n    const { height } = this.props;\n    return {\n      background: 'rgba(255,255,255,.6)',\n      borderRadius: `${this.barHeight()}px`,\n      height: `${this.barHeight()}px`,\n      left: 0,\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: `${(height - this.barHeight()) / 2}px`,\n      width: `${this.unfilledBarWidth()}px`,\n    };\n  }\n\n  unfilledBarWidth() {\n    const offsetControlBarDistance = this.props.controlBarDistance * 2;\n    const { width } = this.props;\n    return (\n      width -\n      this.timeLeftPadding() -\n      this.timeWidth() -\n      this.leftBarMargin() -\n      this.rightBarMargin() -\n      offsetControlBarDistance\n    );\n  }\n\n  playedPercent() {\n    const state = this.state;\n    const { duration, getCurrentTime, isSeeking, resumableTime } = this.props;\n    if (state.dragMode || (state.wasBeforePlayOnDrag && (isSeeking || !state.hasPlayed))) {\n      return state.dragPercent;\n    }\n    if (resumableTime && !state.hasPlayed) {\n      return zeroToOne(resumableTime / duration);\n    }\n    return zeroToOne(getCurrentTime() / duration);\n  }\n\n  bufferedAheadPercent() {\n    const state = this.state;\n    if (this.props.isBeforePlay) {\n      // Don't show the buffer shooting ahead before we've played. It's\n      // distracting and looks weird.\n      return 0;\n    }\n    if (state.dragMode) {\n      const bufferPercent = state.currentBufferTime / this.props.duration;\n      return zeroToOne(bufferPercent - state.dragPercent);\n    }\n    return zeroToOne(\n      (this.props.getCurrentBufferTime() - this.props.getCurrentTime()) / this.props.duration,\n    );\n  }\n\n  emptyPercent() {\n    const nonEmptyPercent = zeroToOne(this.playedPercent() + this.bufferedAheadPercent());\n    return 1 - nonEmptyPercent;\n  }\n\n  timeText() {\n    const state = this.state;\n    const props = this.props;\n    if (\n      state.dragMode ||\n      (state.wasBeforePlayOnDrag && (this.props.isSeeking || !state.hasPlayed))\n    ) {\n      return flexibleDuration(state.dragPercent * props.duration);\n    }\n    if (state.hasPlayed || this.props.getCurrentTime() >= 1) {\n      // Check currentTime because we can seek-before-play and want that to\n      // show the correct time.\n      return flexibleDuration(props.getCurrentTime());\n    }\n    if (props.resumableTime) {\n      return flexibleDuration(props.resumableTime);\n    }\n    return flexibleDuration(props.duration);\n  }\n\n  ariaValueNow() {\n    if (this.state.dragMode) {\n      return this.state.dragPercent * this.props.duration;\n    }\n    return this.props.getCurrentTime();\n  }\n\n  ariaValueText() {\n    return accessibilityDuration(this.props.getCurrentTime());\n  }\n\n  cachePositionDetails() {\n    // The offset object is like a DOMRect, but uses custom logic for\n    // determining top and left. It gets stored on the instance at specific\n    // junctures (mousedown, etc) as a heuristic compromise between correctness\n    // and performance concerns. That is, if the relevant computed styles change\n    // between snapshots, this will report the wrong percentage, but this is\n    // considered an uncommon enough edge case to not merit the performance hit\n    // that would come from measuring on individual move/touch events.\n\n    this.offset = elemOffset(this.wrapperElem);\n  }\n\n  getPercentFromPossiblyExternalMouseEvent(e) {\n    // Mouse events at the doc level are used for capturing drag-seeking. Mouse\n    // down over playbar initializes the document level listeners, and until\n    // mouse up, move is interepreted as drag, and this includes when the cursor\n    // has exited the playbar/player. When they are over the playbar, the target\n    // will be the wrapperElem and the usual inexpensive and guaranteed accurate\n    // offsetX approach is available, unless chapter dots or other absolutely\n    // positioned widgets are in front of it. Otherwise we need to use the same\n    // strategy as we use for touch events.\n\n    if (e.target === this.wrapperElem) {\n      return this.getPercentFromMouseEvent(e);\n    }\n    return this.getPercentFromPageX(e.pageX);\n  }\n\n  getPercentFromMouseEvent({ offsetX }) {\n    // MouseEvent.prototype.offsetX will already take into account any CSS\n    // transforms applied ancestrally if this is the playbars own event, but\n    // will not include zoom. While we dont need to derive position from the\n    // viewport manually here, we do need the offset snapshot for zoom.\n\n    const zoom = this.offset ? this.offset.zoom : 1;\n\n    return this.getPercentFromOffsetX(offsetX / zoom);\n  }\n\n  getPercentFromOffsetX(offsetX) {\n    return Math.max(0, Math.min(1, offsetX / this.unfilledBarWidth()));\n  }\n\n  getPercentFromPageX(pageX) {\n    // In the document mouse move/up and touch cases, we must derive the bar\n    // fraction from a pageX value. There are two considerations to account for:\n    //\n    // 1. The delta of the player coordinates and 0,0\n    // 2. The possibility that one or more ancestors of the player has been\n    //    subjected to css matrix transformations that will alter the position\n    //    and/or width of the playbar relative to its natural coordinates/\n    //    this.props.width.\n    //\n    // Both are addressed by this.offset (see cachePositionDetails), which gives\n    // us the computed (post-transform) values for left and width. Because this\n    // logic depends on offset existing and in IE this may be called before\n    // cachePositionDetails, theres an early exit if offset is not yet defined.\n\n    if (this.offset === undefined) {\n      return 0;\n    }\n\n    const untransformedWidth = this.unfilledBarWidth();\n    const transformedWidth = this.offset.width;\n    const scaleX = transformedWidth / untransformedWidth;\n    const offsetX = (pageX - this.offset.left) / scaleX;\n\n    return this.getPercentFromOffsetX(offsetX);\n  }\n\n  getPercentFromTouchEvent({ changedTouches }) {\n    // Touch is like the document-level mouse move drag events; the only\n    // difference is that TouchEvent has a different API from which to retrieve\n    // the current pageX value. Note that even if this were not document level,\n    // this strategy would still be required because TouchEvent / Touch objects\n    // do not expose a browser-calculated offsetX.\n\n    return '0' in changedTouches ? this.getPercentFromPageX(changedTouches[0].pageX) : 0;\n  }\n\n  handleWithProp(propName, e, ...extra) {\n    const fn = this.props[propName];\n    if (fn) {\n      fn(e, ...extra);\n    }\n  }\n\n  onFocusChapterMarkers = () => {\n    if (this.state.isKeyboardFocused) {\n      this.setState({ isKeyboardFocused: false });\n    }\n  };\n\n  onFocus = (e) => {\n    const { onFocus } = this.props;\n    if (onFocus) {\n      onFocus(e);\n    }\n    if (!isMouseDown()) {\n      this.setState({ isKeyboardFocused: true });\n    }\n  };\n\n  onFocusOut = () => {\n    if (this.state.isKeyboardFocused) {\n      this.setState({ isKeyboardFocused: false });\n    }\n  };\n\n  onMouseEnter = (e) => {\n    if (this.touchEvents) {\n      return;\n    }\n\n    e.wistiaPlayerHandled = true;\n    this.setState({ hoveredAt: Date.now(), isHovering: true });\n    this.cachePositionDetails();\n\n    if (this.props.shouldShowStoryboard) {\n      this.loadStoryboard();\n    }\n  };\n\n  onMouseLeave = (e) => {\n    if (this.touchEvents) {\n      return;\n    }\n\n    e.wistiaPlayerHandled = true;\n    this.setState({ hoveredAt: undefined, isHovering: false });\n  };\n\n  onMouseMove = (e) => {\n    if (this.touchEvents) {\n      return;\n    }\n\n    e.wistiaPlayerHandled = true;\n\n    const percent = this.getPercentFromPossiblyExternalMouseEvent(e);\n    this.setState({ hoverPercent: percent });\n  };\n\n  onMouseDown = (e) => {\n    if (this.touchEvents) {\n      return;\n    }\n\n    if (e.wistiaPlayerHandled) {\n      return;\n    }\n\n    if (e.ctrlKey) {\n      // So we can ctrl-click to inspect.\n      return;\n    }\n\n    e.preventDefault(); // don't select text\n    this.wrapperElem.focus();\n\n    e.wistiaPlayerHandled = true;\n    this.cachePositionDetails();\n\n    const percent = this.getPercentFromPossiblyExternalMouseEvent(e);\n    this.handleWithProp('onDragStart', e, percent);\n    this.setState({\n      dragPercent: percent,\n      dragMode: true,\n      wasBeforePlayOnDrag: this.props.isBeforePlay,\n    });\n\n    elemBind(document, 'mousemove', this.onMouseMoveDragging);\n    elemBind(document, 'mouseup', this.onMouseUpDragging);\n  };\n\n  onMouseMoveDragging = (e) => {\n    e.preventDefault(); // don't select text\n    e.wistiaPlayerHandled = true;\n\n    const percent = this.getPercentFromPossiblyExternalMouseEvent(e);\n    this.handleWithProp('onDrag', e, percent);\n    this.setState({\n      dragPercent: percent,\n      dragMode: true,\n    });\n  };\n\n  onMouseUpDragging = (e) => {\n    e.wistiaPlayerHandled = true;\n\n    const percent = this.getPercentFromPossiblyExternalMouseEvent(e);\n    this.setState({\n      dragPercent: percent,\n      dragMode: false,\n      isOverPlayhead: false,\n    });\n    this.handleWithProp('onDragEnd', e, percent);\n\n    elemUnbind(document, 'mousemove', this.onMouseMoveDragging);\n    elemUnbind(document, 'mouseup', this.onMouseUpDragging);\n  };\n\n  onTouchStart = (e) => {\n    e.preventDefault(); // don't select text\n    e.wistiaPlayerHandled = true;\n    this.cachePositionDetails();\n\n    const percent = this.getPercentFromTouchEvent(e);\n    this.handleWithProp('onDragStart', e, percent);\n    this.setState({\n      dragPercent: percent,\n      dragMode: true,\n    });\n\n    this.touchEvents.on('touchmove', this.onTouchMoveDragging);\n    this.touchEvents.on('touchend', this.onTouchEndDragging);\n  };\n\n  onTouchMoveDragging = (e) => {\n    e.preventDefault(); // don't select text\n    e.wistiaPlayerHandled = true;\n\n    const percent = this.getPercentFromTouchEvent(e);\n    this.handleWithProp('onDrag', e, percent);\n    this.setState({\n      dragPercent: percent,\n      dragMode: true,\n    });\n  };\n\n  onTouchEndDragging = (e) => {\n    e.wistiaPlayerHandled = true;\n\n    const percent = this.getPercentFromTouchEvent(e);\n    this.setState({\n      dragPercent: percent,\n      dragMode: false,\n      isOverPlayhead: false,\n    });\n    this.handleWithProp('onDragEnd', e, percent);\n\n    this.touchEvents.off('touchmove', this.onTouchMoveDragging);\n    this.touchEvents.off('touchend', this.onTouchEndDragging);\n  };\n\n  onMouseEnterPlayhead = () => {\n    this.setState({ isOverPlayhead: true });\n  };\n\n  onMouseLeavePlayhead = () => {\n    this.setState({ isOverPlayhead: false });\n  };\n\n  setWrapperRef = (e) => {\n    this.wrapperElem = e;\n\n    if (this.props.setPlaybarElemRef) {\n      this.props.setPlaybarElemRef(e);\n    }\n  };\n\n  startAnimLoopIfPlaying = () => {\n    if (this.props.isPlaying && this.props.isVisible) {\n      requestAnimationFrame(this.continuouslyUpdatePlaybar);\n    }\n  };\n\n  stopAnimLoop = () => {\n    cancelAnimationFrame(this.animReq);\n  };\n\n  continuouslyUpdatePlaybar = () => {\n    this.drawCanvas();\n    this.maybeUpdateTimeText();\n    assign(this.playheadEl.style, this.playheadStyle());\n    this.startAnimLoopIfPlaying();\n  };\n\n  maybeUpdateTimeText() {\n    const timeText = this.timeText();\n    if (this.timeElem && timeText !== this._lastTimeText) {\n      this.timeElem.innerText = timeText;\n    }\n    this._lastTimeText = timeText;\n  }\n\n  playheadLeftPosition() {\n    return this.unfilledBarWidth() * this.playedPercent();\n  }\n\n  loadStoryboard = () => {\n    return dynamicImport('assets/external/vulcanV2Player/video/ui_components/Storyboard.js').then(\n      (moduleClass) => {\n        Storyboard = moduleClass.Storyboard;\n        this.setState({ loadedStoryboard: true });\n      },\n    );\n  };\n\n  loadChapters = () => {\n    return Promise.all([\n      dynamicImport(`assets/external/${UI_COMPONENTS_ROOT}/ChapterMarkers.js`),\n      dynamicImport(`assets/external/${UI_COMPONENTS_ROOT}/ChapterTitles.js`),\n    ]).then(([moduleChapterMarkers, moduleChapterTitles]) => {\n      ChapterMarkers = moduleChapterMarkers.ChapterMarkers;\n      ChapterTitles = moduleChapterTitles.ChapterTitles;\n      this.setState({ loadedChapters: true });\n    });\n  };\n\n  setColorsFromPlayerColor(color) {\n    this.playedColor = new Color(color).darken(30).alpha(0.7);\n    this.bufferedColor = new Color(color).lighten(75).alpha(0.6);\n    this.emptyColor = new Color(color).lighten(40).alpha(0.3);\n  }\n}\n\nexport default Playbar;\n","import W from 'wistia_namespace.js';\nimport { addInlineCss, elemRemove } from 'utilities/elem.js';\n\nconst interNumbersBase64 =\n  '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';\n\nconst interNumbersFontFace = `\n@font-face {\nfont-family: 'WistiaPlayerInterNumbersSemiBold';\nfont-feature-settings: 'tnum' 1;\nsrc: url(data:application/x-font-woff;charset=utf-8;base64,${interNumbersBase64});\n}\n`;\n\nconst removeInterNumbersFontFace = () => {\n  if (W._interNumbersFontFaceSemiBold) {\n    elemRemove(W._interNumbersFontFaceSemiBold);\n  }\n};\n\nconst addInterNumbersFontFace = () => {\n  if (!W._interNumbersFontFaceSemiBold) {\n    W._interNumbersFontFaceSemiBold = addInlineCss(\n      document.body || document.head,\n      interNumbersFontFace,\n    );\n  }\n};\n\naddInterNumbersFontFace();\n\nexport { interNumbersFontFace, removeInterNumbersFontFace, addInterNumbersFontFace };\n","import { interNumbersSemiBold } from 'utilities/interFontFamily.js';\nimport { h, render, Component } from 'preact';\n\nclass TimeBadge extends Component {\n  getLeftValue() {\n    const { left } = this.props;\n\n    if (this.isInBeginningZone()) {\n      return 0;\n    }\n    if (this.isInEndZone()) {\n      return;\n    }\n    return left;\n  }\n\n  getRightValue() {\n    if (this.isInEndZone()) {\n      return 0;\n    }\n  }\n\n  getTopValue() {\n    const { height } = this.props;\n    const heightValue = height / 2 - this.heightOfTimeBadge() * 1.5;\n\n    return Math.max(2, heightValue);\n  }\n\n  isInBeginningZone() {\n    const { left } = this.props;\n\n    return left < this.widthOfTimeBadge() / 2;\n  }\n\n  isInEndZone() {\n    const { left } = this.props;\n    const { widthOfPlaybar } = this.props;\n\n    return left >= widthOfPlaybar - this.widthOfTimeBadge() / 2;\n  }\n\n  timeBadgeStyle() {\n    const shouldNotCenterBadge = this.isInBeginningZone() || this.isInEndZone();\n\n    return {\n      color: '#fff',\n      fontFamily: interNumbersSemiBold,\n      fontSize: '13px',\n      left: this.getLeftValue(),\n      position: 'absolute',\n      right: this.getRightValue(),\n      top: this.getTopValue(),\n      transform: shouldNotCenterBadge ? '' : 'translateX(-50%)',\n    };\n  }\n\n  widthOfTimeBadge() {\n    return this._timeBadgeRef?.getBoundingClientRect().width || 24;\n  }\n\n  heightOfTimeBadge() {\n    return this._timeBadgeRef?.getBoundingClientRect().height || 16;\n  }\n\n  render() {\n    return (\n      <span ref={(elem) => (this._timeBadgeRef = elem)} style={this.timeBadgeStyle()}>\n        {this.props.time}\n      </span>\n    );\n  }\n}\n\nexport default TimeBadge;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { controlMultiplierBasedOnVideo } from 'utilities/fit-control.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport Control from '../../shared/controls/Control.js';\nimport SmallPlayButton from '../../../../../shared/SmallPlayButton.jsx';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\n\nconst detect = cachedDetect();\n\nclass PlayPauseNotifierControl extends Control {\n  constructor(video) {\n    super(video);\n    this.isOpaque = false;\n\n    this.unbinds.push(\n      video.on('play', this.showIconAndFade),\n      video.on('pause', this.showIconAndFade),\n    );\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (prevProps.videoWidth !== this.props.videoWidth) {\n      this.renderButton();\n    }\n  }\n\n  showIconAndFade = () => {\n    if (!this.playedOnce) {\n      this.playedOnce = true;\n      return;\n    }\n\n    // This control conflicts with the CenteredPlayPauseTogglerControl unless\n    // the video is chromeless.\n    if (this.video.isControlEnabled('centeredPlayPauseToggler') && !this.props.chromeless) {\n      return;\n    }\n\n    if (this.video._inNativeMode()) {\n      return;\n    }\n\n    if (this.ignoreNextPlayOrPause) {\n      this.ignoreNextPlayOrPause = false;\n      return;\n    }\n\n    this.isPlaying = this.video.state() === 'playing';\n    this.renderAndFade();\n  };\n\n  renderAndFade() {\n    // Show this if the play/pause was driven by a user-event and recently\n    // occurred.\n    const lastPlay = this.video.lastPlayInfo();\n    if (this.isPlaying && lastPlay.source !== 'user-event') {\n      return;\n    }\n\n    const lastPause = this.video.lastPauseInfo();\n    if (!this.isPlaying && lastPause.source !== 'user-event') {\n      return;\n    }\n\n    this.isOpaque = true;\n    this.renderButton();\n    clearTimeout(this.fadeTimeout);\n    this.fadeTimeout = setTimeout(() => {\n      this.isOpaque = false;\n      this.renderButton();\n    }, 20);\n  }\n\n  renderButton() {\n    // note that we show the _inverse_ of whether the video is playing because\n    // we want to show the state we're _currently in_, which is the opposite of\n    // what the small play button does. kinda counterintuitive.\n    render(\n      <div class=\"w-play-pause-notifier\" style={this.rootStyle()}>\n        <div style={this.graphicStyle()}>\n          <SmallPlayButton isPlaying={!this.isPlaying} noPadding={true} />\n        </div>\n      </div>,\n      this.rootElem,\n    );\n    this.reactMounts = [this.rootElem];\n  }\n\n  oldRootStyle() {\n    const scale = this.scale();\n    const isPlaying = this.isPlaying;\n    const graphicHeight = isPlaying ? 72 : 80;\n    const graphicWidth = isPlaying ? 60 : 50;\n    return {\n      height: `${graphicHeight * scale}px`,\n      left: '50%',\n      pointerEvents: 'none',\n      position: 'absolute',\n      opacity: this.isOpaque ? 0.5 : 0,\n      top: '50%',\n      transform: `translate(-${isPlaying ? 33 : 50}%, -50%) scale(${this.isOpaque ? 0.9 : 1.1})`,\n      transition: this.isOpaque ? '' : 'opacity .8s, transform .8s',\n      width: `${graphicWidth * scale}px`,\n    };\n  }\n\n  rootStyle() {\n    const scale = this.scale();\n    const graphicHeight = 140;\n    const graphicWidth = 140;\n    return {\n      background: 'rgba(0,0,0,.6)',\n      borderRadius: '50%',\n      height: `${graphicHeight * scale}px`,\n      left: '50%',\n      pointerEvents: 'none',\n      position: 'absolute',\n      opacity: this.isOpaque ? 0.6 : 0,\n      top: '50%',\n      transform: `translate(-50%, -50%) scale(${this.isOpaque ? 0.7 : 0.8})`,\n      transition: this.isOpaque ? '' : 'opacity .8s, transform .8s',\n      width: `${graphicWidth * scale}px`,\n    };\n  }\n\n  graphicStyle() {\n    const scale = this.scale();\n    const isPlaying = this.isPlaying;\n    const graphicHeight = isPlaying ? 72 : 80;\n    const graphicWidth = isPlaying ? 60 : 50;\n    return {\n      height: `${graphicHeight * scale}px`,\n      left: '50%',\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: '50%',\n      transform: `translate(-${isPlaying ? 38 : 50}%, -${isPlaying ? 47 : 50}%)`,\n      width: `${graphicWidth * scale}px`,\n    };\n  }\n\n  scale() {\n    return Math.min(1.3, Math.max(0.3, controlMultiplierBasedOnVideo(this.video, [640, 960])));\n  }\n\n  svgStyle() {\n    return {\n      filter: 'drop-shadow(0px 0px 3px rgba(0,0,0,0.5))',\n    };\n  }\n}\n\nPlayPauseNotifierControl.shouldMount = (video) => {\n  return video._attrs.playPauseNotifier !== false && !detect.touchScreen;\n};\n\nPlayPauseNotifierControl.handle = 'playPauseNotifier';\nPlayPauseNotifierControl.type = 'above-control-bar';\n\ndefineControl(PlayPauseNotifierControl);\n\nexport default PlayPauseNotifierControl;\n","import { h, render, Component } from 'preact';\nimport { merge } from 'utilities/obj.js';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\n\nclass SmallPlayButton extends Component {\n  shouldComponentUpdate(nextProps) {\n    if (this.props.isPlaying !== nextProps.isPlaying) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    return (\n      <div style={this.rootStyle()}>\n        <div\n          style={{\n            display: this.props.isPlaying ? 'block' : 'none',\n            height: '100%',\n            width: '100%',\n          }}\n        >\n          {this.renderPauseIcon()}\n        </div>\n        <div\n          style={{\n            display: this.props.isPlaying ? 'none' : 'block',\n            height: '100%',\n            width: '100%',\n          }}\n        >\n          {this.renderPlayIcon()}\n        </div>\n      </div>\n    );\n  }\n\n  renderPlayIcon() {\n    const noPadding = this.props.noPadding;\n    const xPad = noPadding ? 0 : 20;\n    const yPad = noPadding ? 0 : 9;\n    const width = 11.556;\n    const height = 15;\n    const points = `${xPad + width},${yPad + height / 2} ${xPad},${yPad + height} ${xPad},${yPad}`;\n    return (\n      <svg\n        {...this.svgAttrs(width + xPad * 2, height + yPad * 2)}\n        class=\"w-css-reset w-css-reset-tree\"\n      >\n        <polygon points={points} />\n      </svg>\n    );\n  }\n\n  renderPauseIcon() {\n    const noPadding = this.props.noPadding;\n    const xPad = noPadding ? 0 : 20;\n    const yPad = noPadding ? 0 : 11.3;\n    const width = 10;\n    const height = 12;\n    return (\n      <svg\n        {...this.svgAttrs(width + xPad * 2, height + yPad * 2)}\n        class=\"w-css-reset w-css-reset-tree\"\n      >\n        <g>\n          <rect x={xPad} y={yPad} width=\"3.5\" height={height} />\n          <rect x={xPad + 6.5} y={yPad} width=\"3.5\" height={height} />\n        </g>\n      </svg>\n    );\n  }\n\n  rootStyle() {\n    return {\n      height: '100%',\n      width: '100%',\n    };\n  }\n\n  svgAttrs() {\n    const noPadding = this.props.noPadding;\n    const isPlaying = this.props.isPlaying;\n    const xPad = noPadding ? 0 : 20;\n    const yPad = noPadding ? 0 : isPlaying ? 11.3 : 9;\n    const height = isPlaying ? 12 : 16;\n    const width = isPlaying ? 10 : 11.556;\n\n    const result = standardSvgAttrs({\n      width: width + xPad * 2,\n      height: height + yPad * 2,\n      ariaHidden: true,\n    });\n    merge(result.style, this.props.svgStyle);\n    return result;\n  }\n}\n\nexport default SmallPlayButton;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { getLastTime } from 'utilities/resumableVideoData.js';\nimport Control from '../../shared/controls/Control.js';\nimport ProgressIndicator from '../../../../../shared/ProgressIndicator.jsx';\nimport shouldShowAsBeforePlay from '../../shouldShowAsBeforePlay.js';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\n\nconst safelyGetPercentWatched = (lastTime, duration) => {\n  if (lastTime == null || !duration) {\n    return;\n  }\n  return (100 * lastTime) / duration;\n};\n\nclass PlaybarlessProgressIndicatorControl extends Control {\n  constructor(video) {\n    super(video);\n    this.video = video;\n    this.unbinds.push(\n      video.on('play', () => this.renderProgressIndicator()),\n      video.on('playrejected', () => this.renderProgressIndicator()),\n      video.on('playpending', () => this.renderProgressIndicator()),\n      video.on('up', () => this.renderProgressIndicator()),\n      video.on('end', () => this.renderProgressIndicator()),\n    );\n  }\n\n  boundedScale() {\n    const { scale } = this.props;\n    return Math.min(Math.max(scale, 0.8), 2);\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  isVisible() {\n    return this._isVisible;\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n    this.renderProgressIndicator();\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (prevProps.containerWidth !== this.props.containerWidth) {\n      this.renderProgressIndicator();\n    }\n  }\n\n  rootStyle() {\n    return {\n      bottom: 0,\n      left: 0,\n      position: 'absolute',\n      width: '100%',\n    };\n  }\n\n  renderProgressIndicator() {\n    const lastTime = getLastTime(this.video.hashedId());\n    const duration = this.video.duration();\n    const percentWatched = safelyGetPercentWatched(lastTime, duration);\n    this._isVisible =\n      percentWatched > 0 && this.video.shouldResume() && shouldShowAsBeforePlay(this.video);\n\n    render(\n      <div style={this.rootStyle()}>\n        <ProgressIndicator\n          color={this.video.playerColor()}\n          isVisible={this._isVisible}\n          percentWatched={percentWatched}\n          scale={this.boundedScale()}\n        />\n      </div>,\n      this.rootElem,\n    );\n  }\n}\n\nPlaybarlessProgressIndicatorControl.handle = 'playbarlessProgressIndicator';\nPlaybarlessProgressIndicatorControl.type = 'foreground';\nPlaybarlessProgressIndicatorControl.sortValue = 1800;\nPlaybarlessProgressIndicatorControl.shouldMount = (publicApi) => {\n  return (\n    !publicApi.isAudio() &&\n    publicApi._attrs.resumable !== false &&\n    publicApi._opts.version !== 'v1' &&\n    publicApi._attrs.hideControlsOnLoad\n  );\n};\n\ndefineControl(PlaybarlessProgressIndicatorControl);\nexport default PlaybarlessProgressIndicatorControl;\n","import { cachedDetect } from 'utilities/detect.js';\n\nconst detect = cachedDetect();\n\nconst shouldShowAsBeforePlay = function (video) {\n  const lastPlay = video.lastPlayInfo();\n  const timeSincePlay = Date.now() - lastPlay.issuedAt;\n\n  const playNeverIssued = !lastPlay.source || lastPlay.rejectedAt;\n  const pendingPlayFromRecentClick =\n    lastPlay.isPending && lastPlay.source === 'user-event' && timeSincePlay < 2000;\n  const hasReset =\n    video._opts && video._attrs.endVideoBehavior === 'reset' && video.state() === 'ended';\n  const autoPlayProbablyWontWork =\n    lastPlay.isPending &&\n    lastPlay.source === 'non-user-event' &&\n    !video.isMuted() &&\n    (video._attrs.silentAutoplay === false || video._attrs.silentAutoplay == null) &&\n    (detect.iphone || detect.ipad || detect.safari);\n\n  return (\n    video.up() &&\n    (video.state() === 'beforeplay' || hasReset) &&\n    (playNeverIssued || autoPlayProbablyWontWork || pendingPlayFromRecentClick || hasReset)\n  );\n};\n\nexport default shouldShowAsBeforePlay;\n","import W from 'wistia_namespace.js';\nimport { elemBind, formInputIsFocused } from 'utilities/elem.js';\nimport { h, render } from 'preact';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport SettingsButton from './SettingsButton.jsx';\nimport Control from '../../../shared/controls/Control.js';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../../shared/control_definitions.js';\nimport { getTranslation, defineTranslations } from '../../../../../../shared/translations.js';\n\ndefineTranslations('en-US', {\n  SETTINGS_PLAYBACK_RATE_TITLE: 'Speed',\n  SETTINGS_QUALITY_AUTO: 'Auto',\n  SETTINGS_QUALITY_TITLE: 'Quality',\n  SETTINGS_TITLE: 'Settings',\n  SETTINGS_HIDE_MENU: 'Hide settings menu',\n  SETTINGS_SHOW_MENU: 'Show settings menu',\n});\n\nconst PLAYBACK_RATE_INCREMENT = 0.25;\nconst PLAYBACK_RATE_MAX = 2;\nconst PLAYBACK_RATE_MIN = 0.5;\n\nclass SettingsControl extends Control {\n  constructor(video) {\n    super(video);\n\n    this.unbinds.push(\n      video.on('playbackratechange', () => {\n        if (this.menuElem) {\n          this.renderMenu();\n        }\n      }),\n      video.on('qualitychange', () => {\n        if (this.menuElem) {\n          this.renderMenu();\n        }\n      }),\n      video.on('playerlanguagechange', () => {\n        if (this.menuElem) {\n          this.renderMenu();\n        }\n      }),\n      elemBind(document, 'keyup', this.onKeyUp),\n    );\n\n    video.hasData(() => {\n      if (this._isQualityEnabled == null) {\n        const qualityOpt = video._attrs.qualityControl;\n        this._isQualityEnabled = qualityOpt === true || qualityOpt == null;\n      }\n\n      // see comment below setPlaybackRateEnabled for an explanation about the detect checks\n      // present here.\n      if (this._isPlaybackRateEnabled == null) {\n        const playbackRateOpt = video._attrs.playbackRateControl;\n        this._isPlaybackRateEnabled = playbackRateOpt === true || playbackRateOpt == null;\n      }\n    });\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `SETTINGS_${key}`);\n  }\n\n  controlDialogOpened() {\n    this.updateButtonLabel();\n  }\n\n  controlDialogClosed() {\n    this.updateButtonLabel();\n  }\n\n  mountButton(buttonRoot) {\n    this.buttonRoot = buttonRoot;\n    this.renderButton();\n  }\n\n  mountDialog(dialogRoot) {\n    this.dialogRoot = dialogRoot;\n    return this.renderMenu();\n  }\n\n  onKeyUp = (event) => {\n    const context = this.video.getInputContext();\n    const suitableContexts = [\n      'player-mouseover',\n      'player-focus',\n      'playbar-focus',\n      'background-focus',\n    ];\n    const inSuitableInputContext = suitableContexts.indexOf(context) >= 0;\n\n    if (formInputIsFocused() || !inSuitableInputContext || !this.getPlaybackRateEnabled()) {\n      return;\n    }\n\n    if (event.key === '>') {\n      const newPlaybackRate = Math.min(\n        this.video.playbackRate() + PLAYBACK_RATE_INCREMENT,\n        PLAYBACK_RATE_MAX,\n      );\n      this.video.playbackRate(newPlaybackRate);\n    }\n\n    if (event.key === '<') {\n      const newPlaybackRate = Math.max(\n        this.video.playbackRate() - PLAYBACK_RATE_INCREMENT,\n        PLAYBACK_RATE_MIN,\n      );\n      this.video.playbackRate(newPlaybackRate);\n    }\n  };\n\n  renderButton() {\n    this.setButtonLabel(this.translate('TITLE'));\n\n    this.updateButtonLabel();\n\n    render(<SettingsButton onMouseEnter={this.onMouseEnterButton} />, this.buttonRoot);\n    this.reactMounts.button = [this.buttonRoot];\n  }\n\n  loadMenuCode = () => {\n    return Promise.all([\n      dynamicImport('assets/external/interFontFace.js'),\n      dynamicImport('assets/external/vulcanV2Player/video/controls/SettingsControl/dialog.js'),\n    ]).then(([, moduleControlDialog]) => {\n      if (!this.renderMenuImpl) {\n        const { renderMenu, onSelect } = moduleControlDialog;\n        this.renderMenuImpl = renderMenu.bind(this);\n        this.onSelect = onSelect.bind(this);\n      }\n    });\n  };\n\n  renderMenu() {\n    if (!this.dialog.isOpen()) {\n      return;\n    }\n\n    const loadMenuCode = this.loadMenuCode().then(() => {\n      this.renderMenuImpl();\n    });\n\n    this.loading(\n      new Promise((resolve) => {\n        loadMenuCode.then(resolve);\n      }),\n    );\n\n    return loadMenuCode;\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (this.dialog && this.dialog.isOpen()) {\n      this.renderMenu();\n    }\n\n    if (\n      prevProps.playerLanguage &&\n      this.props.playerLanguage.code !== prevProps.playerLanguage.code\n    ) {\n      this.renderButton();\n      this.renderMenu();\n    }\n  }\n\n  updateButtonLabel() {\n    if (!this.dialog) {\n      return;\n    }\n    if (this.dialog.isOpen()) {\n      this.setButtonLabel(this.translate('HIDE_MENU'));\n    } else {\n      this.setButtonLabel(this.translate('SHOW_MENU'));\n    }\n  }\n\n  onMouseEnterButton = () => {\n    this.loadMenuCode();\n  };\n\n  setQualityEnabled(isQualityEnabled) {\n    this._isQualityEnabled = isQualityEnabled;\n    return this.loadMenuCode().then(() => {\n      if (this.dialog.isOpen()) {\n        this.renderMenuImpl();\n      }\n    });\n  }\n\n  getPlaybackRateEnabled() {\n    return Boolean(this._isPlaybackRateEnabled);\n  }\n\n  setPlaybackRateEnabled(isPlaybackRateEnabled) {\n    this._isPlaybackRateEnabled = isPlaybackRateEnabled;\n\n    return this.loadMenuCode().then(() => {\n      if (this.dialog.isOpen()) {\n        this.renderMenuImpl();\n      }\n    });\n  }\n}\n\nSettingsControl.shouldMount = (video) => {\n  const { _attrs } = video;\n  const settingsOpt = _attrs.settingsControl;\n  const qualityOpt = _attrs.qualityControl;\n  const playbackRateOpt = _attrs.playbackRateControl;\n\n  // short circuit the settings checks and disable for Live\n  // until we refactor the quality control UI\n  if (video.isLiveMedia()) {\n    return false;\n  }\n\n  return (\n    settingsOpt !== false &&\n    (qualityOpt === true ||\n      qualityOpt == null ||\n      playbackRateOpt === true ||\n      playbackRateOpt == null)\n  );\n};\n\nSettingsControl.handle = 'settingsButton';\nSettingsControl.type = 'control-bar-right';\nSettingsControl.sortValue = 200;\nSettingsControl.isVideoChrome = true;\ndefineControl(SettingsControl);\n\nW.SettingsControl = SettingsControl;\n\nexport default SettingsControl;\n","import { h, render, Component } from 'preact';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\n\nclass SettingsButton extends Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    return (\n      <svg\n        {...standardSvgAttrs({ width: 40, height: 34, ariaHidden: true })}\n        onMouseEnter={this.props.onMouseEnter}\n      >\n        <g>\n          <g>\n            <path d=\"M28.3,16.4h-1.9c-0.4,0-0.8-0.3-0.9-0.7l-0.4-1.1c-0.2-0.3-0.1-0.8,0.2-1.1l1.3-1.3c0.3-0.3,0.3-0.7,0-1l-0.4-0.4c-0.3-0.3-0.7-0.3-1,0l-1.3,1.3c-0.3,0.3-0.8,0.3-1.1,0.1l-1.1-0.5c-0.4-0.1-0.7-0.5-0.7-0.9V9.1c0-0.4-0.3-0.7-0.7-0.7h-0.6c-0.4,0-0.7,0.3-0.7,0.7v1.7c0,0.4-0.3,0.8-0.7,0.9l-1.2,0.5c-0.3,0.2-0.8,0.1-1.1-0.2l-1.2-1.2c-0.3-0.3-0.7-0.3-1,0l-0.4,0.4c-0.3,0.3-0.3,0.7,0,1l1.2,1.2c0.3,0.3,0.3,0.8,0.1,1.1l-0.5,1.2c-0.1,0.4-0.5,0.7-0.9,0.7h-1.6c-0.4,0-0.7,0.3-0.7,0.7v0.6c0,0.4,0.3,0.7,0.7,0.7h1.6c0.4,0,0.8,0.3,0.9,0.7l0.5,1.2c0.2,0.3,0.1,0.8-0.1,1.1l-1.2,1.2c-0.3,0.3-0.3,0.7,0,1l0.4,0.4c0.3,0.3,0.7,0.3,1,0l1.2-1.2c0.3-0.3,0.8-0.3,1.1-0.2l1.2,0.5c0.4,0.1,0.7,0.5,0.7,0.9v1.7c0,0.4,0.3,0.7,0.7,0.7h0.6c0.4,0,0.7-0.3,0.7-0.7V24c0-0.4,0.3-0.8,0.7-0.9l1.1-0.5c0.3-0.2,0.8-0.1,1.1,0.1l1.3,1.3c0.3,0.3,0.7,0.3,1,0l0.4-0.4c0.3-0.3,0.3-0.7,0-1l-1.3-1.3C25,21,25,20.5,25.1,20.2l0.4-1.1c0.1-0.4,0.5-0.7,0.9-0.7h1.9c0.4,0,0.7-0.3,0.7-0.7v-0.6C29,16.7,28.7,16.4,28.3,16.4z M23.8,17.5c0,2.2-1.8,3.9-3.9,3.9c-2.2,0-3.9-1.8-3.9-3.9s1.7-3.9,3.9-3.9C22.1,13.6,23.8,15.3,23.8,17.5z\" />\n          </g>\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default SettingsButton;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport Control from './Control.js';\nimport SmallPlayButton from '../../../../../shared/SmallPlayButton.jsx';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\nimport { getTranslation } from '../../../../../shared/translations.js';\n\nclass SmallPlayButtonControl extends Control {\n  constructor(video) {\n    super(video);\n\n    this.unbinds.push(\n      video.on('play', this.renderButton),\n      video.on('pause', this.renderButton),\n      video.on('end', this.renderButton),\n    );\n\n    // note: `disabledButton` is a special class field that the UIBehavior will\n    // look for on each control button render to know if that button should be enabled/disabled\n    if (video.isLiveMedia()) {\n      this.disabledButton = true;\n\n      video.ready(() => {\n        this.disabledButton = false;\n        this.renderButton();\n      });\n    } else {\n      this.disabledButton = false;\n    }\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  #getTranslation() {\n    if (this.disabledButton) {\n      return this.translate('LIVE_NOT_STARTED');\n    }\n\n    if (this.video.state() === 'playing') {\n      return this.translate('TITLE_WHEN_PLAYING');\n    }\n\n    return this.translate('TITLE_WHEN_NOT_PLAYING');\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (\n      (prevProps.playerLanguage &&\n        this.props.playerLanguage.code !== prevProps.playerLanguage.code) ||\n      this.props.scale !== prevProps.scale\n    ) {\n      this.renderButton();\n    }\n  }\n\n  mountButton(buttonRoot) {\n    this.buttonRoot = buttonRoot;\n    this.renderButton();\n  }\n\n  renderButton = () => {\n    if (!this.buttonRoot) {\n      return;\n    }\n\n    this.setButtonLabel(this.#getTranslation());\n    render(\n      <div style={this.wrapperStyle()}>\n        <SmallPlayButton\n          isPlaying={this.video.state() === 'playing'}\n          noPadding={true}\n          svgStyle={{ verticalAlign: 'top' }}\n        />\n      </div>,\n      this.buttonRoot,\n    );\n\n    this.reactMounts = [this.rootElem];\n  };\n\n  wrapperStyle() {\n    const { scale } = this.props;\n\n    const isPlaying = this.video.state() === 'playing';\n    let padding = isPlaying\n      ? `${10 * scale}px 0 ${11 * scale}px 0`\n      : `${10 * scale}px 0 ${9 * scale}px 0`;\n\n    return {\n      boxSizing: 'border-box',\n      height: '100%',\n      marginLeft: !isPlaying ? `${scale * 1}px` : 0,\n      padding,\n      position: 'relative',\n      width: '100%',\n    };\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `PLAY_BUTTON_${key}`);\n  }\n\n  onClickButton = () => {\n    const video = this.video;\n    if (video.state() === 'playing') {\n      video.pause();\n    } else {\n      video.play();\n    }\n  };\n\n  onKeyDownButton = (e) => {\n    if (e.keyCode === 32 || e.keyCode === 13) {\n      // space or return\n      e.__handledAlready = true;\n    }\n  };\n\n  pcfButtonWidth() {\n    return 40;\n  }\n}\n\nSmallPlayButtonControl.shouldMount = (video) => {\n  const smallPlayButtonOpt = video._attrs.playPauseControl;\n  const isEnabled = smallPlayButtonOpt === true || smallPlayButtonOpt == null;\n  const controlBarBigEnoughToFit = video._impl.ui && video._impl.ui.shouldShowMoreDefaultValue();\n  return isEnabled && controlBarBigEnoughToFit;\n};\nSmallPlayButtonControl.handle = 'smallPlayButton';\nSmallPlayButtonControl.type = 'control-bar-left';\nSmallPlayButtonControl.sortValue = 100;\n\ndefineControl(SmallPlayButtonControl);\n\nexport default SmallPlayButtonControl;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { defineControl } from 'embeds/shared/control_definitions.js';\nimport Control from '../../../shared/controls/Control.js';\nimport StatusBar from './StatusBar.jsx';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { getTranslation, defineTranslations } from '../../../../../../shared/translations.js';\n\ndefineTranslations('en-US', {\n  STATUS_BAR_EMBED_CODE_COPIED: 'Embed Code is now copied to your clipboard!',\n});\n\nclass StatusBarControl extends Control {\n  constructor(video) {\n    super(video);\n    this._isVisible = false;\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  flash(message, time = 2000) {\n    this._isVisible = true;\n\n    this.renderMenu(this.translate(message));\n\n    setTimeout(() => {\n      this.hide();\n    }, time);\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `STATUS_BAR_${key}`);\n  }\n\n  hide() {\n    this._isVisible = false;\n    render(<nothing />, this.rootElem);\n  }\n\n  renderMenu(message) {\n    if (this._isVisible) {\n      render(<StatusBar message={message} />, this.rootElem);\n      this.reactMounts = [this.rootElem];\n    }\n  }\n}\n\nStatusBarControl.handle = 'statusBar';\nStatusBarControl.type = 'background';\n\ndefineControl(StatusBarControl);\n\nexport default StatusBarControl;\n","import { h, render, Component } from 'preact';\n\nclass StatusBar extends Component {\n  styles() {\n    return {\n      background: 'rgba(0,0,0,.3)',\n      boxShadow: 'none',\n      cursor: 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      fontSize: fontSizePx(this),\n      lineHeight: lineHeightPx(this),\n      padding: `0 ${10 * this.props.scale}px`,\n      width: '100%',\n      height: '30px',\n      color: '#fff',\n      position: 'absolute',\n      justifyContent: 'center',\n    };\n  }\n\n  render() {\n    return <div style={this.styles()}>{this.props.message}</div>;\n  }\n}\n\nconst lineHeight = (component) => {\n  return 34 * component.props.scale;\n};\n\nconst lineHeightPx = (component) => {\n  return `${lineHeight(component)}px`;\n};\n\nconst fontSizePx = (component) => {\n  return `${14 * component.props.scale}px`;\n};\n\nexport default StatusBar;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport Control from '../../../shared/controls/Control.js';\nimport ProgressiveThumbnail from '../../../../../../shared/ProgressiveThumbnail.jsx';\nimport shouldShowAsBeforePlay from '../../../shouldShowAsBeforePlay.js';\nimport { destroyControl } from '../../../../../../shared/control-lifecycle.js';\nimport { defineControl } from '../../../../../../shared/control_definitions.js';\n\nclass ThumbnailControl extends Control {\n  constructor(video) {\n    super(video);\n    this.unbinds.push(\n      video.on('play', () => {\n        this._hasPlayed = true;\n        this.renderThumbnailAndUpdateSwatch();\n      }),\n      video.on('playrejected', () => {\n        this.renderThumbnailAndUpdateSwatch();\n      }),\n      video.on('playpending', () => {\n        this.renderThumbnailAndUpdateSwatch();\n      }),\n      video.on('up', this.renderThumbnailAndUpdateSwatch),\n      video.on('end', this.renderThumbnailAndUpdateSwatch),\n    );\n\n    this.eventListeners.set('thumbnailchange', () => {\n      this.thumbnailAssets = this.video.thumbnailAssets();\n      this.renderThumbnailAndUpdateSwatch();\n    });\n\n    // If swatchEnabled is passed, defer to that. Otherwise, use this logic if\n    // a swatch element is actually present in the DOM.\n    this._swatchEnabled = video._opts.swatchEnabled\n      ? video._opts.swatchEnabled\n      : video._embedContainer.querySelector('.wistia_swatch');\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n    this.thumbnailAssets = this.thumbnailAssets || this.video.thumbnailAssets();\n    if (!this.shouldShow()) {\n      return Promise.resolve();\n    }\n\n    const oneSecondElapsed = new Promise((resolve) => {\n      setTimeout(resolve, 1000);\n    });\n    const thumbnailRendered = new Promise((resolve) => {\n      this.renderThumbnailAndUpdateSwatch(resolve);\n      this.video.embedded(() => {\n        if (!this.__destroyed) {\n          this.renderThumbnailAndUpdateSwatch();\n        }\n      });\n    });\n    return Promise.race([thumbnailRendered, oneSecondElapsed]);\n  }\n\n  renderThumbnail = (onDisplay) => {\n    const video = this.video;\n    const lastPlay = video.lastPlayInfo();\n    const timeSincePlay = Date.now() - lastPlay.issuedAt;\n\n    // checking for existence here because we want to allow empty strings as valid alt tags. Null is used to determine\n    // if we should fall back to the default player translation for the alt tag.\n    const thumbnailAltText = video.embedOptions().thumbnailAltText;\n\n    // To clarify the isPending logic:\n    // - If the state() is beforeplay and isPending === false, then we are not\n    //   trying to play the video, so we want to show the thumbnail.\n    // - If the state() is beforeplay and isPending === true, then we are\n    //   trying to play the video, and we want to show the thumbnail until 2\n    //   seconds has elapsed.\n    this._isVisible = this.shouldShow();\n\n    const isBackgroundTransparent = video._attrs.transparentLetterbox === true;\n\n    render(\n      <ProgressiveThumbnail\n        {...this.props}\n        backgroundColor={isBackgroundTransparent ? 'transparent' : undefined}\n        elemRef={(elem) => (this.thumbnailElem = elem)}\n        images={this.thumbnailAssets}\n        isVisible={this.shouldShow()}\n        onDisplay={onDisplay}\n        hashedId={this.video.hashedId()}\n        swatchEnabled={!video._attrs.poster && this._swatchEnabled}\n        uiHasRendered={this.video._impl.ui.hasRendered()}\n        fitStrategy={this.video._opts.fitStrategy}\n        thumbnailAltText={thumbnailAltText}\n      />,\n      this.rootElem,\n    );\n\n    if (this._isVisible) {\n      this._hasRenderedVisible = true;\n    }\n\n    // We might want this to hide in 2 seconds if the video still hasn't\n    // played.\n    const timeoutTime = 2000 - timeSincePlay + 1;\n    if (this._isVisible && timeSincePlay < 2000) {\n      setTimeout(() => {\n        if (!this._destroyed) {\n          this.renderThumbnailAndUpdateSwatch();\n        }\n      }, timeoutTime);\n    }\n\n    this.reactMounts = [this.rootElem];\n  };\n\n  renderThumbnailAndUpdateSwatch = (args) => {\n    this.renderThumbnail(args);\n    this.updateSwatch();\n  };\n\n  shouldShow() {\n    return Boolean(shouldShowAsBeforePlay(this.video) && this.video.thumbnailAssets().length);\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (!this._hasRenderedVisible) {\n      return;\n    }\n\n    const propsWeCareAbout = ['videoWidth', 'videoHeight', 'playerLanguage', 'playerBorderRadius'];\n    const anyPropChanged = propsWeCareAbout.some((prop) => {\n      return this.props[prop] !== prevProps[prop];\n    });\n    if (anyPropChanged) {\n      this.renderThumbnailAndUpdateSwatch();\n    }\n  }\n\n  updateSwatch() {\n    const swatch = this.video._embedContainer.querySelector('.wistia_swatch');\n    if (swatch) {\n      swatch.style.borderRadius = `${this.props.playerBorderRadius}px`;\n    }\n  }\n}\n\n// XXX: Temporary compatibility.\nconst shouldShow = function () {\n  return shouldShowAsBeforePlay(this.video);\n};\nThumbnailControl.shouldShow = shouldShow;\n\nThumbnailControl.shouldMount = (video) => {\n  if (video._opts.spherical) {\n    return false;\n  }\n\n  return true;\n};\n\nThumbnailControl.handle = 'thumbnail';\nThumbnailControl.type = 'background';\nThumbnailControl.sortValue = 1000;\ndefineControl(ThumbnailControl);\n\nexport default ThumbnailControl;\n","import { assign } from 'utilities/obj.js';\nimport { h, render, Component } from 'preact';\nimport { eV1Protocol, eV1Host } from 'utilities/hosts.js';\nimport Thumbnail from './Thumbnail.jsx';\n\nclass ProgressiveThumbnail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      normalThumbOpacity: props.isVisible ? 1 : 0,\n    };\n    this.onDisplay = props.onDisplay;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.onDisplay && nextProps.onDisplay) {\n      this.onDisplay = nextProps.onDisplay;\n    }\n  }\n\n  render() {\n    if (this.props.isVisible) {\n      this._hasRenderedVisible = true;\n    }\n\n    const sharedProps = {\n      backgroundColor: this.props.backgroundColor,\n      fitStrategy: this.props.fitStrategy,\n      isVisible: this.props.isVisible,\n      stillSnap: this.props.stillSnap,\n      stretchLimit: this.props.stretchLimit,\n      videoHeight: this.props.videoHeight,\n      videoWidth: this.props.videoWidth,\n      thumbnailAltText: this.props.thumbnailAltText,\n      playerBorderRadius: this.props.playerBorderRadius,\n    };\n    const swatchProps = assign({}, sharedProps, {\n      ariaHidden: true,\n      images: [\n        {\n          url: `${eV1Protocol()}//${eV1Host()}/embed/medias/${this.props.hashedId}/swatch`,\n        },\n      ],\n    });\n    const normalThumbProps = assign({}, sharedProps, {\n      onDisplay: this.onDisplayNormalThumb,\n      images: this.props.images,\n    });\n    return (\n      <div ref={this.props.elemRef}>\n        {this.props.swatchEnabled && this._hasRenderedVisible ? (\n          <Thumbnail {...swatchProps} wrapperStyle={this.swatchWrapperStyle()} />\n        ) : null}\n        {this._hasRenderedVisible ? (\n          <Thumbnail {...normalThumbProps} wrapperStyle={this.normalThumbWrapperStyle()} />\n        ) : null}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    setTimeout(this.afterTwoSeconds, 2000);\n  }\n\n  normalThumbWrapperStyle() {\n    const transition =\n      this.props.swatchEnabled && this.props.uiHasRendered && this.state.normalThumbOpacity === 1\n        ? 'opacity 3s'\n        : '';\n    return {\n      height: '100%',\n      left: 0,\n      opacity: this.state.normalThumbOpacity,\n      position: this.props.fitStrategy === 'naturalHeight' ? 'relative' : 'absolute',\n      top: 0,\n      transition,\n      width: '100%',\n    };\n  }\n\n  swatchWrapperStyle() {\n    return {\n      filter: 'blur(5px)',\n      height: '100%',\n      left: 0,\n      position: this.props.fitStrategy === 'naturalHeight' ? 'relative' : 'absolute',\n      top: 0,\n      width: '100%',\n    };\n  }\n\n  afterTwoSeconds = () => {\n    // If we've waited 2 seconds for the thumbnail to load but it still hasn't\n    // finished, then we guessed wrong about what the initial opacity should\n    // be. Set it back to 0 so we do a slow fade when it's done loading.\n    if (!this._displayed && this.state.normalThumbOpacity === 1) {\n      this.setState({ normalThumbOpacity: 0 });\n    }\n  };\n\n  onDisplayNormalThumb = () => {\n    this.setState({ normalThumbOpacity: 1 });\n\n    this._displayed = true;\n    if (this.onDisplay) {\n      this.onDisplay();\n    }\n  };\n}\n\nexport default ProgressiveThumbnail;\n","import { bestImage, sortedImages, blankImage } from 'utilities/image.js';\nimport { h, render, Component } from 'preact';\nimport { assign } from 'utilities/obj.js';\nimport { elemInDom } from 'utilities/elem.js';\nimport { getTranslation, defineTranslations } from './translations.js';\n\ndefineTranslations('en-US', {\n  THUMBNAIL_VIDEO_THUMBNAIL: 'Video Thumbnail',\n});\n\nclass Thumbnail extends Component {\n  constructor(props) {\n    super(props);\n    this.initialState = this.state = {\n      isLoaded: false,\n      isDisplaying: false,\n    };\n\n    this.onDisplay = this.props.onDisplay;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.images !== this.props.images) {\n      clearTimeout(this.loadTimeout);\n\n      // clear the cache if we're changing which images to operate on.\n      this._sortedImages = null;\n      this.loadTimeout = null;\n      this.setState({ isLoaded: false, isDisplaying: false });\n    }\n\n    if (!this.onDisplay && nextProps.onDisplay) {\n      this.onDisplay = nextProps.onDisplay;\n    }\n  }\n\n  render() {\n    const altText =\n      this.props.thumbnailAltText !== undefined\n        ? this.props.thumbnailAltText\n        : this.translate('VIDEO_THUMBNAIL');\n    return (\n      <div style={this.wrapperStyle()} class=\"w-css-reset\">\n        <img\n          class=\"w-css-reset\"\n          srcset={this.props.images.length > 1 ? this.srcSet() : null}\n          src={this.bestSrc()}\n          style={this.imgStyle()}\n          alt={altText}\n          ref={(e) => (this.imgElem = e)}\n          aria-hidden={this.props.ariaHidden ? 'true' : null}\n        />\n      </div>\n    );\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage, `THUMBNAIL_${key}`);\n  }\n\n  componentDidMount() {\n    this.setStateBasedOnImgStatus();\n    this.maybeCallOnDisplay(this.initialState);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.setStateBasedOnImgStatus();\n    this.maybeCallOnDisplay(prevState);\n  }\n\n  maybeCallOnDisplay() {\n    if (this.onDisplay && this.state.isDisplaying && !this.calledOnDisplay) {\n      // There may be components outside the thumbnail that depend on this.\n      // For example, we might not want to show controls until the thumbnail\n      // is displayed.\n      this.calledOnDisplay = true;\n      this.onDisplay();\n    }\n  }\n\n  setStateBasedOnImgStatus() {\n    const state = this.state;\n\n    const imgElem = this.imgElem;\n    if (!state.isLoaded) {\n      if (!imgElem.onload) {\n        imgElem.onload = () => {\n          if (elemInDom(imgElem)) {\n            this.setState({ isLoaded: true });\n          }\n        };\n      }\n\n      if (imgElem.complete) {\n        this.setState({ isLoaded: true });\n      }\n    }\n\n    // If the img has loaded or we've waited 1 second, let's display it either\n    // way. If transparent-letterbox is not set, then this will show a black\n    // background for the thumbnail. If transparent-letterbox is set, then nothing will\n    // show, even though it will technically still be in an \"isDisplaying\"\n    // state--it's just transparent.\n    if (!state.isDisplaying && state.isLoaded) {\n      this.setState({ isDisplaying: true });\n    }\n  }\n\n  wrapperStyle() {\n    const shouldShow = this.state.isDisplaying && this.props.isVisible;\n    return assign({}, this.props.wrapperStyle, {\n      display: this.state.isLoaded && !shouldShow ? 'none' : 'block',\n    });\n  }\n\n  baseStyle() {\n    const fitStrategy = this.props.fitStrategy;\n    if (fitStrategy === 'cover') {\n      return this.coverStyle();\n    }\n    if (fitStrategy === 'contain') {\n      return this.containStyle();\n    }\n    if (fitStrategy === 'fill') {\n      return this.fillStyle();\n    }\n    if (fitStrategy === 'naturalHeight') {\n      return this.naturalHeightStyle();\n    }\n    if (fitStrategy === 'modernContain') {\n      return this.modernContainStyle();\n    }\n    return this.containStyle();\n  }\n\n  imgStyle() {\n    const shouldShow = this.state.isDisplaying && this.props.isVisible;\n    return assign(this.baseStyle(), {\n      // We use position/clip to hide/show the thumbnail until it has loaded\n      // because the img may not try to load if it's not visible. But after\n      // it's loaded, we use display: none/block to defeat over-aggressive css\n      // that might do something like position: static !important.\n      clip: shouldShow ? 'auto' : 'rect(0,0,0,0)',\n      display: this.state.isLoaded && !shouldShow ? 'none' : 'block',\n      borderRadius: `${this.props.playerBorderRadius}px`,\n    });\n  }\n\n  modernContainStyle() {\n    return {\n      height: '100%',\n      objectFit: 'contain',\n      position: 'absolute',\n      width: '100%',\n      top: 0,\n      left: 0,\n    };\n  }\n\n  containStyle() {\n    if (!this.imgElem) {\n      // in Firefox, if we style the imgElem with the incorrect aspect ratio\n      // (like a default aspect ratio of 16 / 9 that doesn't actually match what\n      // the eventual imgElem's natural aspect ratio will be), and then\n      // switch the imgElem from display none to block once it loads, Firefox\n      // will first quickly show the image at that wrong aspect ratio, even if\n      // we've already corrected it. We avoid this by simply not returning any\n      // styles here on the first render of the img elem. It will always render\n      // a second time, when we setState to make isLoaded true.\n      return {\n        height: '100%',\n        left: 0,\n        position: 'absolute',\n        top: 0,\n        width: '100%',\n      };\n    }\n    const props = this.props;\n    const containerWidth = props.videoWidth;\n    const containerHeight = props.videoHeight;\n    const containerAspect = containerWidth / containerHeight;\n    const imageAspect = this.imgElem.naturalWidth / this.imgElem.naturalHeight;\n\n    let newWidth;\n    let newHeight;\n    if (props.stillSnap === false) {\n      newWidth = containerWidth;\n      newHeight = containerHeight;\n    } else if (containerAspect > imageAspect) {\n      newHeight = containerHeight;\n      newWidth = Math.round(newHeight * imageAspect);\n    } else if (containerAspect <= imageAspect) {\n      newWidth = containerWidth;\n      newHeight = Math.round(newWidth / imageAspect);\n    }\n\n    // Figure out how much border we need to add\n    const ySpace = Math.max(0, containerHeight - newHeight);\n    const xSpace = Math.max(0, containerWidth - newWidth);\n    const yBorder = Math.round(ySpace / 2);\n    const xBorder = Math.round(xSpace / 2);\n    let topBorder = yBorder;\n    let rightBorder = xBorder;\n    let bottomBorder = yBorder;\n    let leftBorder = xBorder;\n\n    // Don't worry about stretching up to 10px\n    if (bottomBorder * 2 <= this.stretchLimit()) {\n      bottomBorder = 0;\n      topBorder = 0;\n      newHeight = containerHeight;\n    }\n    if (leftBorder * 2 <= this.stretchLimit()) {\n      leftBorder = 0;\n      rightBorder = 0;\n      newWidth = containerWidth;\n    }\n\n    // When letterboxing, we show a black background by default. We can use\n    const borderColor = this.props.backgroundColor || '#000';\n    return {\n      borderTop: `${topBorder}px solid ${borderColor}`,\n      borderBottom: `${bottomBorder}px solid ${borderColor}`,\n      borderLeft: `${leftBorder}px solid ${borderColor}`,\n      borderRight: `${rightBorder}px solid ${borderColor}`,\n      boxSizing: 'content-box',\n      height: `${newHeight}px`,\n      left: 0,\n      position: 'absolute',\n      top: 0,\n      webkitTouchCallout: 'none',\n      width: `${newWidth}px`,\n    };\n  }\n\n  coverStyle() {\n    // IE11 does not support objectFit. Screw em.\n    return {\n      height: '100%',\n      objectFit: 'cover',\n      position: 'absolute',\n      width: '100%',\n    };\n  }\n\n  fillStyle() {\n    // Though object-fit will be ignored, this will work in IE1 because the\n    // default is to stretch the image.\n    return {\n      height: '100%',\n      objectFit: 'fill',\n      position: 'absolute',\n      width: '100%',\n    };\n  }\n\n  naturalHeightStyle() {\n    return {\n      width: '100%',\n      position: 'relative',\n    };\n  }\n\n  bestSrc() {\n    return bestImage(this.props.images, {\n      videoWidth: this.props.videoWidth,\n      videoHeight: this.props.videoHeight,\n    }).url;\n  }\n\n  srcSet() {\n    let sortedImages = this.sortedImages();\n\n    if (sortedImages.length === 0) {\n      sortedImages = [blankImage(this.props.videoWidth, this.props.videoHeight)];\n    }\n\n    return sortedImages\n      .map((image) => {\n        return `${image.url} ${image.width}w`;\n      })\n      .join(', ');\n  }\n\n  sortedImages() {\n    if (this._sortedImages) {\n      return this._sortedImages;\n    }\n\n    this._sortedImages = sortedImages(this.props.images);\n\n    return this._sortedImages;\n  }\n\n  stretchLimit() {\n    const stretchLimit = this.props.stretchLimit;\n    if (stretchLimit != null) {\n      return stretchLimit;\n    }\n    return 10;\n  }\n}\n\nexport default Thumbnail;\n","import { eV1HostWithPort } from 'utilities/hosts.js';\n\nexport const bestImage = (images, opts = {}) => {\n  const _sortedImages = sortedImages(images);\n\n  if (_sortedImages.length === 0) {\n    // If the still failed to process, we might find ourselves going down\n    // this path.\n    return blankImage(opts.videoWith, opts.videoHeight);\n  }\n\n  // When this first loads it's possible that @img will have a width of -1\n  // until fit() fully takes hold. This could probably be fixed a better\n  // way, but this code is here to ensure that we don't return a bogus\n  // bestImage() if that's the case.\n  const currentWidth = opts.videoWidth;\n\n  // For sharper screens, let's load up larger images so the thumbnail\n  // looks hella sharp\n  const desiredWidth = (window.devicePixelRatio || 1) * currentWidth;\n\n  if (desiredWidth <= _sortedImages[0].width) {\n    return _sortedImages[0];\n  }\n\n  for (let i = 0; i < _sortedImages.length; i++) {\n    const image = _sortedImages[i];\n    if (image.width >= desiredWidth) {\n      return image;\n    }\n  }\n\n  return _sortedImages[_sortedImages.length - 1];\n};\n\nexport const blankImage = (videoWidth, videoHeight) => {\n  return {\n    height: videoHeight,\n    url: `https://${eV1HostWithPort()}/assets/images/blank.gif`,\n    width: videoWidth,\n  };\n};\n\nexport const sortedImages = (images) => {\n  return images.map((image) => {\n    image.aspect = image.width / image.height;\n    return image;\n  });\n};\n","import { setViewerPreference } from 'utilities/viewerPreferences.js';\nimport { elemBind, formInputIsFocused } from 'utilities/elem.js';\nimport { h, render } from 'preact';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport { getTranslation, defineTranslations } from '../../../../../shared/translations.js';\nimport { defineControl } from '../../../../../shared/control_definitions.js';\nimport { destroyControl } from '../../../../../shared/control-lifecycle.js';\nimport VolumeButton from '../../shared/ui_components/VolumeButton.jsx';\nimport Control from '../../shared/controls/Control.js';\n\nconst detect = cachedDetect();\n\nconst UP_KEY = 38;\nconst DOWN_KEY = 40;\nconst M_KEY = 77;\nconst DELAY_IF_DIALOG_OPEN = 300;\n\ndefineTranslations('en-US', {\n  VOLUME_TITLE_WHEN_MUTED: 'Unmute',\n  VOLUME_TITLE_WHEN_UNMUTED: 'Mute',\n});\n\nclass VolumeButtonControl extends Control {\n  constructor(video) {\n    super(video);\n    this.video = video;\n\n    this.unbinds.push(\n      video.on('volumechange', () => {\n        if (this.buttonRoot) {\n          this.renderButton();\n        }\n      }),\n\n      elemBind(document, 'keyup', this.onKeyUp),\n      elemBind(document, 'keydown', this.onKeyDown),\n    );\n  }\n\n  destroy() {\n    destroyControl(this);\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (\n      prevProps.playerLanguage &&\n      this.props.playerLanguage.code !== prevProps.playerLanguage.code\n    ) {\n      this.renderButton();\n    }\n  }\n\n  loadSliderCode = () => {\n    return dynamicImport(\n      'assets/external/vulcanV2Player/video/controls/VolumeSliderControl/VolumeSliderControl.js',\n    ).then((moduleClass) => {\n      defineControl(moduleClass.VolumeSliderControl);\n    });\n  };\n\n  mountButton(buttonRoot) {\n    this.buttonRoot = buttonRoot;\n    this.renderButton();\n  }\n\n  renderButton() {\n    if (!this.buttonRoot) {\n      return;\n    }\n\n    this.setButtonLabel(\n      this.video.isMuted()\n        ? this.translate('TITLE_WHEN_MUTED')\n        : this.translate('TITLE_WHEN_UNMUTED'),\n    );\n    render(\n      <VolumeButton volume={this.video.isMuted() ? 0 : this.video.volume()} />,\n      this.buttonRoot,\n    );\n    this.reactMounts.button = [this.buttonRoot];\n  }\n\n  translate(key) {\n    return getTranslation(this.props.playerLanguage.code, `VOLUME_${key}`);\n  }\n\n  onClickButton = () => {\n    // iOS and many phones can't change volume at all. In the event we're using\n    // the touchscreen UI with the volume button, though, let's disable the\n    // \"toggle mute on click\" functionality since it conflicts with clicking\n    // the button to open the slider.\n    //\n    // Another option is to differentiate between short and long clicks, which\n    // we're not doing here.\n    if (!detect.touchScreen) {\n      this.toggleMute();\n    }\n  };\n\n  onFocusInButton = () => {\n    this._isFocused = true;\n    this.video.enterInputContext('volume-button-focus');\n    this.loadSliderCode();\n  };\n\n  onFocusOutButton = () => {\n    this._isFocused = false;\n    this.video.exitInputContext('volume-button-focus');\n  };\n\n  onMouseEnter = () => {\n    if (this.timeoutForCloseSlider) {\n      clearTimeout(this.timeoutForCloseSlider);\n    }\n    const { anyDialogOpen } = this.props;\n    if (anyDialogOpen) {\n      this.timeoutForOpenSlider = setTimeout(() => {\n        this.openSlider();\n      }, DELAY_IF_DIALOG_OPEN);\n      return;\n    }\n    this.openSlider();\n  };\n\n  onMouseLeave = () => {\n    clearTimeout(this.timeoutForOpenSlider);\n    if (this.timeoutForCloseSlider) {\n      clearTimeout(this.timeoutForCloseSlider);\n    }\n    this._isFocused = false;\n    if (this.video.controls.volumeSlider) {\n      if (this.props.controlBarBorderRadius) {\n        this.timeoutForCloseSlider = setTimeout(() => {\n          if (!this.video.controls.volumeSlider.isVisible()) {\n            this.video.controls.volumeSlider.hide();\n          }\n        }, DELAY_IF_DIALOG_OPEN);\n      } else {\n        this.video.controls.volumeSlider.hide();\n      }\n    }\n  };\n\n  openSlider = () => {\n    this._isFocused = true;\n    this.loadSliderCode().then(() => {\n      if (this._isFocused) {\n        this.video.controls.volumeSlider.mounted.then(() => {\n          this.video.controls.volumeSlider.show();\n        });\n      }\n    });\n  };\n\n  getButtonTitle() {\n    if (this.video.volume() === 0) {\n      return 'Unmute';\n    }\n    return 'Mute';\n  }\n\n  mute() {\n    this.video.mute();\n    setViewerPreference('muted', true);\n  }\n\n  unmute() {\n    this.video.unmute();\n    setViewerPreference('muted', undefined);\n  }\n\n  toggleMute() {\n    if (this.video.isMuted()) {\n      this.unmute();\n    } else {\n      this.mute();\n    }\n  }\n\n  onKeyUp = (e) => {\n    if (formInputIsFocused() || e.wistiaPlayerHandled) {\n      return;\n    }\n    const video = this.video;\n    const context = video.getInputContext();\n    if (\n      context === 'background-focus' ||\n      context === 'player-mouseover' ||\n      context === 'player-focus' ||\n      context === 'volume-button-focus' ||\n      context === 'volume-slider-focus'\n    ) {\n      if (e.keyCode === M_KEY) {\n        if (video.isMuted()) {\n          video.unmute();\n          setViewerPreference('muted', undefined);\n        } else {\n          video.mute();\n          setViewerPreference('muted', true);\n        }\n      }\n    }\n  };\n\n  onKeyDown = (e) => {\n    if (formInputIsFocused() || e.wistiaPlayerHandled) {\n      return;\n    }\n    const video = this.video;\n    const context = video.getInputContext();\n    if (\n      context === 'player-mouseover' ||\n      context === 'player-focus' ||\n      context === 'volume-button-focus' ||\n      context === 'volume-slider-focus'\n    ) {\n      const keyCode = e.keyCode;\n      let dir = 0;\n      if (keyCode === UP_KEY) {\n        dir = 1;\n      } else if (keyCode === DOWN_KEY) {\n        dir = -1;\n      }\n      if (dir === 1) {\n        e.preventDefault();\n        const increment = e.shiftKey ? 0.01 : 0.1;\n        video.volume(video.volume() + increment);\n        setViewerPreference('volume', video.volume());\n      } else if (dir === -1) {\n        e.preventDefault();\n        const decrement = e.shiftKey ? 0.01 : 0.1;\n        video.volume(video.volume() - decrement);\n        setViewerPreference('volume', video.volume());\n      }\n    }\n  };\n}\n\nVolumeButtonControl.shouldMount = (video) => {\n  const volumeOpt = video._attrs.volumeControl;\n  return (\n    (volumeOpt === true || volumeOpt == null) && !detect.iphone && !detect.ipad && !detect.android\n  );\n};\n\nVolumeButtonControl.handle = 'volumeButton';\nVolumeButtonControl.type = 'control-bar-right';\nVolumeButtonControl.sortValue = 100;\n\ndefineControl(VolumeButtonControl);\n\nexport default VolumeButtonControl;\n","import { h, render, Component } from 'preact';\nimport { standardSvgAttrs } from 'utilities/svg_boilerplate.js';\n\nconst OPACITY_TRANSITION = 'opacity 100ms';\n\nclass VolumeButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      volume: props.volume,\n    };\n  }\n\n  waveCount(v = this.props.volume) {\n    if (v > 0.66) {\n      return 2;\n    }\n    if (v > 0.33) {\n      return 1;\n    }\n    if (v > 0) {\n      return 0;\n    }\n    return -1; // muted\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const currentWaveCount = this.waveCount();\n    const nextWaveCount = this.waveCount(nextProps.volume);\n\n    if (currentWaveCount !== nextWaveCount) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const sharedAttrs = {\n      fill: 'none',\n      stroke: '#ffffff',\n      'stroke-line-cap': 'round',\n      'stroke-miterlimit': '10',\n    };\n    return (\n      <svg {...standardSvgAttrs({ width: 40, height: 34, ariaHidden: true })}>\n        <g style={this.speakerGroupStyle()}>\n          <g>\n            <path d=\"M13.8,14.2c-0.5,0.5-1.4,0.8-2,0.8h-1.6C9.5,15,9,15.5,9,16.2v1.6c0,0.7,0.5,1.2,1.2,1.2h1.6c0.7,0,1.6,0.4,2,0.8l2.3,2.3c0.5,0.5,0.8,0.3,0.8-0.4v-9.6c0-0.7-0.4-0.8-0.8-0.4L13.8,14.2z\" />\n          </g>\n          <g>\n            <path\n              {...sharedAttrs}\n              stroke-width=\"2\"\n              d=\"M22,11.7c0,0,1.1,2.5,1.1,5s-1.1,5-1.1,5\"\n              style={this.wave1Style()}\n            />\n            <path\n              {...sharedAttrs}\n              stroke-width=\"2\"\n              d=\"M25.8,9.2c0,0,1.7,3.8,1.7,7.5c0,3.7-1.7,7.5-1.7,7.5\"\n              style={this.wave2Style()}\n            />\n          </g>\n          <g style={this.waveXStyle()}>\n            <line {...sharedAttrs} stroke-width=\"1.8102\" x1=\"19.2\" y1=\"15\" x2=\"23.2\" y2=\"19\" />\n            <line {...sharedAttrs} stroke-width=\"1.8102\" x1=\"19.2\" y1=\"19\" x2=\"23.2\" y2=\"15\" />\n          </g>\n        </g>\n      </svg>\n    );\n  }\n\n  speakerGroupStyle() {\n    return {\n      transform: `translateX(${this.positioningOffset()}px)`,\n      transition: 'transform 100ms',\n    };\n  }\n\n  positioningOffset() {\n    const waveCount = this.waveCount();\n    if (waveCount == 0) {\n      return 7;\n    }\n    if (waveCount < 2) {\n      return 3;\n    }\n\n    return 1.25;\n  }\n\n  waveXStyle() {\n    return {\n      opacity: this.waveCount() < 0 ? 1 : 0,\n      transition: OPACITY_TRANSITION,\n    };\n  }\n\n  wave1Style() {\n    return {\n      opacity: this.waveCount() >= 1 ? 1 : 0,\n      transition: OPACITY_TRANSITION,\n    };\n  }\n\n  wave2Style() {\n    return {\n      opacity: this.waveCount() >= 2 ? 1 : 0,\n      transition: OPACITY_TRANSITION,\n    };\n  }\n}\n\nexport default VolumeButton;\n","import W from 'wistia_namespace.js';\nimport { h, render } from 'preact';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport Control from '../../../shared/controls/Control.js';\nimport LiveStreamStatus from './LiveStreamStatus.jsx';\nimport { defineControl } from '../../../../../../shared/control_definitions.js';\n\nclass LiveStreamStatusControl extends Control {\n  constructor(video) {\n    super(video);\n    this.video = video;\n\n    // setup binding to play/pause events\n    // then re-render status control and pause that into the component\n    this.undbinds = [];\n    this.undbinds.push(\n      this.video.on('play', () => {\n        this.renderLiveStreamStatus();\n      }),\n      this.video.on('pause', () => {\n        this.renderLiveStreamStatus();\n      }),\n      this.video.on('end', () => {\n        this.renderLiveStreamStatus();\n      }),\n      this.video.on('widthchange', () => {\n        this.renderLiveStreamStatus();\n      }),\n      this.video.on('playerlanguagechange', () => {\n        this.renderLiveStreamStatus();\n      }),\n    );\n\n    this.video.ready(() => {\n      this.renderLiveStreamStatus();\n    });\n  }\n\n  onControlPropsUpdated(prevProps) {\n    if (prevProps.controlsAreVisible !== this.props.controlsAreVisible) {\n      this.renderLiveStreamStatus();\n    }\n  }\n\n  mount(rootElem) {\n    this.rootElem = rootElem;\n\n    return dynamicImport('assets/external/interFontFace.js').then(() => {\n      this.renderLiveStreamStatus();\n      this.reactMounts = [this.rootElem];\n    });\n  }\n\n  renderLiveStreamStatus() {\n    let scheduledFor = null;\n\n    if (this.video._mediaData.liveStreamEventDetails?.scheduledFor) {\n      scheduledFor = new Date(this.video._mediaData.liveStreamEventDetails.scheduledFor);\n    }\n\n    render(\n      <LiveStreamStatus\n        videoState={this.video.state()}\n        videoReady={this.video.ready()}\n        scheduledFor={scheduledFor}\n        setAriaLiveText={this.setAriaLiveText}\n        {...this.props}\n      />,\n      this.rootElem,\n    );\n  }\n\n  setAriaLiveText = (text) => {\n    this.video.setAriaLiveText(text);\n  };\n}\n\nLiveStreamStatusControl.handle = 'liveStreamStatusOverlay';\nLiveStreamStatusControl.type = 'foreground';\nLiveStreamStatusControl.sortValue = 500;\nLiveStreamStatusControl.shouldMount = (video) => {\n  return video.isLiveMedia();\n};\n\ndefineControl(LiveStreamStatusControl);\n\nexport default LiveStreamStatusControl;\n","import { h } from 'preact';\nimport { useEffect, useReducer, useState } from 'preact/hooks';\nimport { interFontFamily } from 'utilities/interFontFamily.js';\nimport { flexibleDuration, getSecondsRemaining } from 'utilities/duration.js';\nimport { useInterval } from 'utilities/useInterval.js';\nimport { getTranslation, defineTranslations } from '../../../../../../shared/translations.js';\n\ndefineTranslations('en-US', {\n  LIVE_STREAM_STATUS_COUNTDOWN: 'Stream begins in',\n  LIVE_STREAM_STATUS_LIVE: 'Live',\n  LIVE_STREAM_STATUS_LIVE_ARIA: 'The stream is now live',\n  LIVE_STREAM_STATUS_MINUTES: 'minutes',\n  LIVE_STREAM_STATUS_SCHEDULED_FOR: 'Scheduled for',\n  LIVE_STREAM_STATUS_SCHEDULED_FOR_ARIA: 'The stream is scheduled for',\n  LIVE_STREAM_STATUS_SCHEDULED_FOR_TIME_SEPARATOR: 'at',\n  LIVE_STREAM_STATUS_SECONDS: 'seconds',\n  LIVE_STREAM_STATUS_STREAM_ENDED: 'The stream has ended',\n  LIVE_STREAM_STATUS_WAITING_FOR_HOST: 'Waiting for host to begin',\n  LIVE_STREAM_STATUS_WAITING_FOR_HOST_ARIA: 'Waiting for host to begin live stream',\n});\n\nfunction formatScheduledFor(date, languageCode) {\n  // return date in format MMM D, YYYY at HH:mmZ\n  const dayOptions = {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  };\n\n  const timeOptions = { hour: 'numeric', minute: 'numeric', timeZoneName: 'short' };\n\n  const day = date.toLocaleString(navigator.language, dayOptions);\n  const time = date.toLocaleString(navigator.language, timeOptions);\n\n  return `${day} ${getTranslation(\n    languageCode,\n    'LIVE_STREAM_STATUS_SCHEDULED_FOR_TIME_SEPARATOR',\n  )} ${time}`;\n}\n\nfunction InidicatorIcon({ state }) {\n  return (\n    <div\n      style={{\n        backgroundColor: state === 'live' ? '#fa4040' : '',\n        borderRadius: '50%',\n        width: '12px',\n        height: '12px',\n        marginRight: '4px',\n      }}\n    ></div>\n  );\n}\n\nconst liveStreamStatusMachine = {\n  initial: 'idle',\n  states: {\n    idle: {\n      on: {\n        READY: 'live',\n        NOT_READY: 'beforeStream',\n        START_COUNTDOWN: 'countdown',\n        PAST_SCHEDULE: 'waitingForHost',\n      },\n    },\n    beforeStream: {\n      on: {\n        PAST_SCHEDULE: 'waitingForHost',\n        READY: 'live',\n        START_COUNTDOWN: 'countdown',\n      },\n    },\n    countdown: {\n      on: {\n        PAST_SCHEDULE: 'waitingForHost',\n        READY: 'live',\n      },\n    },\n    waitingForHost: {\n      on: {\n        READY: 'live',\n        END: 'ended',\n      },\n    },\n    live: {\n      on: { END: 'ended' },\n    },\n    ended: {},\n  },\n};\n\nfunction isBeforeSchedule(scheduledFor) {\n  if (!scheduledFor) return false;\n  return Date.now() < scheduledFor.getTime();\n}\n\nfunction isCloseToStarting(scheduledFor) {\n  if (!scheduledFor) return false;\n  // we're close to starting if we're within an hr timeframe\n  const oneHour = 60 * 60;\n  const diff = getSecondsRemaining(new Date(), scheduledFor);\n  return diff < oneHour;\n}\n\nfunction MountingPoint({ children, scale, show }) {\n  return (\n    <div\n      className=\"w-css-reset\"\n      style={{\n        left: 0,\n        position: 'absolute',\n        top: 0,\n        display: 'flex',\n        opacity: show ? 1 : 0,\n        transition: 'opacity 200ms',\n        margin: `${scaleValue({ base: 12, scale })}px 0 0 ${scaleValue({ base: 12, scale })}px`,\n        // pointerEvents: 'none',\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nfunction reducer(state, event) {\n  // find the next state, if invalid event is sent then we\n  // stay in our current state\n  const nextState = liveStreamStatusMachine.states[state].on?.[event.type];\n\n  if (nextState === undefined) {\n    return state;\n  }\n\n  return nextState;\n}\n\nfunction scaleValue({ scale, base }) {\n  const max = base * 2;\n  return Math.min(max, Math.max(0, scale * base));\n}\n\nfunction shouldStopWaiting(scheduledFor) {\n  if (!scheduledFor) return false;\n  // after 10min we stop waiting for host to join\n  const tenMin = 60 * 10;\n  const diff = getSecondsRemaining(scheduledFor, new Date());\n  return diff > tenMin;\n}\n\nfunction StatusBox({ children, scale }) {\n  return (\n    <div\n      className=\"w-live-status\"\n      style={{\n        backgroundColor: 'rgba(11, 13, 14, 0.7)',\n        padding: `${scaleValue({ base: 8, scale })}px ${scaleValue({ base: 12, scale })}px`,\n        display: 'flex',\n        color: '#fff',\n        alignItems: 'center',\n        borderRadius: '4px',\n        fontFamily: interFontFamily,\n        fontSize: `${scaleValue({ base: 14, scale })}px`,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nfunction LiveStreamStatus({\n  controlsAreVisible,\n  playerLanguage,\n  scale,\n  scheduledFor,\n  videoReady,\n  videoState,\n}) {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const show = videoState === 'playing' ? controlsAreVisible : true;\n  const [state, dispatch] = useReducer(reducer, liveStreamStatusMachine.initial);\n\n  useEffect(() => {\n    if (videoState === 'ended') {\n      dispatch({ type: 'END' });\n    } else if (videoReady) {\n      dispatch({ type: 'READY' });\n    } else if (isBeforeSchedule(scheduledFor)) {\n      dispatch(\n        isCloseToStarting(scheduledFor) ? { type: 'START_COUNTDOWN' } : { type: 'NOT_READY' },\n      );\n    } else {\n      dispatch(shouldStopWaiting(scheduledFor) ? { type: 'END' } : { type: 'PAST_SCHEDULE' });\n    }\n  }, [currentTime, videoReady, videoState]);\n\n  useEffect(() => {\n    this.props.setAriaLiveText(getStatusIndicatorAriaText());\n  }, [state]);\n\n  useEffect(() => {\n    if (state === 'countdown') {\n      const remainingSeconds = getSecondsRemaining(new Date(), scheduledFor);\n      const ceiledSeconds = Math.ceil(remainingSeconds);\n      const remainingMinutes = Math.ceil(remainingSeconds / 60);\n      const lessThanAMinute = remainingSeconds / 60;\n\n      let translationText = '';\n\n      // we don't want to spam the aria-live area, so we will only update it every 5 minutes\n      // during the countdown, or every 5 seconds in the last minute\n      if (remainingMinutes % 5 === 0) {\n        translationText = `${translation('COUNTDOWN')} ${remainingMinutes} ${translation(\n          'MINUTES',\n        )}`;\n      } else if (lessThanAMinute && ceiledSeconds % 5 === 0) {\n        translationText = `${translation('COUNTDOWN')} ${ceiledSeconds} ${translation('SECONDS')}`;\n      }\n\n      this.props.setAriaLiveText(translationText);\n    }\n  }, [currentTime]);\n\n  useInterval(\n    () => setCurrentTime(new Date()),\n    state === 'live' || state === 'ended' ? null : 1000,\n  );\n\n  const getStatusIndicatorAriaText = () => {\n    // we don't want to account for 'countdown' because that case is handled\n    // independently to avoid spamming the aria-live component\n    switch (state) {\n      case 'live':\n        return translation('LIVE_ARIA');\n      case 'ended':\n        return translation('STREAM_ENDED');\n      case 'waitingForHost':\n        return translation('WAITING_FOR_HOST_ARIA');\n      case 'beforeStream':\n        return `${translation('SCHEDULED_FOR_ARIA')} ${formatScheduledFor(\n          scheduledFor,\n          playerLanguage.code,\n        )}`;\n      default:\n    }\n  };\n\n  const getStatusIndicatorText = () => {\n    switch (state) {\n      case 'live':\n        return translation('LIVE');\n      case 'ended':\n        return translation('STREAM_ENDED');\n      case 'waitingForHost':\n        return translation('WAITING_FOR_HOST');\n      case 'beforeStream':\n        return `${translation('SCHEDULED_FOR')} ${formatScheduledFor(\n          scheduledFor,\n          playerLanguage.code,\n        )}`;\n      case 'countdown':\n        return `${translation('COUNTDOWN')} ${flexibleDuration(\n          getSecondsRemaining(new Date(), scheduledFor),\n        )}`;\n      default:\n    }\n  };\n\n  const translation = (key) => {\n    return getTranslation(playerLanguage.code, `LIVE_STREAM_STATUS_${key}`);\n  };\n\n  return (\n    <MountingPoint scale={scale} show={show}>\n      <StatusBox scale={scale}>\n        {state === 'live' && <InidicatorIcon state={'live'} />}\n        {getStatusIndicatorText()}\n      </StatusBox>\n    </MountingPoint>\n  );\n}\n\nexport default LiveStreamStatus;\n","import { useEffect, useRef } from 'preact/hooks';\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef(callback);\n\n  // Remember the latest callback if it changes.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    // Don't schedule if no delay is specified.\n    if (delay === null) {\n      return;\n    }\n\n    const id = setInterval(() => savedCallback.current(), delay);\n\n    return () => clearInterval(id);\n  }, [delay]);\n}\n","import W from 'wistia_namespace.js';\nimport { PlayerBehavior } from './PlayerBehavior.js';\n\n// NOTE ON WHERE THIS IS RELEVANT:\n//\n// This is used for the ManualQualityVideo engine in order to determine\n// if we should switch to the HD asset on fullscreen.\n//\nclass BandwidthTestBehavior extends PlayerBehavior {\n  init() {\n    const impl = this.impl;\n\n    // If we haven't determined whether HD is supported, run the test on play.\n    impl.embedded(() => {\n      if (impl.bestEngine() === 'engines/manual_quality_video.js') {\n        if (this.bandwidthTest().isFresh()) {\n          this._supportsHd = this.bandwidthTest().savedResult().supportsHd;\n          this.impl.whenVideoElementInDom().then(() => {\n            this.impl.engine.setAttributes({ supportsHd: this._supportsHd });\n          });\n        } else if (this.hdAsset()) {\n          this.unbinds.push(\n            impl.on('play', () => {\n              this.doBandwidthTest();\n              return impl.unbind;\n            }),\n          );\n        }\n      }\n    });\n  }\n\n  bandwidthTest() {\n    if (this._bandwidthTest) {\n      return this._bandwidthTest;\n    }\n    this._bandwidthTest = new W.BandwidthTest({\n      timeoutLength: 4000,\n      uuid: this.impl.uuid,\n      saveKey: 'vulcan.bandwidth',\n    });\n    return this._bandwidthTest;\n  }\n\n  doBandwidthTest() {\n    const impl = this.impl;\n    impl.info('doBandwidthTest');\n\n    // If there's an interruption in play, give up early.\n    if (!this._endBandwidthTestEarly) {\n      this._endBandwidthTestEarly = () => {\n        impl.info('_endBandwidthTestEarly');\n        this.bandwidthTest().endEarly();\n        W.Metrics.videoCount(impl, 'player/bandwidth_test/ended_early');\n      };\n    }\n    const bandwidthAffectingEvents = ['seek', 'pause', 'end', 'switched-to-asset-without-load'];\n    bandwidthAffectingEvents.forEach((event) => {\n      this.unbinds.push(impl.on(event, this._endBandwidthTestEarly));\n    });\n\n    // If the video stalls while downloading, bail.\n    if (!this._failBandwidthTestOnWaiting) {\n      this._failBandwidthTestOnWaiting = () => {\n        impl.info('_failBandwidthTestOnWaiting');\n        this.bandwidthTest().fail();\n        W.Metrics.videoCount(impl, 'player/bandwidth_test/failed');\n        return impl.unbind;\n      };\n    }\n    this.unbinds.push(impl.on('waiting', this._failBandwidthTestOnWaiting));\n\n    // Use test results and clean up bindings when the test is finished.\n    this._endBandwidthTestOnTime = () => {\n      impl.info('_endBandwidthTestOnTime');\n      this._supportsHd = this.bandwidthTest().supportsHd();\n      impl.engine.setAttributes({ supportsHd: true });\n      if (this._failBandwidthTestOnWaiting) {\n        impl.unbind('waiting', this._failBandwidthTestOnWaiting);\n      }\n      if (this._endBandwidthTestEarly) {\n        bandwidthAffectingEvents.forEach((event) => {\n          impl.unbind(event, this._endBandwidthTestEarly);\n        });\n      }\n      W.Metrics.videoCount(impl, 'player/bandwidth_test/ended_on_time');\n    };\n    this.bandwidthTest().bind('ended', this._endBandwidthTestOnTime);\n    this.bandwidthTest().start();\n  }\n\n  supportsHd() {\n    if (this.hdAsset()) {\n      if (this._supportsHd != null) {\n        return this._supportsHd;\n      }\n      return true;\n    }\n    return false;\n  }\n\n  hdAsset() {\n    if (this._hdAsset) {\n      return this._hdAsset;\n    }\n    const impl = this.impl;\n    this._hdAsset = impl.playableAssetInRange({\n      width: [980, impl._opts.maxHdWidth || 2000],\n      sortBy: 'width desc, bitrate desc',\n    });\n    return this._hdAsset;\n  }\n}\n\nBandwidthTestBehavior.handle = 'bandwidthTest';\n\nexport default BandwidthTestBehavior;\n","export class PlayerBehavior {\n  constructor(impl) {\n    this.impl = impl;\n    this.embedElement = impl.container;\n    this.unbinds = [];\n    this.eventListeners = new Map();\n    this.namedUnbinds = {};\n  }\n\n  addNamedUnbind(name, unbind) {\n    // guard against double-binding\n    if (this.namedUnbinds[name]) {\n      this.namedUnbinds[name]();\n    }\n    this.namedUnbinds[name] = unbind;\n  }\n\n  removeNamedUnbind(name) {\n    if (this.namedUnbinds[name]) {\n      this.namedUnbinds[name]();\n      delete this.namedUnbinds[name];\n    }\n  }\n\n  destroy() {\n    if (this.unbinds instanceof Array) {\n      this.unbinds.map((unbind) => unbind());\n    }\n    if (this.eventListeners instanceof Map) {\n      this.eventListeners.forEach((eventListenerFn, eventName) => {\n        this.embedElement.removeEventListener(eventName, eventListenerFn);\n      });\n      this.eventListeners.clear();\n    }\n    for (let name in this.namedUnbinds) {\n      if (Object.hasOwn(this.namedUnbinds, name)) {\n        this.namedUnbinds[name].map((unbind) => unbind());\n      }\n    }\n    this.unbinds = [];\n    this.namedUnbinds = {};\n    this.impl = null;\n    this._destroyed = true;\n  }\n}\n","import W from 'wistia_namespace.js';\nimport { wData } from 'utilities/wistiaData.js';\nimport { mediaDataTransforms } from 'utilities/media-data-transforms.js';\nimport { elemAppend, elemFromObject, elemPrepend, pageLoaded, elemRemove } from 'utilities/elem.js';\nimport { getLastTime, atOrNearBeginning, atOrNearEnd } from 'utilities/resumableVideoData.js';\nimport { isMouseDownRecently } from 'utilities/isMouseDown.js';\nimport { parentFramesLength } from 'utilities/core.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\nimport { clone } from 'utilities/obj.js';\nimport { READY, numericSizeSnapped } from 'utilities/assets.js';\nimport { dynamicImport } from 'utilities/dynamicImport.ts';\nimport { PlayerBehavior } from './PlayerBehavior.js';\n\nclass EmbedBehavior extends PlayerBehavior {\n  init() {\n    this.unbinds.push(\n      this.impl.on('playerbackgroundcolorchange', this.updateBackgroundColor),\n      this.impl.publicApi.on('transitiondone', this.updateBackgroundColor),\n      this.impl.on('playpending', this.updateStartPosition),\n    );\n  }\n\n  embed(oldImpl) {\n    const impl = this.impl;\n    const oldImplFromOpts = impl && impl._opts.oldImpl;\n    impl.oldImpl = oldImplFromOpts || oldImpl;\n\n    if (oldImplFromOpts && oldImplFromOpts !== oldImpl) {\n      // If we've passed an impl from outside this chrome, we're going to be\n      // taking over its content as part of this procedure, which would screw\n      // it up if we want that video to live on. But after we've initialized\n      // with its <video> element, we can give it a whole new engine and let it\n      // start fresh by calling rebuild(). We then call fullRebuild() since it\n      // won't destroy the <video> that's passed over, and it will make it so\n      // the originating video is a \"fresh\" and playable.\n      this.impl.on('engine-initialized', () => {\n        oldImplFromOpts.rebuild();\n        oldImplFromOpts.fullRebuild();\n      });\n      impl.oldImpl = oldImplFromOpts;\n    } else {\n      impl.oldImpl = oldImpl;\n    }\n\n    impl.resetStateVariables();\n\n    impl.videoWrapper = elemFromObject({\n      class: 'w-video-wrapper w-css-reset',\n      style: {\n        clip: 'rect(0,0,0,0)',\n        height: '100%',\n        position: 'absolute',\n        top: 0,\n        width: '100%',\n      },\n    });\n    this.updateBackgroundColor();\n    elemPrepend(impl.implContainer(), impl.videoWrapper);\n\n    if (!impl.uiContainer) {\n      impl.uiContainer = elemFromObject({\n        class: 'w-ui-container',\n        style: {\n          height: '100%',\n          pointerEvents: impl._inNativeMode() ? 'none' : '',\n          left: 0,\n          position: 'absolute',\n          top: 0,\n          width: '100%',\n        },\n      });\n      elemAppend(impl.implContainer(), impl.uiContainer);\n    }\n\n    impl.uiContainer.addEventListener('focusin', this.onFocusIn);\n\n    impl.up(() => {\n      this._preloadPreference = this.preloadValue();\n\n      // If we're replacing, we need to do some stuff with the engine inline\n      // to make autoPlay-on-replacement work. Hope we prefetched it already!\n      if (impl._replacing) {\n        this.initializeEngine();\n        impl.info('embedded');\n        impl.embedded(true);\n      }\n\n      // UI setup is synchronous right now, but that's not guaranteed forever,\n      // so let's design with that in mind.\n      impl.renderUI().then(() => {\n        try {\n          impl.setupBindings();\n        } catch (e) {\n          setTimeout(() => {\n            throw e;\n          }, 0);\n        }\n\n        doTimeout(\n          `${impl.uuid}.finish_embedding`,\n          () => {\n            impl.info('embedded');\n            impl.embedded(true);\n\n            pageLoaded(() => {\n              this.initializeEngine();\n            });\n          },\n          0,\n        );\n      });\n    });\n\n    if (impl.down()) {\n      impl.embedded(true);\n    }\n  }\n\n  onFocusIn = () => {\n    const shouldShowFocusOutline = !isMouseDownRecently();\n\n    if (this.impl) {\n      this.impl.isKeyboardFocused(shouldShowFocusOutline);\n    }\n  };\n\n  preloadValue() {\n    const impl = this.impl;\n    let statedPref;\n    if (impl._attrs.autoplay && !impl.publicApi.popover && impl.looksUp()) {\n      statedPref = 'auto';\n    } else if (impl._attrs.preload != null) {\n      statedPref = impl._attrs.preload;\n    } else {\n      statedPref = impl._mediaData.preloadPreference;\n    }\n\n    let result;\n    if (impl._mediaData.spherical) {\n      // Hi, it's Brendan. I have been encountering a race condition that's\n      // next to impossible to track down. On occasion, if you have several\n      // 360 videos on a page (and maybe if you have just one), you can get\n      // into a state where Chrome thinks that crossorigin='anonymous' is NOT\n      // set for your video and throws tons of security errors when you try\n      // to use the video as a texture. Schnur suggested that there may be a\n      // Chrome bug related to the preload metadata where it starts getting\n      // data for the video before internally registering its allowed to be\n      // used cross-origin. Eek. In any case, impl seems to fix it.\n      // XXX: When we're fully HLS, let's remove impl because it won't matter\n      // as all 360 video will use HLS and not mp4 <video> elts.\n      if (impl._opts._inIframe) {\n        result = 'none';\n      } else {\n        const handles = [];\n        const apiEmbeds = wData('video');\n        for (let k in apiEmbeds) {\n          handles.push(apiEmbeds[k]);\n        }\n        if (handles.length > 1) {\n          // We're not the first video on the page: don't preload\n          result = 'none';\n        } else {\n          // We're likely the first video: let's preload!\n          result = 'auto';\n        }\n      }\n    } else if (statedPref === 'metadata') {\n      result = 'metadata';\n    } else if (statedPref === true || statedPref === 'auto') {\n      result = 'auto';\n    } else if (statedPref === false || statedPref === 'none') {\n      result = 'none';\n    } else {\n      // figure out if there are other videos on the page already.\n      // iframes keep track of other iframes via wistiaEmbed._otherIframes.\n      const handles = [];\n      const apiEmbeds = wData('video');\n      for (let k in apiEmbeds) {\n        handles.push(apiEmbeds[k]);\n      }\n\n      if (impl._opts._inIframe && top !== parent) {\n        // we have an iframe-within-an-iframe situation. too complicated.\n        // don't preload.\n        result = 'none';\n      } else if (impl._opts._inIframe && parentFramesLength() > 25) {\n        // There are a ton of iframes on the parent page, so our iframe script\n        // won't have bothered to find other wistia iframes.\n        result = 'none';\n      } else if (impl._opts._inIframe && (!window._allIframes || window._allIframes.length > 2)) {\n        // if an iframe is not one of the first 2 on the page, don't preload.\n        result = 'none';\n      } else if (!impl._opts._inIframe && handles.length > 2) {\n        // if an api embed and is not one of the first 2 on the page, don't\n        // preload.\n        result = 'none';\n      } else if (\n        impl._mediaData.stats &&\n        impl._mediaData.stats.loadCount > 5000 &&\n        impl._mediaData.stats.uniquePlayCount / impl._mediaData.stats.uniqueLoadCount < 0.1\n      ) {\n        // impl video has a low play rate (tons of loads, few plays) so default\n        // preload to 'none'. The reason for impl is we don't want to charge\n        // a customer for tons of bandwidth in the case they embed a video on\n        // their homepage that barely gets played.\n        result = 'none';\n      } else {\n        // impl is the default case: suck down that data!\n        result = 'metadata';\n      }\n    }\n\n    return result;\n  }\n\n  rebuild() {\n    const impl = this.impl;\n    impl.info('rebuild');\n    impl.trigger('beforerebuild');\n    impl.embedded(() => {\n      impl.embedded(false);\n      impl.ready(false);\n\n      // We can't simply remove @wrapperElem here because impl.ui has\n      // bindings set up internally that need to be unbound to avoid leaks.\n      impl.removeBehaviors();\n      impl.enginePromise = null;\n      impl.engine = null;\n      impl._oldVideoElem = impl.elem();\n      impl._whenVideoElementInDom = null;\n      impl.stopStreaming();\n      elemRemove(impl.videoWrapper);\n      impl.videoWrapper = null;\n      impl.ui = null;\n      impl._lastPlayType = null;\n      impl._lastPlaySource = null;\n      impl._lastPlayIssuedAt = null;\n      impl._lastPlayResolvedAt = null;\n      impl._lastPlayRejectedAt = null;\n      impl.wipeOutstandingAsyncFunctions();\n      impl.setupBehaviors();\n      impl.embed();\n      impl.trigger('afterrebuild');\n    });\n    return impl;\n  }\n\n  checkForReady() {\n    const impl = this.impl;\n    impl._checkDownState();\n    impl.up(() => {\n      impl.embedded(() => {\n        impl.onDimensionChangeSafe();\n        if (!impl.engine) {\n          return;\n        }\n        impl.engine.onReady().then(() => {\n          impl.onDimensionChangeSafe();\n          impl.ready(true);\n        });\n      });\n    });\n  }\n\n  initializeEngine() {\n    const impl = this.impl;\n    if (!impl) {\n      return;\n    }\n    if (impl.enginePromise) {\n      return impl.enginePromise;\n    }\n    const modulePath = impl.bestEngine();\n    return (impl.enginePromise = dynamicImport(`assets/external/${modulePath}`).then((mod) => {\n      const EngineClass = mod.default;\n      if (!impl.grid) {\n        // the video may have been removed while we were initializing.\n        return;\n      }\n      try {\n        impl._mediaData = mediaDataTransforms(impl._mediaData, impl._opts);\n        impl.engine = new EngineClass(\n          impl.videoWrapper,\n          impl._mediaData,\n          this.engineAttributes(),\n          impl.oldImpl && impl.oldImpl.engine,\n        );\n        impl.oldImpl = null;\n        impl.trigger('engine-initialized');\n        impl.setupBindings();\n        this.checkForReady();\n      } catch (e) {\n        impl.error(e);\n      }\n    }));\n  }\n\n  engineAttributes() {\n    const impl = this.impl;\n\n    let videoQuality;\n    if (impl._opts.videoQuality) {\n      videoQuality = impl._opts.videoQuality;\n    } else if (impl._opts.videoFoam || impl.videoWidth() >= 720) {\n      videoQuality = 'md';\n    }\n\n    let savedBandwidth;\n    if (impl._bandwidthTest().isFresh()) {\n      savedBandwidth = impl._bandwidthTest().savedResult().clientKbps;\n    }\n\n    let secondaryMediaData;\n    if (impl._mediaData.secondaryMediaData) {\n      secondaryMediaData = clone(impl._mediaData.secondaryMediaData);\n    } else if (impl._opts.secondaryVideoUrl) {\n      const mediaData = clone(impl._mediaData);\n      const original = impl.originalAsset();\n      mediaData.assets = [\n        {\n          container: 'mp4',\n          ext: 'mp4',\n          codec: 'x264',\n          public: true,\n          url: impl._opts.secondaryVideoUrl,\n          height: original.height,\n          width: original.width,\n          type: 'mp4_video',\n          display_name: `${numericSizeSnapped(original.width, original.height)}p`,\n          status: READY,\n          created_at: new Date().getTime(),\n        },\n      ];\n      secondaryMediaData = mediaData;\n    }\n\n    let layoutTiming = impl._opts.layoutTiming;\n    if (impl._opts.twoStroke && impl._opts.twoStroke.layoutTiming) {\n      layoutTiming = impl._opts.twoStroke.layoutTiming;\n    }\n\n    // It's important to pass the startPosition here before we set up the engine if we\n    // think we might be Resuming. This is because our Preloading logic will need to know\n    // the startPosition in order to preload the right frags.\n    //\n    // If a scenario arises where we want to bail on Resuming before play, that is handled\n    // in the playpending callback.\n    let startPosition;\n\n    if (impl._startPosition || impl.shouldResume()) {\n      startPosition = impl._startPosition || getLastTime(impl.hashedId());\n    }\n\n    // do some metrics counting if the video would have resumed, but is outside the\n    // time boundaries\n    if (impl.isResumableEnabled()) {\n      if (atOrNearBeginning(impl.hashedId())) {\n        W.Metrics.videoCount(impl, 'player/resumable-close-to-beginning');\n      } else if (atOrNearEnd(impl.hashedId(), impl.duration())) {\n        W.Metrics.videoCount(impl, 'player/resumable-close-to-end');\n      }\n    }\n\n    const isTrimDisabled = impl._opts.trimStart === 0 && impl._opts.trimEnd === -1;\n\n    const isBackgroundTransparent = impl._attrs.transparentLetterbox === true;\n\n    return {\n      backgroundColor: isBackgroundTransparent ? 'transparent' : impl.playerBackgroundColor(),\n      clipForPoster: impl._opts.clipForPoster,\n      clipFrom: impl._opts.clipFrom,\n      clipTo: impl._opts.clipTo,\n      controls: impl._inNativeMode(),\n      cuts: impl._opts.cuts,\n      deliveryCdn: impl._opts.deliveryCdn,\n      duration: impl._mediaData.duration,\n      embedHost: impl._opts.embedHost,\n      fitStrategy: impl._opts.fitStrategy,\n      hashedId: impl.hashedId(),\n      height: impl.videoHeight(),\n      hls: impl._opts.hls,\n      layoutTiming,\n      liveMedia: impl.isLiveMedia(),\n      loop: impl._attrs.endVideoBehavior === 'loop',\n      muted: impl._muted,\n      password: impl._opts.password, // used by HLS for password protected m3u8 manifests\n      playsinline: true,\n      preload: this._preloadPreference,\n      qualityMax: impl._attrs.qualityMax,\n      qualityMin: impl._attrs.qualityMin,\n      savedBandwidth,\n      secondaryMediaData,\n      silentAutoplay: impl._attrs.silentAutoplay,\n      startPosition,\n      trimEnd: isTrimDisabled ? undefined : impl._opts.trimEnd,\n      trimStart: isTrimDisabled ? undefined : impl._opts.trimStart,\n      videoQuality,\n      volume: impl._attrs.volume,\n      width: impl.videoWidth(),\n    };\n  }\n\n  updateBackgroundColor = () => {\n    const impl = this.impl;\n    if (!impl.videoWrapper || impl._replacing || !impl.embedded()) {\n      return;\n    }\n\n    // impl.ui might not be defined at this point if the video is hidden, since\n    // we will have delayed initializing the UI until it comes to an \"up\" state.\n    const isGifLike =\n      impl.ui &&\n      impl.ui.isChromeless() &&\n      (impl.lastPlayInfo().source === 'non-user-event' || impl._attrs.autoplay) &&\n      impl.isMuted();\n\n    const isBackgroundTransparent = impl._attrs.transparentLetterbox === true;\n\n    if ((isBackgroundTransparent || isGifLike) && !impl.inFullscreen()) {\n      impl.videoWrapper.style.backgroundColor = 'transparent';\n    } else {\n      const bgColor = impl._attrs.playerBackgroundColor || impl._opts.backgroundColor || '#000';\n      impl.videoWrapper.style.backgroundColor = bgColor || '#000';\n    }\n  };\n\n  // If someone were to try and `play` via the api we should not Resume.\n  // Thus, we need to set the engine's startPosition\n  // back to the default of -1.\n  updateStartPosition = () => {\n    const impl = this.impl;\n    const stateIsBeforePlay = impl.state() === 'beforeplay';\n    const sourceIsUserEvent = impl.lastPlayInfo()?.source === 'user-event';\n    const shouldResume = impl.shouldResume() && sourceIsUserEvent;\n\n    // we should not be updating the start position once playback has begun\n    if (!stateIsBeforePlay) {\n      return;\n    }\n\n    // If we have an engine and know it is an HLS engine, we can update the start position of the hls stream itself,\n    // but for non-HLS engines, we will have to manipulate the time and seek.\n    if (impl.engine && (impl.engine.name === 'HlsVideo' || impl.engine.name === 'NativeHlsVideo')) {\n      if (shouldResume) {\n        const resumableTime = getLastTime(impl.hashedId());\n        impl.engine.updateStartPosition(resumableTime);\n      } else {\n        impl.engine.updateStartPosition(-1);\n      }\n    } else if (shouldResume) {\n      const resumableTime = getLastTime(impl.hashedId());\n      impl.time(resumableTime, { lazy: true });\n    }\n  };\n}\n\nEmbedBehavior.handle = 'embed';\n\nexport default EmbedBehavior;\n","import W from 'wistia_namespace.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { globalOn, globalTrigger } from 'utilities/globalBindAndTrigger.js';\nimport { doTimeout } from 'utilities/timeout-utils.js';\nimport { countMetric } from 'utilities/simpleMetrics.js';\nimport {\n  elemBind,\n  elemCancelFullscreen,\n  elemHeight,\n  elemRebind,\n  elemRequestFullscreen,\n  elemStyle,\n  elemUnbind,\n  elemWidth,\n  fullscreenElement,\n  inUserEventContext,\n} from 'utilities/elem.js';\nimport { scrollLeft } from '../../../../../utilities/scroll.js';\nimport { PlayerBehavior } from './PlayerBehavior.js';\n\nconst detect = cachedDetect();\n\nclass FullscreenBehavior extends PlayerBehavior {\n  init() {\n    const impl = this.impl;\n\n    this.unbinds.push(\n      globalOn('enterfullscreen', this.onEnterFullscreen),\n      globalOn('cancelfullscreen', this.onCancelFullscreen),\n      elemBind(window, 'resize', () => {\n        this.fullscreenResizeToWindowFlurry();\n      }),\n      impl.on('playpending', this.maybeAutoFullscreen),\n    );\n\n    // there's no engine available until whenVideoElementInDom resolves.\n    impl.whenVideoElementInDom().then(() => {\n      impl.engine.bind('webkitbeginfullscreen', this.onEnterWebkitFullscreen);\n      impl.engine.bind('webkitendfullscreen', this.onCancelFullscreen);\n    });\n\n    // If the video is playing and the user turns their phone to landscape,\n    // let's fullscreen the video. When they turn back to portrait,\n    // unfullscreen it. If the option for it isn't present, default to true\n    if (this.getIsFullscreenOnRotateToLandscape()) {\n      if (window.screen.orientation) {\n        // For Chrome on Android\n        this.unbinds.push(elemBind(window.screen.orientation, 'change', this.onOrientationChange));\n      } else {\n        // For Safari on iOS\n        this.unbinds.push(elemBind(window, 'orientationchange', this.onOrientationChange));\n      }\n    }\n  }\n\n  onEnterFullscreen = (elem) => {\n    const impl = this.impl;\n    if (elem === impl.chrome || elem.tagName === 'WISTIA-PLAYER') {\n      // When using fullscreen API\n      impl.info('_onEnterFullscreen');\n      impl.trigger('beforeenterfullscreen');\n      this._hasBeenInFullscreen = true;\n      this._inFullscreen = true;\n      impl.notFullscreen(false);\n      impl.behaviors.embed.updateBackgroundColor();\n      impl.width(elemWidth(window), { fullscreen: true, dontChangeContainer: true });\n      impl.height(elemHeight(window), { fullscreen: true, dontChangeContainer: true });\n      if (impl.engine) {\n        impl.engine.onEnterFullscreen();\n      }\n\n      impl.trigger('enterfullscreen');\n      impl.embedElement.dispatchEvent(new CustomEvent('enterfullscreen'));\n      impl.trigger('enter-fullscreen'); // legacy\n    }\n  };\n\n  onEnterWebkitFullscreen = (_e) => {\n    // When fullscreening <video> directly (iOS iframes)\n    const impl = this.impl;\n    this._hasBeenInFullscreen = true;\n    this._inFullscreen = true;\n    this._nativeFullscreen = true;\n    impl.notFullscreen(false);\n    impl.trigger('enterfullscreen');\n    impl.embedElement.dispatchEvent(new CustomEvent('enterfullscreen'));\n    impl.trigger('enter-fullscreen'); // legacy\n  };\n\n  onCancelFullscreen = () => {\n    const impl = this.impl;\n\n    if (this._nativeFullscreen) {\n      this._nativeFullscreen = false;\n      this._inFullscreen = false;\n      impl.notFullscreen(true);\n      impl.trigger('cancelfullscreen');\n      impl.embedElement.dispatchEvent(new CustomEvent('cancelfullscreen'));\n      impl.trigger('cancel-fullscreen'); // legacy\n    } else if (this._inFullscreen) {\n      impl.info('onCancelFullscreen');\n      this._inFullscreen = false;\n      impl.notFullscreen(true);\n      impl.behaviors.embed.updateBackgroundColor();\n      impl.width(this._widthBeforeFullscreen);\n      impl.height(this._heightBeforeFullscreen);\n      impl.fit();\n      if (impl.engine) {\n        impl.engine.onLeaveFullscreen();\n      }\n      impl.trigger('cancelfullscreen');\n      impl.embedElement.dispatchEvent(new CustomEvent('cancelfullscreen'));\n      impl.trigger('cancel-fullscreen'); // legacy\n    }\n  };\n\n  onOrientationChange = () => {\n    if (!this.getIsFullscreenOnRotateToLandscape()) {\n      return;\n    }\n\n    const impl = this.impl;\n    this.fullscreenResizeToWindowFlurry();\n    if (window.orientation === -90 || window.orientation === 90) {\n      if (impl.state() !== 'playing' || impl.engine.isMuted()) {\n        return;\n      }\n      impl.requestFullscreen();\n    } else {\n      impl.cancelFullscreen();\n    }\n  };\n\n  fullscreenResizeToWindowFlurry = () => {\n    const impl = this.impl;\n    this.fullscreenResizeToWindow();\n    [0, 50, 100, 200, 300, 500, 1000].forEach((timeout) => {\n      doTimeout(`${impl.uuid}.fs-resize-flurry-${timeout}`, this.fullscreenResizeToWindow, timeout);\n    });\n  };\n\n  fullscreenResizeToWindow = () => {\n    const impl = this.impl;\n    if (impl.inFullscreen() && !this._nativeFullscreen) {\n      impl.debug('fullscreenResizeToWindow');\n\n      // We only want to change the dimensions of the chrome, when in\n      // fullscreen mode, not the embed container itself. Otherwise, if the\n      // width of the page is dependent on the width of the embed container,\n      // we'll cause an infinite resizing loop.\n      const currentWidth = impl.width();\n      const currentHeight = impl.height();\n      const winWidth = elemWidth(window);\n      const winHeight = elemHeight(window);\n      if (currentWidth !== winWidth) {\n        impl.width(winWidth, { fullscreen: true, dontChangeContainer: true });\n      }\n      if (currentHeight !== winHeight) {\n        impl.height(winHeight, { fullscreen: true, dontChangeContainer: true });\n      }\n    }\n  };\n\n  requestFullscreen() {\n    if (\n      this.impl._opts._inIframe &&\n      /two_stroke/i.test(this.impl.bestEngine()) &&\n      (detect.iphone || detect.ipad)\n    ) {\n      return;\n    }\n    const impl = this.impl;\n\n    if (impl.inFullscreen()) {\n      return;\n    }\n    impl.info('requestFullscreen');\n    this._widthBeforeFullscreen = impl.width();\n    this._heightBeforeFullscreen = impl.height();\n\n    // for the first time fullscreen is requested on videos videos whose\n    // width or height does not change after init,\n    // the center elem that gets measured will not have an explicit width set, but\n    // it will get an inherited width: 100% !important applied from the user agent.\n    // We want to explicitiy set a width value here of the current width\n    impl.width(impl.width());\n\n    if (impl._inNativeMode()) {\n      impl.engine?.requestFullscreen();\n    } else if (detect.fullscreenEnabled) {\n      elemRequestFullscreen(impl.chrome);\n    } else if (this.getAllowFakeFullscreen()) {\n      // We're likely on iOS and don't have a proper fullscreen API, so\n      // we can either do a fake full screen or full screen the video element\n      // and get the native quicktime controls.\n      this.enterFakeFullscreen();\n    } else if (impl.engine) {\n      if (impl.state() === 'beforeplay' && (detect.iphone || detect.ipad)) {\n        // without this, if the video is fullscreened before play, it takes a few\n        // clicks to actually work.\n        impl.engine.play().then(() => impl.engine.pause());\n      }\n\n      impl.engine?.requestFullscreen();\n    }\n  }\n\n  cancelFullscreen() {\n    const impl = this.impl;\n\n    if (!impl.inFullscreen()) {\n      return;\n    }\n    impl.info('cancelFullscreen');\n    if (impl._inNativeMode()) {\n      impl.engine.cancelFullscreen();\n    } else if (detect.fullscreenEnabled) {\n      elemCancelFullscreen();\n    } else if (this.getAllowFakeFullscreen()) {\n      this.cancelFakeFullscreen();\n    } else {\n      impl.engine.cancelFullscreen();\n    }\n  }\n\n  // On iOS there's no proper fullscreen API so we normally just fullscreen\n  // the video and use the native quicktime controls, but sometimes we want\n  // to do this hack to attempt fullscreen vulcan -- like in the case where\n  // we're playing back multiple streams at once\n  getAllowFakeFullscreen() {\n    // Only allow this on iOS10+ where playsinline works\n    return (\n      !this.impl._opts._inIframe &&\n      detect.ios.version >= 10 &&\n      (this.impl._opts.fakeFullscreen || /two_stroke/i.test(this.impl.bestEngine()))\n    );\n  }\n\n  // defaults to true, unless this is a spherical video because we don't want\n  // to take the viewer out of fullscreen as they wave their phone all around\n  getIsFullscreenOnRotateToLandscape() {\n    if (!detect.touchScreen) {\n      return false;\n    }\n\n    // Never do this on iOS if it's before version 10 because playsinline is not supported\n    if (detect.ios.version > 0 && detect.ios.version < 10) {\n      return false;\n    }\n\n    const shouldAllowFullscreenOnRotateToLandscape =\n      !this.impl._attrs.disableFullscreenOnRotateToLandscape;\n\n    return shouldAllowFullscreenOnRotateToLandscape;\n  }\n\n  enterFakeFullscreen() {\n    const impl = this.impl;\n    this._widthBeforeFullscreen = impl.width();\n    this._heightBeforeFullscreen = impl.height();\n\n    this._inFakeFullscreen = true;\n    this._chromeParent = impl.chrome.parentNode;\n    document.body.appendChild(impl.chrome);\n\n    this._leftOffsetBeforeFullscreen = scrollLeft();\n\n    this.onEnterFullscreen(impl.chrome);\n    this.setupFakeFullscreenBindings();\n\n    elemStyle(impl.chrome, {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      zIndex: 2147483647, // max 32bit int\n    });\n    scrollLeft(0);\n    if (impl.engine) {\n      impl.engine.onEnterFullscreen();\n    }\n  }\n\n  setupFakeFullscreenBindings() {\n    const impl = this.impl;\n    // iOS Safari's minimal UI is a huge nuissance. In portrait, our controls\n    // will be at the very bottom of the screen, but as soon as you tap there\n    // it brings up Safari's bottom menu bar instead and does not issue any\n    // events as far as I can tell so we must poll. Why there isn't a proper\n    // resize event here is beyond me.\n    W.eventLoop.add(`${impl.uuid}.fakefullscreen`, 100, () => {\n      this.fullscreenResizeToWindow();\n    });\n    if (!this._preventDefaultForTouchMove) {\n      this._preventDefaultForTouchMove = function (event) {\n        event.preventDefault();\n      };\n    }\n    elemRebind(impl.uiContainer, 'touchmove', this._preventDefaultForTouchMove);\n  }\n\n  cancelFakeFullscreen() {\n    const impl = this.impl;\n\n    this._inFakeFullscreen = false;\n    this.onCancelFullscreen(impl.chrome);\n    if (this._chromeParent) {\n      this._chromeParent.appendChild(impl.chrome);\n    }\n    impl.chrome.style.position = '';\n    scrollLeft(this._leftOffsetBeforeFullscreen);\n\n    W.eventLoop.remove(`${impl.uuid}.fakefullscreen`);\n\n    if (impl.engine) {\n      impl.engine.onLeaveFullscreen();\n    }\n\n    if (this._preventDefaultForTouchMove != null) {\n      elemUnbind(impl.uiContainer, 'touchmove', this._preventDefaultForTouchMove);\n    }\n  }\n\n  transferStateFrom(otherImpl) {\n    const otherBehavior = otherImpl.behaviors && otherImpl.behaviors.fullscreen;\n    if (!otherBehavior) {\n      return;\n    }\n\n    for (let k in otherBehavior) {\n      if (Object.hasOwn(otherBehavior, k)) {\n        const v = otherBehavior[k];\n        if (k[0] === '_' && typeof v !== 'function') {\n          this[k] = v;\n        }\n      }\n    }\n\n    if (otherBehavior._inFullscreen) {\n      countMetric('player/replacewith-fullscreen', 1, {\n        inNativeFullscreen: this.inNativeFullscreen(),\n      });\n      const impl = this.impl;\n      impl.notFullscreen(() => {\n        impl.width(this._widthBeforeFullscreen);\n        impl.height(this._heightBeforeFullscreen);\n      });\n    }\n  }\n\n  inFullscreen() {\n    return !!this._inFullscreen;\n  }\n\n  inNativeFullscreen() {\n    return !!this._nativeFullscreen;\n  }\n\n  maybeAutoFullscreen = () => {\n    if (this.impl.isAudio()) {\n      return;\n    }\n    const shouldAutoFullscreen =\n      this.impl._inNativeMode() &&\n      this.impl._opts.playsinline === false &&\n      inUserEventContext() &&\n      !this._hasAutoFullscreened;\n    if (shouldAutoFullscreen) {\n      this._hasAutoFullscreened = true;\n      this.requestFullscreen();\n    }\n  };\n}\n\nFullscreenBehavior.handle = 'fullscreen';\n\nif (!W._onFullscreenChange) {\n  W._onFullscreenChange = () => {\n    if (fullscreenElement()) {\n      globalTrigger('enterfullscreen', fullscreenElement());\n    } else {\n      globalTrigger('cancelfullscreen');\n    }\n  };\n\n  W._initializers.initFullscreenTriggers = () => {\n    // The fullscreenchange event is a global thing, not for a specific\n    // element.  This sets up one binding that marshalls the fullscreenchange\n    // event so we can receive it like Wistia.bind 'fullscreenchange',\n    // (theElem) -> ...\n    //\n    // If embed codes use it, they should examine theElem to figure out if\n    // it's actually the embed going fullscreen, and not something else on\n    // the page.\n    elemRebind(document, 'webkitfullscreenchange', W._onFullscreenChange);\n    elemRebind(document, 'fullscreenchange', W._onFullscreenChange);\n  };\n\n  W._destructors.destroyFullscreenTriggers = () => {\n    elemUnbind(document, 'webkitfullscreenchange', W._onFullscreenChange);\n    elemUnbind(document, 'fullscreenchange', W._onFullscreenChange);\n  };\n}\n\nexport default FullscreenBehavior;\n","import W from 'wistia_namespace.js';\nimport { PlayerBehavior } from './PlayerBehavior.js';\n\nclass MetricsBehavior extends PlayerBehavior {\n  init() {\n    this.impl.whenVideoElementInDom().then(() => this.doInit());\n  }\n\n  doInit() {\n    const impl = this.impl;\n\n    // This is for getting data on time-to-first-byte. If we're preloading, set\n    // the timer NOW. Otherwise, we wait until 'play' is received to start\n    // the timer.\n    if (impl.engine && impl.engine.getPreload()) {\n      this._startedLoadingAt = Date.now();\n    }\n\n    this.unbinds.push(\n      impl.on('play', this.onPlay),\n      impl.on('progress', this.onProgress),\n      impl.on('waiting', this.onWaiting),\n      impl.on('clicked-play-before-ready', this.onClickedPlayBeforeReady),\n    );\n  }\n\n  onPlay = () => {\n    if (this._startedLoadingAt == null) {\n      this._startedLoadingAt = Date.now();\n      return this.impl.unbind;\n    }\n  };\n\n  onProgress = () => {\n    const impl = this.impl;\n    if (impl.engine.anyBuffered()) {\n      this._firstByteReceivedAt = Date.now();\n      if (this._startedLoadingAt != null) {\n        this._timeToFirstByte = this._firstByteReceivedAt - this._startedLoadingAt;\n      }\n      return impl.unbind;\n    }\n  };\n\n  onWaiting = (duration) => {\n    const impl = this.impl;\n\n    // This is a test to see how often we don't get data for various time\n    // intervals.\n    const receivedAnyVideoData = impl.engine.anyBuffered();\n    if (!this._noDataFor5Seconds && duration >= 5 && !receivedAnyVideoData) {\n      this._noDataFor5Seconds = true;\n      W.Metrics.videoCount(impl, 'player/no-data/5-seconds');\n    }\n    if (!this._noDataFor10Seconds && duration >= 10 && !receivedAnyVideoData) {\n      this._noDataFor10Seconds = true;\n      W.Metrics.videoCount(impl, 'player/no-data/10-seconds');\n    }\n    if (!this._noDataFor15Seconds && duration >= 15 && !receivedAnyVideoData) {\n      this._noDataFor15Seconds = true;\n      W.Metrics.videoCount(impl, 'player/no-data/15-seconds');\n    }\n  };\n\n  onClickedPlayBeforeReady = () => {\n    W.Metrics.videoCount(this.impl, 'player/clicked-play-before-ready');\n  };\n}\n\nMetricsBehavior.handle = 'metrics';\n\nexport default MetricsBehavior;\n","import W from 'wistia_namespace.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { PlayerBehavior } from './PlayerBehavior.js';\n\nconst detect = cachedDetect();\n\nconst MEDIA_ERR_DECODE = 3;\n\nclass PlaybackErrorHandlingBehavior extends PlayerBehavior {\n  init() {\n    this.unbinds.push(this.impl.on('error', this.onError));\n  }\n\n  onError = () => {\n    const impl = this.impl;\n    const videoEl = impl.getMediaElement();\n    if (!videoEl) {\n      return;\n    }\n\n    // Paul is having issues playing back Native HLS videos in Safari 11.0.3\n    // in vulcan-v2 but not vulcan. I have no explanation as to why this is--\n    // the src of the `<video>` is exactly the same and the problem doesn't\n    // surface on my computer with the same version of OSX and Safari. I can\n    // only surmise it's related to drivers or hardware versions.\n    //\n    // Anyway, this is an attempt to deal with that error. When we see a\n    // decoding error and we're using native HLS, let's immediately rebuild\n    // without HLS and start playing.\n    if (\n      videoEl.error &&\n      videoEl.error.code === MEDIA_ERR_DECODE &&\n      /native_hls_video/.test(this.impl.bestEngine())\n    ) {\n      const wasTryingToPlay = impl.lastPlayInfo().isPending;\n\n      // fullRebuild needs a lock on commandQueueOpen to run, but there's\n      // probably a lock on it from play() when this error happens. If we don't\n      // clear it, we need to wait 5 seconds for it to timeout.\n      impl.commandQueueOpen.clearSynchronized();\n\n      const playingString = wasTryingToPlay ? 'playing' : 'not-playing';\n      W.Metrics.videoCount(impl, `player/rebuild-non-hls-on-error/${playingString}`);\n      this.unbinds.push(\n        impl.on('play', () => {\n          W.Metrics.videoCount(impl, `player/rebuild-non-hls-on-error/${playingString}`);\n          return impl.unbind;\n        }),\n      );\n\n      // Try rebuilding without HLS.\n      impl.publicApi.fullRebuild({\n        hls: false,\n        autoPlay: wasTryingToPlay && !(detect.ios.version && detect.ios.version < 10.1),\n      });\n    }\n  };\n}\n\nPlaybackErrorHandlingBehavior.handle = 'playbackErrorHandling';\n\nexport default PlaybackErrorHandlingBehavior;\n","import { PlayerBehavior } from './PlayerBehavior.js';\n\nexport class ProblemMonitoringBehavior extends PlayerBehavior {\n  init() {\n    this.unbinds = [\n      this.impl.on('waiting', (secondsWaiting) => {\n        if (secondsWaiting >= 5) {\n          this.impl.trigger('problem', {\n            type: 'long-buffer',\n            data: { secondsWaiting },\n          });\n        }\n      }),\n\n      this.impl.on('error', (_error) => {\n        const videoEl = this.impl.getMediaElement();\n        const videoError = videoEl.error;\n        this.impl.trigger('problem', {\n          type: 'video-error',\n          errorCode: (videoError && videoError.code) || videoError,\n          errorMessage: videoError && videoError.message,\n        });\n      }),\n    ];\n  }\n}\n\nProblemMonitoringBehavior.handle = 'problemMonitoring';\n","import W from 'wistia_namespace.js';\nimport { globalEventLoop } from 'utilities/event_loop.js';\nimport { PlayerBehavior } from './PlayerBehavior.js';\n\nclass RelayEventsBehavior extends PlayerBehavior {\n  init() {\n    this.resetState();\n    this.impl.whenVideoElementInDom().then(() => this.doInit());\n  }\n\n  doInit() {\n    const impl = this.impl;\n    const engine = impl.engine;\n\n    this.unbinds.push(\n      engine.bind('lookchange', this.onLookChange),\n      engine.bind('pause', this.onPause),\n      engine.bind('playing', this.onPlaying),\n      engine.bind('ended', this.onEnded),\n      engine.bind('volumechange', this.onVolumeChange),\n      engine.bind('audiostreamchange', this.onAudioStreamChanged),\n      engine.bind('ratechange', this.onRateChange),\n      engine.bind('progress', this.onProgress),\n      engine.bind('custom-waiting', this.onCustomWaiting),\n      engine.bind('custom-done-waiting', this.onCustomDoneWaiting),\n      engine.bind('error', this.onError),\n      engine.bind('hlslevelswitched', this.onHlsLevelSwitched),\n      engine.bind('fatalerrorrebuild', this.onHlsFatalErrorRebuild),\n      engine.bind('seeking', this.onSeeking),\n      engine.bind('seeked', this.onSeeked),\n      engine.bind('timeupdate', this.onTimeUpdate),\n    );\n\n    globalEventLoop.add(`${impl.uuid}.events`, impl._eventLoopDuration, () => {\n      if (!impl.looksDown()) {\n        this.fireStateChangedEventsIfChanged();\n        this.fireTimeChangedEventsIfChanged();\n\n        const quality = impl.getVideoQuality();\n        if (quality !== this._lastQuality) {\n          impl.trigger('qualitychange', quality);\n          this._lastQuality = quality;\n        }\n      }\n    });\n  }\n\n  destroy() {\n    globalEventLoop.remove(`${this.impl.uuid}.events`);\n    super.destroy();\n  }\n\n  resetState() {\n    this._waiting = -1;\n    this._lastTimePosition = -1;\n    this._beforePlay = true;\n    this._ended = false;\n    this._isMuted = this.impl.isMuted();\n    this._hasPlayed = false;\n  }\n\n  maybeFireStateAndTimeEvents = () => {\n    this.fireStateChangedEventsIfChanged();\n    this.fireTimeChangedEventsIfChanged();\n  };\n\n  onLookChange = (lookData) => {\n    this.impl.trigger('lookchange', lookData);\n  };\n\n  onPause = () => {\n    this.maybeFireStateAndTimeEvents();\n  };\n\n  onPlaying = () => {\n    this._beforePlay = false;\n    this._ended = false;\n    this.maybeFireStateAndTimeEvents();\n  };\n\n  onEnded = () => {\n    this.maybeFireStateAndTimeEvents();\n  };\n\n  onAudioStreamChanged = () => {\n    this.impl.trigger('audiostreamchange');\n  };\n\n  onVolumeChange = () => {\n    const isMuted = this.impl.isMuted();\n    this.impl.trigger('volumechange', this.impl.volume(), isMuted);\n    this.impl.embedElement.dispatchEvent(\n      new CustomEvent('volumechange', {\n        detail: {\n          volume: this.impl.volume(),\n          muted: isMuted,\n        },\n      }),\n    );\n\n    if (isMuted !== this._isMuted) {\n      this._isMuted = isMuted;\n      this.impl.embedElement.dispatchEvent(new CustomEvent('mutechange', { detail: { isMuted } }));\n      this.impl.trigger('mutechange', isMuted);\n    }\n  };\n\n  onRateChange = () => {\n    this.impl.trigger('playbackratechange', this.impl.playbackRate());\n    this.impl.embedElement.dispatchEvent(\n      new CustomEvent('ratechange', {\n        detail: {\n          playbackRate: this.impl.playbackRate(),\n        },\n      }),\n    );\n    globalEventLoop.interval(`${this.impl.uuid}.events`, this.impl._eventLoopDuration);\n  };\n\n  onProgress = (e) => {\n    this.impl.trigger('progress', e);\n  };\n\n  onError = (e) => {\n    this.impl.trigger('error', e);\n  };\n\n  onHlsLevelSwitched = (e) => {\n    this.impl.trigger('hlslevelswitched', e);\n  };\n\n  // hls has encountered a fatal error and failed several times to recover.\n  // attempt to rebuild the player with manual quality mp4 playback\n  onHlsFatalErrorRebuild = (e) => {\n    this.impl.fullRebuild({ engine: 'engines/manual_quality_video.js' });\n  };\n\n  onSeeking = (e) => {\n    this.impl.trigger('seeking', e);\n    this.impl.embedElement.dispatchEvent(new CustomEvent('seeking'));\n  };\n\n  onSeeked = (e) => {\n    this.impl.trigger('seeked', e);\n    this.impl.embedElement.dispatchEvent(new CustomEvent('seeked'));\n  };\n\n  onTimeUpdate = (e) => {\n    this.impl.embedElement.dispatchEvent(new CustomEvent('timeupdate'));\n  };\n\n  onCustomWaiting = (duration) => {\n    this._waiting = duration;\n    this.impl.trigger('waiting', duration);\n  };\n\n  onCustomDoneWaiting = (duration) => {\n    this._waiting = -1;\n    this.impl.trigger('done-waiting', duration);\n  };\n\n  fireStateChangedEventsIfChanged() {\n    if (this._destroyed) {\n      return;\n    }\n    const impl = this.impl;\n    const state = impl.state();\n    if (state !== this._lastState) {\n      impl.trigger('statechange', state, this._lastState);\n\n      if (state === 'playing') {\n        this._hasPlayed = true;\n        this._ended = false;\n        impl.trigger('play', impl.lastPlayInfo());\n        impl.embedElement.dispatchEvent(\n          new CustomEvent('play', { detail: { lastPlayInfo: impl.lastPlayInfo() } }),\n        );\n      }\n\n      if (state === 'paused') {\n        impl.trigger('pause', impl.lastPauseInfo());\n        impl.embedElement.dispatchEvent(\n          new CustomEvent('pause', { detail: { lastPauseInfo: impl.lastPauseInfo() } }),\n        );\n      }\n\n      // This is a hack for firefox, which apparently never leaves the\n      // \"playing\" state for our test video. This artificial \"ended\" state\n      // basically says \"we're stuck in a playing state at the very end of\n      // the video\". For all intents and purposes, the video has ended.\n      if (state === 'ended') {\n        this._ended = true;\n        impl.trigger('end');\n        impl.embedElement.dispatchEvent(new Event('end'));\n        impl.embedElement.dispatchEvent(new Event('ended'));\n        this.triggerAfterendTimeout();\n      }\n      if (state !== 'ended' && this.mozillaAtEnd()) {\n        // XXX: this hack seems out of place here; I wouldn't expect a\n        // function that inspects state to also possibly modify state.\n        impl.engine.pause();\n        this._ended = true;\n        impl.trigger('end');\n        impl.embedElement.dispatchEvent(new Event('ended'));\n        impl.embedElement.dispatchEvent(new Event('end'));\n        this.triggerAfterendTimeout();\n      }\n\n      this._lastState = state;\n    }\n  }\n\n  fireTimeChangedEventsIfChanged = () => {\n    if (this._destroyed) {\n      return;\n    }\n\n    const impl = this.impl;\n    let skipSeek = false;\n\n    const currentTime = Date.now();\n    const timePosition = impl.time();\n\n    const timeChanged = timePosition !== this._lastTimePosition;\n    const timePositionChange = timePosition - this._lastTimePosition;\n    const timePositionFloored = Math.floor(timePosition);\n    const lastTimePositionFloored = Math.floor(this._lastTimePosition);\n\n    const clockTimeChanged = (currentTime - this._lastClockTime) / 1000;\n    const playbackRate = impl.playbackRate();\n\n    // Some media sources (see: HLS) don't actually start the stream at 0. To\n    // avoid triggering a timechange before the video has even been played,\n    // we check against this heuristic.\n    const withinInitialBufferHole = impl.state() === 'beforeplay' && timePosition < 0.3;\n\n    const flooredTimeDifferenceGreaterThanOne =\n      Math.abs(Math.floor(timePosition) - Math.floor(this._lastTimePosition)) > 1;\n\n    if (timeChanged && timePosition >= 0 && !withinInitialBufferHole) {\n      this._ended = false;\n      impl.trigger('timechange', timePosition);\n      impl.embedElement.dispatchEvent(new CustomEvent('timechange', { detail: { timePosition } }));\n\n      if (timePositionFloored !== lastTimePositionFloored) {\n        // 1. determine if the time changed in the media is roughly the same as the amount of time changed\n        // since we last ran this function. If they're roughly the same, it can't have been a proper seek.\n        // 2. determine if the difference between the last media time and the current media time is greater than one\n        //\n        // It follows that if we've been moving the time of the media at the same rate as the clock, but have a\n        // gap of more than one uncounted second -- we've missed at least one, maybe more. We should fire the\n        // second change event for all seconds missed\n        if (\n          Math.abs(timePositionChange / playbackRate - clockTimeChanged) < 0.05 &&\n          flooredTimeDifferenceGreaterThanOne\n        ) {\n          skipSeek = true;\n          for (let i = lastTimePositionFloored + 1; i < timePositionFloored; i++) {\n            impl.trigger('secondchange', i);\n            impl.embedElement.dispatchEvent(\n              new CustomEvent('secondchange', {\n                detail: {\n                  second: i,\n                },\n              }),\n            );\n          }\n        }\n\n        impl.trigger('secondchange', timePositionFloored);\n        impl.embedElement.dispatchEvent(\n          new CustomEvent('secondchange', {\n            detail: {\n              second: timePositionFloored,\n            },\n          }),\n        );\n      }\n\n      if (\n        !this._beforePlay &&\n        !this._ended &&\n        !skipSeek &&\n        flooredTimeDifferenceGreaterThanOne &&\n        Math.abs(timePosition - this._lastTimePosition) > impl._attrs.seekThreshold\n      ) {\n        impl.trigger('seek', timePosition, this._lastTimePosition);\n      }\n      this._lastTimePosition = timePosition;\n    }\n\n    this._lastClockTime = currentTime;\n    return Promise.resolve();\n  };\n\n  mozillaAtEnd() {\n    return (\n      !this._ended &&\n      W.detect.browser.mozilla &&\n      W.detect.browser.version < 45 &&\n      !W.detect.edge &&\n      W.detect.windows &&\n      this._waiting >= 0.6 &&\n      Math.abs(this.impl.time() - this.impl.duration()) < 2.0\n    );\n  }\n\n  // we wait a tick before triggering `afterend` after the `end` event\n  // so that events working off `end` have a chance to run before\n  // `afterend` events take place.\n  // E.g. CTA/Turnstile overlays at the end of videos in a playlist\n  triggerAfterendTimeout() {\n    setTimeout(() => {\n      this.impl.trigger('afterend');\n    }, 0);\n  }\n}\n\nRelayEventsBehavior.handle = 'relayEvents';\n\nexport default RelayEventsBehavior;\n","import {\n  getLastTime,\n  getResumableKeyForVideo,\n  setLastTime,\n  setResumableKeyForVideo,\n} from 'utilities/resumableVideoData.js';\nimport { PlayerBehavior } from './PlayerBehavior.js';\n\nclass ResumableBehavior extends PlayerBehavior {\n  init() {\n    this._hasPlayed = false;\n    this._hashedId = this.impl.hashedId();\n    this._unbinds = [];\n\n    this._resumableKey = getResumableKeyForVideo(this._hashedId) || null;\n    this.setupBindings();\n\n    // when we initialize, if a resumable key was found, but the video is not\n    // within the Resumable time boundaries, it should not be considered a continuation of a\n    // video, but a new one. It is important to do it here (in addition to the onsecondchange)\n    // because we might send stats before play or before the onsecondchange handler.\n    if (!this.impl.shouldResume() && this._resumableKey) {\n      this.destroyResumableKey();\n    }\n  }\n\n  destroy() {\n    this._unbinds.forEach((e) => {\n      if (typeof e === 'function') {\n        e();\n      }\n    });\n    this._unbinds = [];\n  }\n\n  destroyResumableKey() {\n    setResumableKeyForVideo(this._hashedId, null);\n    this._resumableKey = null;\n  }\n\n  lastTime() {\n    return getLastTime(this._hashedId);\n  }\n\n  onEnd = () => {\n    // update the lastTime one last time :)\n    setLastTime(this._hashedId, this.impl.time());\n    this.destroyResumableKey();\n  };\n\n  onSecondChange = () => {\n    // dont track progress beforeplay\n    if (!this._hasPlayed) {\n      return;\n    }\n\n    setLastTime(this._hashedId, this.impl.time());\n\n    if (!this.impl.shouldResume()) {\n      this.destroyResumableKey();\n    }\n\n    // if we've reset the resumable key, but new events come in,\n    // we need to set the resumable key back to the current event_key\n    if (this._resumableKey === null) {\n      this.setResumableKeyToEventKey();\n    }\n  };\n\n  resumableKey() {\n    return this._resumableKey;\n  }\n\n  setupBindings() {\n    this._unbinds.push(\n      this.impl.on('play', () => (this._hasPlayed = true)),\n      this.impl.on('end', this.onEnd),\n      this.impl.on('secondchange', this.onSecondChange),\n    );\n\n    // we only want to bind to the first event key change\n    const unbindEventKeyChange = this.impl.on('eventkeychange', () => {\n      this.initResumableKey();\n      unbindEventKeyChange();\n    });\n  }\n\n  setResumableKeyToEventKey() {\n    const eventKey = this.impl.eventKey();\n\n    if (eventKey) {\n      this._resumableKey = eventKey;\n      setResumableKeyForVideo(this._hashedId, this._resumableKey);\n    }\n  }\n\n  initResumableKey() {\n    // if one exists, dont make a new one\n    if (this._resumableKey) {\n      return;\n    }\n\n    this.setResumableKeyToEventKey();\n  }\n}\n\nResumableBehavior.handle = 'resumable';\nexport default ResumableBehavior;\n","import W from 'wistia_namespace.js';\nimport { cssResetForSelector } from 'utilities/cssReset.js';\nimport { seqId } from 'utilities/seqid.js';\nimport { h, render } from 'preact';\nimport { isMouseDown, isMouseDownRecently } from 'utilities/isMouseDown.js';\nimport { controlMultiplierBasedOnVideo } from 'utilities/fit-control.js';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { doTimeout, clearTimeouts } from 'utilities/timeout-utils.js';\nimport { assign } from 'utilities/obj.js';\nimport {\n  addInlineCss,\n  elemBind,\n  elemUnbind,\n  elemIsInside,\n  elemOffset,\n  elemRemove,\n  elemStyle,\n  elemAnimate,\n  formInputIsFocused,\n  elemIsHidden,\n} from 'utilities/elem.js';\nimport { getDefaultTranslation } from '../../../../shared/translations.js';\nimport { PlayerBehavior } from './PlayerBehavior.js';\nimport ControlBarButtonAndDialog from '../video/ui_components/ControlBarButtonAndDialog.jsx';\nimport ControlBarDialog from '../ControlBarDialog.js';\nimport Layout from '../Layout.jsx';\n\nconst detect = cachedDetect();\n\nconst appearsInTheControlBar = (type) => {\n  return (\n    type === 'control-bar-left' ||\n    type === 'control-bar-right' ||\n    type === 'ellipsis' ||\n    type == 'playbar'\n  );\n};\n\nconst HANDLED_CONTROL_TYPES = [\n  'above-control-bar',\n  'background',\n  'control-bar-left',\n  'control-bar-right',\n  'ellipsis',\n  'foreground',\n  'left-flyout',\n  'playbar',\n  'right-flyout',\n].reduce((acc, val) => {\n  acc[val] = true;\n  return acc;\n}, {});\n\nconst BASE_CONTROL_BAR_HEIGHT = 34;\nconst DEFAULT_BUTTON_WIDTH = 40;\n\nconst getButtonWidth = (control) => {\n  if (control.pcfButtonWidth) {\n    return control.pcfButtonWidth();\n  }\n\n  if (control.constructor.width != null) {\n    return control.constructor.width;\n  }\n\n  return DEFAULT_BUTTON_WIDTH;\n};\n\nconst getButtonHeight = (control) => {\n  if (control.pcfButtonHeight) {\n    return control.pcfButtonHeight();\n  }\n\n  if (control.constructor.height != null) {\n    return control.constructor.height;\n  }\n\n  return BASE_CONTROL_BAR_HEIGHT;\n};\n\nconst SPACEBAR_KEY = 32;\n\n/*\n * This class serves as the glue between the video, the layout, and the\n * controls.\n *\n * Conceptually:\n *\n * It renders the layout's \"skeleton\" (Layout.jsx) based on which controls are\n * enabled, leaving space for each control to render itself. Then it mounts\n * any new controls and sends and notifies any existing controls of layout\n * changes via the onControlPropsUpdated() control lifecycle method.\n *\n * It provides a central location for UI elements that need to be coordinated.\n * For example, control bar dialogs are managed here (only one can be open at a\n * time), and whether or not the control bar is visible is determined here.\n *\n * It handles some behavior on its own that isn't control specific. For\n * example, clicking anywhere in the Layout that's _not_ a control will cause\n * the video to toggle play.\n *\n * It's expected that the UI is rendered _in front_ of the <video> element.\n *\n */\nclass UIBehavior extends PlayerBehavior {\n  init() {\n    this.mountPromises = [];\n    this.controls = {};\n    this.controlsByType = {};\n    this.dialogs = [];\n    this.mountRefs = {};\n    this.buttonMountRefs = {};\n    this.lastRenderPromise = Promise.resolve();\n    this.lastMouseMoveWasFromBackground = true;\n    this._touchStartFromControlDialog = false;\n    this._ariaLiveText = '';\n    this._previousBorderRadiusOn = false;\n\n    getDefaultTranslation().then((language) => {\n      const publicApi = this.impl.publicApi;\n      if (publicApi && !publicApi._wasPlayerLanguageSetViaApi) {\n        this.impl.playerLanguage(language.code);\n      }\n    });\n    if (!this.domId) {\n      this.domId = seqId('w-vulcan-v2-');\n    }\n  }\n\n  bigPlayButtonBorderRadius() {\n    return this.impl._attrs.bigPlayButtonBorderRadius * this.scale();\n  }\n\n  controlBarBorderRadius() {\n    return this.impl._attrs.controlBarBorderRadius * this.scale();\n  }\n\n  controlBarDistance() {\n    return this.impl._attrs.controlBarDistance * this.scale();\n  }\n\n  setupBindings() {\n    this._hasSetupBindings = true;\n\n    const impl = this.impl;\n    this.video = impl.video;\n\n    this.unbinds.push(\n      impl.on('play', () => {\n        this.doneWaitingForPlay = true;\n        if (this.tappedToHide != null) {\n          // Only set to false automatically if we've already communicated\n          // intent at least once.\n          this.tappedToHide = false;\n        }\n        this.render();\n        this.maybeToggleControls();\n        setTimeout(this.maybeToggleControls, this.showControlsTimeout());\n      }),\n\n      impl.on('pause', () => {\n        if (detect.touchScreen) {\n          if (this.tappedToHide != null) {\n            this.tappedToHide = false;\n          }\n          this.maybeToggleControls();\n        }\n      }),\n\n      impl.on('playrejected', () => {\n        // I guess we can't play. Bail on autoplay and show all controls\n        // immediately.\n        this.doneWaitingForPlay = true;\n        this.showVideoWrapper();\n        this.render();\n      }),\n\n      impl.on('enter-fullscreen', () => {\n        this._scale = null;\n        this.cachedVideoHeight = null;\n        this.cachedVideoWidth = null;\n        this.render();\n        this.lastMouseMoveWasFromBackground = true;\n        this.maybeToggleControls();\n        doTimeout(\n          `${this.impl.uuid}.maybe_toggle_on_fullscreen`,\n          this.maybeToggleControls,\n          this.showControlsTimeout(),\n        );\n      }),\n\n      impl.on('cancel-fullscreen', () => {\n        this._scale = null;\n        this.cachedVideoHeight = null;\n        this.cachedVideoWidth = null;\n        this.render();\n        this.lastMouseMoveWasFromBackground = true;\n        this.maybeToggleControls();\n        doTimeout(\n          `${this.impl.uuid}.maybe_toggle_on_fullscreen`,\n          this.maybeToggleControls,\n          this.showControlsTimeout(),\n        );\n      }),\n\n      impl.on('up', () => {\n        this._scale = null;\n        this.cachedVideoHeight = null;\n        this.cachedVideoWidth = null;\n        this.render();\n      }),\n\n      impl.on('playerlanguagechange', () => {\n        this.render();\n      }),\n\n      impl.on('popoverhide', () => {\n        this.render();\n      }),\n\n      impl.on('popovershow', () => {\n        this.render();\n      }),\n\n      impl.on('widthchange', () => {\n        this._scale = null;\n        this._isShowingMore = null;\n        this.cachedVideoWidth = null;\n        this.render();\n      }),\n\n      impl.on('heightchange', () => {\n        this._scale = null;\n        this.cachedVideoHeight = null;\n        this.render();\n      }),\n\n      W.on('controldefined', () => {\n        this.render();\n      }),\n\n      elemBind(document, 'keyup', (event) => {\n        if (formInputIsFocused()) {\n          return;\n        }\n\n        if (\n          impl.getInputContext() === 'player-mouseover' &&\n          impl._opts.hoverHotkeysEnabled !== false\n        ) {\n          if (event.keyCode === SPACEBAR_KEY) {\n            this.togglePlay();\n          }\n        }\n      }),\n\n      elemBind(window, 'mouseout', (event) => {\n        const from = event.relatedTarget || event.toElement;\n        if (!from || from.nodeName === 'HTML') {\n          this.isHovering = false;\n          this.impl.exitInputContext('player-mouseover');\n        }\n      }),\n\n      // focus events on ios are firing after `touchend`, meaning our normal `isMouseDown()` is returning\n      // false. So we're going to pass around another value saying whether we think that for all intents\n      // and purposes the mouse is considered 'down' in this touch sequence.\n      elemBind(document, 'touchend', () => {\n        // this will be true because of the useCapture and setTimeout in the `touchend` handler in `isMouseDown()`\n        if (isMouseDown()) {\n          this._isMouseDownFromTouch = true;\n        }\n\n        // reset it back to false pretty quickly\n        setTimeout(() => {\n          this._isMouseDownFromTouch = false;\n\n          // re-render to ensure props in uiBehavior and Layout are in sync\n          this.render();\n        }, 50);\n      }),\n\n      // most modern browsers support a `languagechange` event when the user changes\n      // their browser-wide language setting. On that event, we should update the player language\n      elemBind(window, 'languagechange', () => {\n        getDefaultTranslation().then((language) => {\n          const publicApi = this.impl.publicApi;\n          const hasLanguageCodeChanged = this.impl.playerLanguage().code !== language.code;\n          if (publicApi && !publicApi._wasPlayerLanguageSetViaApi && hasLanguageCodeChanged) {\n            this.impl.playerLanguage(language.code);\n          }\n        });\n      }),\n    );\n\n    impl.whenVideoElementInDom().then(() => {\n      this.unbinds.push(\n        this.impl.engine.bind('webkitplaybacktargetavailabilitychanged', () => {\n          setTimeout(() => {\n            this.render();\n          }, 0);\n        }),\n      );\n    });\n\n    impl.whenVideoElementInDom().then(() => {\n      this.unbinds.push(\n        this.impl.engine.bind('audiotracksupdated', () => {\n          setTimeout(() => {\n            this.render();\n          }, 0);\n        }),\n      );\n    });\n\n    // it's important, particularly on mobile, that we use the impl's\n    // play method when attempting to start the live stream automatically\n    // this is because we want to ensure the `lastPlayInfo` is setup correctly\n    // and the ui controls have the correct state.\n    impl.whenVideoElementInDom().then(() => {\n      this.unbinds.push(\n        this.impl.engine.bind('livestreamready', () => {\n          this.impl.play();\n        }),\n      );\n    });\n  }\n\n  /**\n   * Sets up event listeners for the player and saves them to be removed later.\n   * @returns {void}\n   */\n  setupEventListeners() {\n    this._hasSetupEventListeners = true;\n\n    if (this.eventListeners instanceof Map) {\n      this.eventListeners.set('bigplaybuttonborderradiuschange', () => {\n        this.resetCssReset();\n        this.render();\n      });\n\n      this.eventListeners.set('controlbarborderradiuschange', () => {\n        this.resetCssReset();\n        this.render();\n      });\n\n      this.eventListeners.set('playerborderradiuschange', () => {\n        this.resetCssReset();\n        this.render();\n      });\n\n      this.eventListeners.set('playercolorchange', () => this.render());\n\n      this.eventListeners.forEach((eventListenerFn, eventName) => {\n        this.embedElement.addEventListener(eventName, eventListenerFn);\n      });\n    }\n  }\n\n  render() {\n    if (this.isRendering && this.lastRenderPromise) {\n      // We don't want to have two simultaneous renders happening. If we're\n      // mounting/destroying controls in those renders, our list of controls\n      // will be out of sync with what's being rendered and cause issues with\n      // the DOM diff.\n\n      if (this.queuedRenderPromise) {\n        // This causes all render() calls after the first queued one to\n        // throttle. So if we call render() 100 times while isRendering is\n        // true, it renders only twice.\n        return this.queuedRenderPromise;\n      }\n\n      this.queuedRenderPromise = this.lastRenderPromise.then(() => {\n        return this.render().then(() => {\n          this.queuedRenderPromise = undefined;\n        });\n      });\n      return this.queuedRenderPromise;\n    }\n\n    const impl = this.impl;\n\n    if (this._destroyed || !impl.grid) {\n      // the behavior is dead, return a promise that never resolves.\n      return new Promise(() => {});\n    }\n\n    if (!this._hasSetupBindings) {\n      // We don't set these up in init() because we don't want to start\n      // rendering until the embed() method uses it.\n      this.setupBindings();\n    }\n\n    if (!this._hasSetupEventListeners) {\n      // We don't set these up in init() because we don't want to start\n      // rendering until the embed() method uses it.\n      this.setupEventListeners();\n    }\n\n    if (!this.cssResetStyle) {\n      this.cssResetStyle = addInlineCss(impl.uiContainer, this.cssResetContent());\n    }\n\n    if (this.doneWaitingForPlay == null) {\n      const isAutoPlay = impl._isPlayPending && impl.state() === 'beforeplay';\n      this.doneWaitingForPlay = !isAutoPlay;\n    }\n\n    this.lastRenderPromise = new Promise((resolve) => {\n      this.isRendering = true;\n\n      const { newControls, existingControls } = this.setupControls();\n      this.setControlProps();\n\n      const shouldShowControls =\n        this._shouldShowControls != null ? this._shouldShowControls : this.shouldShowControls();\n      this._areControlsVisible = this._shouldShowControls;\n\n      const afterRenderFn = () => {\n        this.afterRender(existingControls, newControls, resolve);\n      };\n\n      // update the video chrome with the appropriate border radius\n      // this elem is created and managed by the EmbedBehavior, so it is easier to just manage this\n      // style from here\n      elemStyle(this.impl.chrome, { borderRadius: `${this.playerBorderRadius()}px` });\n\n      render(\n        <Layout\n          ariaLiveText={this._ariaLiveText}\n          afterRender={newControls.length > 0 ? afterRenderFn : null}\n          allMounted={this.allMounted}\n          backgroundRef={this.backgroundRefFn}\n          bottomBarRightInnerRef={(el) => {\n            this.bottomBarRightInnerRef = el;\n          }}\n          color={impl.playerColor()}\n          controlBarHeight={this.controlBarHeight()}\n          controlBarBorderRadius={this.controlBarBorderRadius()}\n          controlsByType={this.controlsByType}\n          domId={this.domId}\n          doneWaitingForPlay={this.doneWaitingForPlay}\n          inFullscreen={impl.inFullscreen()}\n          inNativeMode={this.inNativeMode()}\n          isMouseDownFromTouch={this._isMouseDownFromTouch}\n          isShowingMore={this.isShowingMore()}\n          hasClickedToShowMore={this._isShowingMore != null}\n          layoutRef={(elem) => (this.layoutRef = elem)}\n          leftControlWidth={this.leftControlWidth}\n          mountRefs={this.mountRefsFn}\n          noMixBlendMode={impl._opts.noMixBlendMode}\n          onClick={this.onClick}\n          onDblClick={this.onDblClick}\n          onFocusComplete={this.onFocusComplete}\n          onfocusin={this.onFocusIn}\n          onfocusout={this.onFocusOut}\n          onKeyDown={this.onKeyDown}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          onMouseMove={this.onMouseMove}\n          onPinch={this.onPinch}\n          onSwipe={this.onSwipe}\n          onTouchEnd={this.onTouchEnd}\n          onTouchStart={this.onTouchStart}\n          controlBarDistance={this.controlBarDistance()}\n          playerBorderRadius={this.playerBorderRadius()}\n          playerLanguage={impl.playerLanguage()}\n          rightControlWidth={this.rightControlWidth}\n          scale={this.scale()}\n          shouldShowControls={shouldShowControls}\n          videoHeight={this.videoHeight()}\n          videoState={impl.state()}\n          videoWidth={this.videoWidth()}\n        />,\n        impl.uiContainer,\n      );\n\n      // if there are new controls, we'll be getting new mount refs, and we\n      // can only get that asynchronously after componentDidUpdate fires due\n      // to a preact bug. however, rendering like this doesn't look as nice, so\n      // we'd prefer to call this function synchronously as long as new\n      // controls aren't initializing.\n      if (newControls.length === 0) {\n        this.afterRender(existingControls, newControls, resolve);\n      }\n    });\n\n    return this.lastRenderPromise;\n  }\n\n  afterRender(existingControls, newControls, resolve) {\n    if (this._destroyed || !this.impl.grid) {\n      this.isRendering = false;\n      // the behavior is dead, don't resolve.\n      return;\n    }\n\n    try {\n      this.runOnControlPropsUpdated(existingControls);\n      this.renderButtons(existingControls);\n      this.mountControls(newControls);\n\n      if (this.didFirstRender) {\n        resolve();\n      } else {\n        this.didFirstRender = true;\n\n        const twoSecondsElapsed = new Promise((resolve) => {\n          doTimeout(`${this.impl.uuid}.two_seconds_elapsed`, resolve, 2000);\n        });\n        this.allMountedPromise = Promise.race([twoSecondsElapsed, Promise.all(this.mountPromises)])\n          .catch((e) => {\n            setTimeout(() => {\n              throw e;\n            }, 0);\n          })\n          .then(() => {\n            this.allMounted = true;\n            this.render().then(resolve);\n          });\n\n        if (this.mountPromises.length === 0) {\n          resolve();\n        }\n\n        if (this.doneWaitingForPlay) {\n          this.allMountedPromise.then(() => {\n            // We're not autoplaying, so let's show the video background as soon\n            // as the controls render.\n            this.showVideoWrapper();\n          });\n        } else {\n          doTimeout(\n            `${this.impl.uuid}.bail_on_autoplay`,\n            () => {\n              if (!this.doneWaitingForPlay) {\n                this.doneWaitingForPlay = true;\n\n                // We're specifically not waiting for the play/seek promise here\n                // because we've already waited several seconds and the viewer\n                // expects to see _something_, even if it's a black box. It's also\n                // possible there may be a bug and the video played but one of the\n                // promises didn't resolve. In that case, we still want the video\n                // to display to limit how broken it can appear.\n                this.showVideoWrapper();\n                this.render();\n              }\n            },\n            2000,\n          );\n\n          // We're waiting on autoplay; let's show the video wrapper as soon as\n          // play/seek-before-play completes.\n          this.showVideoWrapperAfterInitialPlay();\n        }\n      }\n    } catch (e) {\n      setTimeout(() => {\n        throw e;\n      }, 0);\n    } finally {\n      this.isRendering = false;\n    }\n  }\n\n  resetCssReset() {\n    const borderRadiusOn = Boolean(\n      this.impl._attrs.controlBarBorderRadius || this.impl._attrs.bigPlayButtonBorderRadius,\n    );\n\n    if (this.cssResetStyle && this._previousBorderRadiusOn !== borderRadiusOn) {\n      elemRemove(this.cssResetStyle);\n      this.cssResetStyle = null;\n      this._previousBorderRadiusOn = borderRadiusOn;\n    }\n  }\n\n  setControlProps() {\n    const impl = this.impl;\n\n    const anyDialogOpen = this.anyDialogOpen();\n    const chromeless = this.isChromeless();\n    const controlsAreVisible = this.shouldShowControls();\n    const isHoveringOnPlayer = this.isHovering;\n    const isMostRecentFocusViaMouse = this.isMostRecentFocusViaMouse;\n    const playerLanguage = impl.playerLanguage();\n    const scale = this.scale();\n    const videoHeight = this.videoHeight();\n    const videoWidth = this.videoWidth();\n\n    const vulcOffset = (this.vulcOffset = elemOffset(impl.grid.center));\n    const bottomBarOffset = (this.bottomBarOffset = {\n      left: vulcOffset.left,\n      top: vulcOffset.top + this.videoHeight() - this.controlBarHeight(),\n    });\n\n    // Lay out left control bar buttons from left to right\n    let leftPosition = 0;\n    const leftControls = this.getControlsByType('control-bar-left');\n    leftControls.forEach((control, index) => {\n      control.__prevProps = control.props;\n      control.props = {\n        anyDialogOpen,\n        chromeless,\n        controlsAreVisible,\n        focusNextVisibleControl: this.createFocusNextControlFunction(control),\n        height: Math.round(getButtonHeight(control) * scale),\n        isMostRecentFocusViaMouse,\n        left: leftPosition,\n        isLeftMostControl: leftPosition === 0,\n        isRightMostControl: impl.isControlDisabled('playbar'),\n        playerLanguage,\n        scale,\n        videoHeight,\n        videoWidth,\n        width: Math.round(getButtonWidth(control)) * scale,\n      };\n      leftPosition += control.props.width;\n    });\n    this.leftControlWidth = leftPosition;\n\n    // Lay out right control bar buttons from left to right, then update\n    // positions from left to right -- since the playbar width is dependent on\n    // the fixed widths of the controls to its left and right.\n    const rightControls = this.getControlsByType('control-bar-right', 'ellipsis');\n    rightControls.forEach((control, index) => {\n      control.__prevProps = control.props;\n      control.props = {\n        anyDialogOpen,\n        chromeless,\n        controlsAreVisible,\n        focusNextVisibleControl: this.createFocusNextControlFunction(control),\n        height: Math.round(getButtonHeight(control) * scale),\n        isMostRecentFocusViaMouse,\n        isLeftMostControl: index === 0 && impl.isControlDisabled('playbar'),\n        isRightMostControl: index === rightControls.length - 1,\n        playerLanguage,\n        scale,\n        videoHeight,\n        videoWidth,\n        width: Math.round(getButtonWidth(control)) * scale,\n      };\n\n      // lil hack for volume, because the slider gets attached to the button\n      // but the volume button really is last\n      if (control.constructor.handle === 'volumeButton' && index === rightControls.length - 2) {\n        control.props.isRightMostControl = true;\n      }\n      if (control.constructor.handle === 'volumeSlider' && index === rightControls.length - 1) {\n        control.props.isRightMostControl = false;\n      }\n    });\n\n    let rightPosition = 0;\n    this.getControlsByType('ellipsis')\n      .slice()\n      .reverse()\n      .forEach((control) => {\n        rightPosition += control.props.width;\n        control.props.left = videoWidth - rightPosition;\n      });\n    this.ellipsisWidth = rightPosition;\n    this.getControlsByType('control-bar-right')\n      .slice()\n      .reverse()\n      .forEach((control) => {\n        rightPosition += control.props.width;\n        control.props.left = videoWidth - rightPosition;\n      });\n    this.rightControlWidth = rightPosition;\n\n    // The lower playbar is always at the end of the left control bar buttons\n    // and its width is the gap between the left and right control bar button\n    // areas. When the ellipsis is visible, we shouldn't consider\n    // right-control-bar buttons when determining the playbar width.\n    const controlWidthThatImpactsPlaybar =\n      this.leftControlWidth +\n      (this.ellipsisWidth > 0 ? this.ellipsisWidth : this.rightControlWidth);\n    const playbarWidth = videoWidth - controlWidthThatImpactsPlaybar;\n    const playbarControl = this.getControlsByType('playbar')[0];\n    if (playbarControl) {\n      playbarControl.__prevProps = playbarControl.props;\n      playbarControl.props = {\n        anyDialogOpen,\n        chromeless,\n        controlsAreVisible,\n        focusNextVisibleControl: this.createFocusNextControlFunction(playbarControl),\n        height: this.controlBarHeight(),\n        isMostRecentFocusViaMouse,\n        left: leftPosition,\n        playerLanguage,\n        scale,\n        videoHeight,\n        videoWidth,\n        width: playbarWidth,\n      };\n    }\n    this.playbarControlWidth = playbarWidth;\n\n    const controlBarHeight = this.controlBarHeight();\n    ['background', 'foreground', 'left-flyout', 'above-control-bar', 'right-flyout'].forEach(\n      (region) => {\n        (this.controlsByType[region] || []).forEach((control) => {\n          control.__prevProps = control.props;\n          control.props = {\n            anyDialogOpen,\n            chromeless,\n            controlBarHeight,\n            isFocusable: this.allMounted && this.doneWaitingForPlay,\n            controlsAreVisible,\n            focusNextVisibleControl: this.createFocusNextControlFunction(control),\n            isHoveringOnPlayer,\n            isMostRecentFocusViaMouse,\n            playerLanguage,\n            scale,\n            videoHeight,\n            videoWidth,\n          };\n        });\n      },\n    );\n\n    const bottomBarLowerTop = bottomBarOffset.top;\n    this.eachButtonControl((control) => {\n      control.props.top = bottomBarLowerTop;\n    });\n\n    if (playbarControl) {\n      assign(playbarControl.props, { top: bottomBarLowerTop });\n    }\n\n    this.eachControl((control) => {\n      control.props.bigPlayButtonBorderRadius = this.bigPlayButtonBorderRadius();\n      control.props.controlBarBorderRadius = this.controlBarBorderRadius();\n      control.props.controlBarDistance = this.controlBarDistance();\n      control.props.leftControlBarWidth = this.leftControlWidth;\n      control.props.playerBorderRadius = this.playerBorderRadius();\n      control.props.rightControlBarWidth = this.rightControlWidth;\n    });\n  }\n\n  runOnControlPropsUpdated(controls) {\n    controls.forEach((control) => {\n      if (typeof control.onControlPropsUpdated === 'function') {\n        try {\n          control.onControlPropsUpdated(control.__prevProps || {});\n        } catch (e) {\n          setTimeout(() => {\n            throw e;\n          }, 0);\n        }\n      }\n      control.__prevProps = null;\n    });\n  }\n\n  setupControls() {\n    const impl = this.impl;\n\n    // If there are already controls, clean up ones that shouldn't be mounted.\n    let unmountedAnyControls = false;\n    const destroyedControls = [];\n    for (let handle in this.controls) {\n      const control = this.controls[handle];\n      if (HANDLED_CONTROL_TYPES[control.constructor.type]) {\n        const shouldMountFn = control.constructor.shouldMount;\n        if (impl.isControlDisabled(handle) || (shouldMountFn && !shouldMountFn(impl.publicApi))) {\n          if (control.destroy) {\n            try {\n              control.destroy();\n            } catch (e) {\n              setTimeout(() => {\n                throw e;\n              }, 1);\n            }\n          }\n          control.__destroyed = true;\n          delete this.mountRefs[handle];\n          delete this.buttonMountRefs[handle];\n          delete this.controls[constructorHandle(control)];\n          unmountedAnyControls = true;\n          destroyedControls.push(control);\n          impl.trigger('controldestroyed', handle);\n        }\n      }\n    }\n\n    // Initialize controls that haven't already been initialized.\n    let initializedAnyControls = false;\n    const newControls = [];\n    const existingControls = [];\n    for (let handle in W._controlDefinitions) {\n      const ControlClass = W._controlDefinitions[handle];\n      if (HANDLED_CONTROL_TYPES[ControlClass.type]) {\n        const hasBeenInitialized = this.controls[handle] != null;\n        const shouldMount =\n          !impl.isControlDisabled(handle) &&\n          (ControlClass.shouldMount == null || ControlClass.shouldMount(impl.publicApi));\n        if (shouldMount && hasBeenInitialized) {\n          existingControls.push(this.controls[handle]);\n        }\n        if (!hasBeenInitialized && shouldMount) {\n          try {\n            const control = (this.controls[handle] = new ControlClass(impl));\n            control.mounted = new Promise((resolve) => {\n              control.__didMount = () => {\n                control.mounted.isResolved = true;\n                impl.trigger('controlmounted', handle);\n                resolve();\n              };\n            });\n            newControls.push(control);\n          } catch (e) {\n            setTimeout(() => {\n              throw e;\n            }, 1);\n          }\n          initializedAnyControls = true;\n        }\n      }\n    }\n\n    // If the controls that are mounted have changed, let's rebuild\n    // controlsByType entirely. This is so the render() function knows where to\n    // place each control.\n    if (initializedAnyControls || unmountedAnyControls) {\n      // arrange controls by type, e.g.\n      // {\n      //   'control-bar-left': [SmallPlayButtonControl, ...],\n      //   'control-bar-right': [VolumeControl, FullscreenControl, ...]\n      // }\n      const controlsByType = {};\n      this.eachControl((control) => {\n        const type = control.constructor.type;\n        if (controlsByType[type] == null) {\n          controlsByType[type] = [];\n        }\n        controlsByType[type].push(control);\n      });\n\n      // sort the controls in each type bucket\n      for (let type in controlsByType) {\n        controlsByType[type].sort((control1, control2) => {\n          return (control1.constructor.sortValue || 0) - (control2.constructor.sortValue || 0);\n        });\n      }\n\n      this.controlsByType = controlsByType;\n\n      impl.publicApi.controls = impl.controls = this.controls;\n    }\n\n    return { newControls, existingControls, destroyedControls };\n  }\n\n  whenControlMounted(handle) {\n    return new Promise((resolve) => {\n      const control = this.controls[handle];\n      if (control && control.mounted) {\n        control.mounted.then(() => {\n          resolve(control);\n        });\n      } else {\n        this.impl.bind('controlmounted', (n) => {\n          if (n === handle) {\n            resolve(this.controls[handle]);\n            return this.impl.unbind;\n          }\n        });\n      }\n    });\n  }\n\n  mountControls(controls) {\n    controls.forEach((control) => {\n      const type = control.constructor.type;\n      const handle = constructorHandle(control);\n      const mountPoint = this.mountRefs[handle];\n\n      if (!control.nextControlOfSameType) {\n        control.nextControlOfSameType = (controlToSearch = control) => {\n          return this.nextControlOfSameType(controlToSearch);\n        };\n      }\n\n      if (!control.loading) {\n        control.loading = (promise, options = {}) => {\n          const isButtonWithDialog = type === 'control-bar-right';\n\n          if (isButtonWithDialog) {\n            return this.renderButtonWithDialogLoader(control, promise);\n          }\n\n          return this.renderHourglassLoader(promise, options);\n        };\n      }\n\n      if (type === 'control-bar-left' || type === 'control-bar-right' || type === 'ellipsis') {\n        if (control.mountButton) {\n          const stubRef = this.renderButtonWithDialog(control);\n          this.mountControl(control, () => {\n            return control.mountButton(stubRef);\n          });\n        } else if (control.mount) {\n          this.mountControl(control, () => {\n            return control.mount(mountPoint);\n          });\n        }\n      } else {\n        this.mountControl(control, () => {\n          return control.mount(mountPoint);\n        });\n      }\n\n      if (control.eventListeners instanceof Map) {\n        control.eventListeners.forEach((eventListenerFn, eventName) => {\n          control.embedElement.addEventListener(eventName, eventListenerFn);\n        });\n      }\n    });\n  }\n\n  mountControl(control, mountFn) {\n    try {\n      const handle = constructorHandle(control);\n      const mountResult = mountFn();\n      if (mountResult && mountResult.then && mountResult.catch) {\n        mountResult.handle = handle;\n        this.mountPromises.push(mountResult);\n        mountResult.then(() => {\n          control.__didMount();\n        });\n      } else {\n        control.__didMount();\n      }\n    } catch (e) {\n      setTimeout(() => {\n        throw e;\n      }, 0);\n    }\n  }\n\n  renderButtons(controls) {\n    controls.forEach((control) => {\n      if (control.mountButton) {\n        this.renderButtonWithDialog(control);\n      }\n    });\n  }\n\n  renderButtonWithDialog(control) {\n    const handle = constructorHandle(control);\n    if (!this.impl) {\n      return;\n    }\n\n    try {\n      if (control.mountDialog && !control.dialog) {\n        control.dialog = new ControlBarDialog(this, {\n          dialogWillOpen: maybeBind(control.controlDialogWillOpen, control),\n          dialogOpened: maybeBind(control.controlDialogOpened, control),\n          dialogWillClose: maybeBind(control.controlDialogWillClose, control),\n          dialogClosed: maybeBind(control.controlDialogClosed, control),\n          control,\n        });\n        this.dialogs.push(control.dialog);\n      }\n    } catch (e) {\n      setTimeout(() => {\n        throw e;\n      }, 0);\n    }\n\n    if (!control.setButtonLabel) {\n      control.setButtonLabel = (label) => {\n        control.__buttonLabel = label;\n        this.renderButtonWithDialog(control);\n      };\n    }\n\n    if (!this.mountRefs[handle]) {\n      // We return early if the mount point for this control doesn't exist yet,\n      // and rendering its button into the control bar would fail. This can\n      // happen if the handle exists while the control cell is still mounting.\n      // It's ok, the control will render again shortly afterwards. And, this\n      // only happens if a control is enabled very quickly while the embed is\n      // initializing, like if you open the share section in Customize via query\n      // params, which enables the share button.\n      return;\n    }\n\n    const tabIndex =\n      !this.impl.publicApi.popover || this.impl.publicApi.popover.isVisible() ? 0 : -1;\n\n    let stubRef;\n    render(\n      <ControlBarButtonAndDialog\n        {...control.props}\n        buttonLabel={control.__buttonLabel}\n        buttonRef={(e) => {\n          control.buttonElement = e;\n        }}\n        closeDialogOnFocusOut={this.impl._opts.closeDialogsOnFocusOut}\n        color={this.impl.playerColor()}\n        control={control}\n        key={`${handle}_button_and_dialog`}\n        onBlurButton={this.onBlurButton}\n        onFocusButton={this.onFocusButton}\n        rootRef={(elem) => (this.buttonMountRefs[handle] = elem)}\n        stubRef={(e) => (stubRef = e)}\n        tabIndex={tabIndex}\n        videoState={this.impl.state()}\n      />,\n      this.mountRefs[handle],\n    );\n\n    return stubRef;\n  }\n\n  onBlurButton = (_event, control) => {\n    const type = control.constructor.type;\n    if (appearsInTheControlBar(type)) {\n      control.__isFocused = false;\n      this.render();\n    }\n  };\n\n  onFocusButton = (_event, control) => {\n    const type = control.constructor.type;\n    if (appearsInTheControlBar(type)) {\n      control.__isFocused = true;\n      this.render();\n    }\n  };\n\n  renderButtonWithDialogLoader(control, promise) {\n    return new Promise((resolve) => {\n      const timeoutKey = `${this.impl.uuid}.loading_dialog_indicator.${seqId()}`;\n      // we wanna wait 300ms before showing the loading indication\n      doTimeout(\n        timeoutKey,\n        () => {\n          this.setLoadingDialogAndRender(control, true);\n\n          if (detect.touchScreen) {\n            elemBind(document, 'touchstart', () => {\n              try {\n                this.setLoadingDialogAndRender(control, false);\n              } catch (e) {\n                setTimeout(() => {\n                  throw e;\n                }, 0);\n              }\n              resolve();\n              return elemUnbind;\n            });\n          } else {\n            elemBind(document, 'mousedown', () => {\n              try {\n                this.setLoadingDialogAndRender(control, false);\n              } catch (e) {\n                setTimeout(() => {\n                  throw e;\n                }, 0);\n              }\n              resolve();\n              return elemUnbind;\n            });\n          }\n        },\n        300,\n      );\n\n      promise.then(() => {\n        clearTimeouts(timeoutKey);\n        this.setLoadingDialogAndRender(control, false);\n        resolve();\n      });\n    });\n  }\n\n  setLoadingDialogAndRender(control, bool) {\n    control.__isDialogLoading = bool;\n    this.renderButtonWithDialog(control);\n  }\n\n  renderHourglassLoader(promise, options) {\n    return new Promise((resolve) => {\n      // we wanna wait 300ms before showing the loading indication\n      const timeoutKey = `${this.impl.uuid}.loading_indicator.${seqId()}`;\n      doTimeout(\n        timeoutKey,\n        () => {\n          this.controls.loadingHourglass.show(options);\n\n          if (detect.touchScreen) {\n            elemBind(document, 'touchstart', () => {\n              try {\n                this.controls.loadingHourglass.hide();\n              } catch (e) {\n                setTimeout(() => {\n                  throw e;\n                }, 0);\n              }\n              resolve();\n              return elemUnbind;\n            });\n          } else {\n            elemBind(document, 'mousedown', () => {\n              try {\n                this.controls.loadingHourglass.hide();\n              } catch (e) {\n                setTimeout(() => {\n                  throw e;\n                }, 0);\n              }\n              resolve();\n              return elemUnbind;\n            });\n          }\n        },\n        300,\n      );\n\n      promise.then(() => {\n        clearTimeouts(timeoutKey);\n        this.controls.loadingHourglass.hide();\n        resolve();\n      });\n    });\n  }\n\n  eachControl(fn) {\n    for (let handle in this.controls) {\n      if (HANDLED_CONTROL_TYPES[this.controls[handle].constructor.type]) {\n        fn(this.controls[handle]);\n      }\n    }\n  }\n\n  eachButtonControl(fn) {\n    const allButtonControls = this.getControlsByType(\n      'control-bar-left',\n      'control-bar-right',\n      'ellipsis',\n    );\n    allButtonControls.forEach(fn);\n  }\n\n  spaceForPlaybar() {\n    let summedButtonWidth = 0;\n    this.eachButtonControl((control) => {\n      summedButtonWidth += getButtonWidth(control);\n    });\n\n    return this.videoWidth() - summedButtonWidth * this.scale();\n  }\n\n  controlBarHeight() {\n    const impl = this.impl;\n    if ((this.isBeforePlayOrReset() && impl._attrs.hideControlsOnLoad) || this.isChromeless()) {\n      return 0;\n    }\n    return Math.round(BASE_CONTROL_BAR_HEIGHT * this.scale());\n  }\n\n  isBeforePlayOrReset() {\n    const impl = this.impl;\n    return (\n      impl.state() === 'beforeplay' ||\n      (impl._opts && impl._attrs.endVideoBehavior === 'reset' && impl.state() === 'ended')\n    );\n  }\n\n  shouldShowControls() {\n    const impl = this.impl;\n    let result;\n    if (this.isChromeless()) {\n      result = false;\n    } else if (impl.publicApi.popover && !impl.publicApi.popover.isVisible()) {\n      result = false;\n    } else if (this.isBeforePlayOrReset() && this.doneWaitingForPlay) {\n      if (impl._attrs.hideControlsOnLoad !== true) {\n        result = true;\n      } else {\n        result = false;\n      }\n    } else if (this.hasRequestedControlsVisible()) {\n      result = true;\n    } else if (detect.touchScreen) {\n      if (this.tappedToHide == null || this.tappedToHide) {\n        result = false;\n      } else if (impl.state() !== 'playing' || this.anyDialogOpen()) {\n        result = true;\n      } else if (\n        this.lastMovedMouseAt &&\n        Date.now() - this.lastMovedMouseAt < 3000 &&\n        this.lastMovedMouseAt > impl.lastPlayInfo().issuedAt\n      ) {\n        result = true;\n      } else {\n        result = false;\n      }\n    } else if (this.anyDialogOpen()) {\n      result = true;\n    } else if (this.isKeyboardFocused) {\n      result = true;\n    } else if (!impl.inFullscreen() && !this.isHovering) {\n      result = false;\n    } else if (this.lastMovedMouseAt && Date.now() - this.lastMovedMouseAt < 3000) {\n      result = true;\n    } else if (!this.lastMouseMoveWasFromBackground) {\n      result = true;\n    } else {\n      result = false;\n    }\n    return result;\n  }\n\n  hasRequestedControlsVisible() {\n    const visibilityRequests = this.impl._visibilityRequests;\n    for (let k in visibilityRequests) {\n      if (visibilityRequests[k]) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // will try and focus the first focusable element in the control working through\n  // the different control types sorted by visual 'hierarchy' in the layout.\n  // It can also be passed a specific control to start from, instead of the control\n  // itself.\n  createFocusNextControlFunction(control) {\n    const nextControl = this.nextVisibleFocusableControl(control);\n\n    return (newControl) => {\n      let controlToFocus = nextControl;\n      if (newControl) {\n        controlToFocus = this.nextVisibleFocusableControl(newControl);\n      }\n\n      const handle = constructorHandle(controlToFocus);\n      const container = this.mountRefs[handle];\n      return this.focusNextVisibleElem(container);\n    };\n  }\n\n  focusNextVisibleElem(elemContainer) {\n    const container = elemContainer || this.impl.uiContainer;\n\n    const visibleElems = this.getVisibleFocusableElems(container);\n    let activeIndex = 0;\n\n    // get the active element index\n    for (let i = 0; i < visibleElems.length; i++) {\n      if (document.activeElement === visibleElems[i]) {\n        activeIndex = i;\n        break;\n      }\n    }\n\n    // if there's nothing, get outta here!\n    if (visibleElems.length === 0) {\n      return false;\n    }\n\n    if (activeIndex === visibleElems.length - 1) {\n      visibleElems[0].focus();\n    } else {\n      visibleElems[activeIndex + 1].focus();\n    }\n\n    return true;\n  }\n\n  getVisibleFocusableElems(container) {\n    const nodeList = container.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex=\"0\"]',\n    );\n\n    // filter out non-visible elements\n    return Array.prototype.slice.call(nodeList).filter((elem) => {\n      return !elemIsHidden(elem);\n    });\n  }\n\n  onFocusComplete = () => {\n    this.impl.trigger('focuscomplete');\n  };\n\n  updateFocusedControl(target) {\n    this.eachControl((control) => {\n      const handle = control.constructor.handle;\n      const mountRef = this.mountRefs[handle];\n      control.__isFocused = target && elemIsInside(target, mountRef);\n    });\n    this.render();\n  }\n\n  onFocusIn = (e) => {\n    // we set whether the most recent focus event inside the player is a mouse focus\n    this.isMostRecentFocusViaMouse = isMouseDownRecently();\n\n    if ((isMouseDownRecently() || this._isMouseDownFromTouch) && e.srcElement === this.layoutRef) {\n      // We don't want clicks on the video's background to focus the video. If\n      // they do, it's very confusing when you tab out and tab back; the\n      // controls won't go away until you click because the video is focused\n      // without mouse interaction. But it's not clear that that is what's\n      // happened.\n\n      e.srcElement.blur();\n      return;\n    }\n\n    this.updateFocusedControl(e.target);\n    this.impl.enterInputContext('player-focus');\n\n    const wasKeyboardFocused = this.isKeyboardFocused;\n    this.isKeyboardFocused = !(isMouseDownRecently() || this._isMouseDownFromTouch);\n    if (!wasKeyboardFocused && this.isKeyboardFocused) {\n      this.impl.trigger('focusin', e);\n      this.maybeToggleControls();\n    }\n  };\n\n  onFocusOut = (e) => {\n    this.updateFocusedControl(null);\n    this.impl.exitInputContext('player-focus');\n\n    if (this.isKeyboardFocused) {\n      // set this on a timeout because we may be focusing on another element\n      // inside the player.\n      doTimeout(\n        `${this.impl.uuid}.maybe_toggle_on_blur`,\n        () => {\n          if (!document.activeElement || !elemIsInside(document.activeElement, this.layoutRef)) {\n            this.isKeyboardFocused = false;\n            this.impl?.trigger('focusout', e);\n            this.maybeToggleControls();\n          }\n        },\n        1000,\n      );\n    } else {\n      doTimeout(`${this.impl.uuid}.maybe_toggle_on_blur`, this.maybeToggleControls, 50);\n    }\n  };\n\n  onKeyDown = (e) => {\n    if (e.target !== this.layoutRef) {\n      // we only want to toggle play if the focused element is the layout root\n      return;\n    }\n    const { keyCode, __handledAlready } = e;\n    if (!__handledAlready && (keyCode === 32 || keyCode === 13)) {\n      // space or return\n      this.togglePlay();\n    }\n  };\n\n  expandClickForSoundBtn = (expand) => {\n    const { clickForSoundButton } = this.impl.controls;\n    if (!clickForSoundButton) return;\n\n    const clickForSoundButtonContainer = clickForSoundButton.embedElement.querySelector(\n      '.click-for-sound-btn div',\n    );\n    if (!clickForSoundButtonContainer) return;\n\n    return (clickForSoundButtonContainer.style.maxWidth = expand ? '1000px' : '0px');\n  };\n\n  onMouseEnter = (e) => {\n    this.impl.trigger('mouseenter', e);\n    this.isHovering = true;\n    this.maybeToggleControls();\n    this.expandClickForSoundBtn(true);\n    this.impl.enterInputContext('player-mouseover');\n  };\n\n  onMouseLeave = (e) => {\n    this.impl.trigger('mouseleave', e);\n    this.isHovering = false;\n    this.maybeToggleControls();\n    this.expandClickForSoundBtn(false);\n    this.impl.exitInputContext('player-mouseover');\n  };\n\n  showControlsTimeout() {\n    return this.impl.inFullscreen() || detect.touchScreen ? 3000 : 5000;\n  }\n\n  onMouseMove = (e) => {\n    if (detect.touchScreen) {\n      return;\n    }\n\n    if (this.impl.state() === 'beforeplay') {\n      // Don't take mousemove signal in our beforeplay state. Intent comes\n      // after clicking to play.\n      return;\n    }\n\n    // We need to check if the mouse actually moved because mousemove can be\n    // fired from elements that might move as a result of the controls being\n    // hidden, such as the chapters flyout, which causes an extra mousemove\n    // and re-opens the controls.\n    const actuallyMoved = this.lastPageX !== e.pageX || this.lastPageY !== e.pageY;\n    if (actuallyMoved) {\n      this.lastMovedMouseAt = Date.now();\n      this.lastPageX = e.pageX;\n      this.lastPageY = e.pageY;\n    }\n\n    if (actuallyMoved) {\n      this.maybeToggleControls();\n      if (this.shouldShowControls()) {\n        clearTimeout(this.maybeToggleControlsTimeout);\n        if (elemIsInside(e.target, this.backgroundElem)) {\n          this.lastMouseMoveWasFromBackground = true;\n          this.maybeToggleControlsTimeout = setTimeout(\n            this.maybeToggleControls,\n            this.showControlsTimeout(),\n          );\n        } else {\n          this.lastMouseMoveWasFromBackground = false;\n          this.maybeToggleControls();\n        }\n      }\n    }\n  };\n\n  onClick = (e) => {\n    this.lastMovedMouseAt = Date.now();\n    const popover = W.PopoverV3?._activePopover;\n    const isKeyboardFocused = !isMouseDownRecently();\n\n    if (popover) {\n      popover.setShouldShowFocusOutline(isKeyboardFocused);\n    }\n    this.lastPageX = e.pageX;\n    this.lastPageY = e.pageY;\n\n    if (elemIsInside(e.target, this.backgroundElem)) {\n      if (detect.touchScreen) {\n        if (this.isBeforePlayOrReset()) {\n          this.impl.play();\n        } else if (this.isChromeless()) {\n          this.togglePlay();\n        } else if (detect.ios.version && detect.ios.version < 10.1) {\n          this.tappedToHide = false;\n          this.impl.play();\n        } else if (this._areControlsVisible) {\n          this.tappedToHide = !this.tappedToHide;\n        } else {\n          this.tappedToHide = false;\n        }\n        this.maybeToggleControls();\n        setTimeout(this.maybeToggleControls, this.showControlsTimeout());\n        // safari treats ctrl+click as both a 'contextmenu' event and a 'click' event.\n        // In that case, we only want to listen for the 'contextmenu' event\n      } else if (!e.ctrlKey) {\n        this.togglePlay();\n        this.impl.isKeyboardFocused(isKeyboardFocused);\n        this.impl.focus();\n      }\n    } else if (this.impl.state() !== 'beforeplay') {\n      // The viewer can toggle the controls after we've played.\n      this.tappedToHide = false;\n      this.maybeToggleControls();\n      setTimeout(this.maybeToggleControls, this.showControlsTimeout());\n    }\n  };\n\n  onDblClick = (e) => {\n    if (detect.touchScreen) {\n      // double-tapping is a thing that happens a lot on mobile since it hides\n      // and shows controls, and it's annoying if we fullscreen when you do it\n      // too fast.\n      return;\n    }\n\n    if (!elemIsInside(e.target, this.backgroundElem)) {\n      // double-clicking a control shouldn't fullscreen. just the background.\n      return;\n    }\n\n    const impl = this.impl;\n    if (this.impl.isControlEnabled('fullscreenControl')) {\n      if (impl.inFullscreen()) {\n        impl.cancelFullscreen();\n      } else {\n        impl.requestFullscreen();\n      }\n    }\n  };\n\n  onTouchStart = (event) => {\n    if (event._touchStartFromControlDialog) {\n      this._touchStartFromControlDialog = true;\n    }\n\n    this._cancelSwipe = !this.impl.inFullscreen();\n  };\n\n  onSwipe = (e, ctx) => {\n    if (this._cancelSwipe) {\n      return;\n    }\n\n    this._swipeCtx = ctx;\n\n    const impl = this.impl;\n    const height = impl.height();\n    const width = impl.width();\n    const yPercent = ctx.absYDelta / height;\n    const xPercent = ctx.absXDelta / width;\n\n    if (ctx.timeDelta > 175 && (yPercent < 0.02 || xPercent > yPercent)) {\n      // we started the swipe over 100ms ago but have hardly moved our\n      // finger since then.\n      this._cancelSwipe = true;\n      elemAnimate(\n        impl.chrome,\n        { transform: 'translate(0, 0)' },\n        {\n          time: 200,\n          callback: () => {\n            elemAnimate(impl.chrome, { transform: '' });\n          },\n        },\n      );\n      return;\n    }\n\n    if (yPercent >= 0.02 && yPercent > xPercent) {\n      // swiping vertically\n      const swipePercent = ctx.yDelta / height;\n      elemStyle(impl.chrome, { transform: `translate(0, ${-1 * swipePercent * height}px)` });\n    }\n  };\n\n  onPinch = (e, ctx) => {\n    if (!this.impl.isControlEnabled('fullscreenControl')) {\n      return;\n    }\n\n    this._pinchCtx = ctx;\n    const impl = this.impl;\n    let scaleMin;\n    let scaleMax;\n    if (this.impl.inFullscreen()) {\n      scaleMin = 0.3;\n      scaleMax = 2.5;\n    } else {\n      scaleMin = 0.8;\n      scaleMax = 2.5;\n    }\n    if (ctx.pinchScale < 1) {\n      ctx.pinchScale *= 1 + (1 - ctx.pinchScale) * 0.5;\n    } else {\n      ctx.pinchScale *= 1 + (ctx.pinchScale - 1) * 0.25;\n    }\n    const scale = Math.max(scaleMin, Math.min(scaleMax, ctx.pinchScale));\n\n    elemStyle(impl.chrome, { transform: `scale(${scale})` });\n  };\n\n  onTouchEnd = () => {\n    if (!this.impl.isControlEnabled('fullscreenControl')) {\n      return;\n    }\n\n    const pinchCtx = this._pinchCtx;\n    const swipeCtx = this._swipeCtx;\n    this._pinchCtx = null;\n    this._swipeCtx = null;\n    const impl = this.impl;\n    if (pinchCtx) {\n      if (!impl.inFullscreen() && pinchCtx.pinchScale > 1.5) {\n        elemStyle(impl.chrome, { transform: '' });\n        impl.requestFullscreen();\n      } else if (impl.inFullscreen() && pinchCtx.pinchScale < 0.7) {\n        elemStyle(impl.chrome, { transform: '' });\n        impl.cancelFullscreen();\n      } else {\n        elemAnimate(\n          impl.chrome,\n          { transform: 'scale(1)' },\n          {\n            time: 400,\n            callback: () => {\n              elemStyle(impl.chrome, { transform: '' });\n            },\n          },\n        );\n      }\n    } else if (swipeCtx) {\n      const height = impl.height();\n      const width = impl.width();\n      const yPercent = swipeCtx.absYDelta / height;\n      const xPercent = swipeCtx.absXDelta / width;\n      const resetChromeTransform = () => {\n        elemStyle(impl.chrome, { transform: '' });\n      };\n      if (\n        yPercent > 0.16 &&\n        yPercent > xPercent &&\n        Date.now() - swipeCtx.startedAt < 500 &&\n        this._touchStartFromControlDialog === false // swiping within a dialog should not cause a fullscreen exit\n      ) {\n        this._cancelSwipe = true;\n        const dir = swipeCtx.yDelta > 0 ? -1 : 1;\n        elemAnimate(\n          impl.chrome,\n          { transform: `translate(0, ${dir * height}px)` },\n          {\n            time: 200,\n            callback: () => {\n              impl.cancelFullscreen();\n              resetChromeTransform();\n            },\n          },\n        );\n      } else {\n        this._cancelSwipe = true;\n        elemAnimate(\n          impl.chrome,\n          { transform: 'translate(0, 0)' },\n          {\n            time: 200,\n            callback: resetChromeTransform,\n          },\n        );\n      }\n    }\n\n    // we don't have to listen or check the touchend event\n    // since every touchend regardless of origin should reset\n    // this flag back to its initial state\n    this._touchStartFromControlDialog = false;\n  };\n\n  togglePlay() {\n    const impl = this.impl;\n    if (impl.state() === 'playing') {\n      impl.pause();\n    } else {\n      impl.play();\n    }\n  }\n\n  maybeToggleControls = () => {\n    // This is often called async. Let's guard against benign but annoying\n    // errors.\n    if (this._destroyed) {\n      return;\n    }\n\n    const wasShowingControls = this._shouldShowControls;\n    this._shouldShowControls = this.shouldShowControls();\n\n    if (wasShowingControls !== this._shouldShowControls) {\n      return this.lastRenderPromise.then(() => this.render());\n    }\n    return Promise.resolve();\n  };\n\n  showVideoWrapperAfterInitialPlay() {\n    // We queue on ready because autoPlay=true and time=t options will queue\n    // their methods at the _hasImpl phase--that is, well before the ready\n    // phase. And we need the play/seek promise to already be set if we want\n    // this to work properly.\n    this.impl.ready(() => {\n      const promises = [this.impl._playPromise, this.impl._seekPromise].filter((p) => p != null);\n      return Promise.all(promises).then(() => {\n        this.showVideoWrapper();\n      });\n    });\n  }\n\n  showVideoWrapper() {\n    elemStyle(this.impl.videoWrapper, { clip: '' });\n  }\n\n  anyDialogOpen() {\n    for (let handle in this.controls) {\n      const control = this.controls[handle];\n      if (control.dialog && control.dialog.isOpen()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  openDialog(dialog) {\n    this.dialogs.forEach((d) => {\n      if (d !== dialog) {\n        d.close();\n      }\n    });\n    this.render();\n  }\n\n  closeDialog(_dialog) {\n    this.render();\n  }\n\n  resizeDialog(_dialog) {\n    this.render();\n  }\n\n  mountRefsFn = (refs) => {\n    assign(this.mountRefs, refs);\n  };\n\n  backgroundRefFn = (e) => {\n    this.backgroundElem = e;\n  };\n\n  videoWidth() {\n    if (this.cachedVideoWidth != null) {\n      return this.cachedVideoWidth;\n    }\n    return (this.cachedVideoWidth = this.impl.videoWidth());\n  }\n\n  videoHeight() {\n    if (this.cachedVideoHeight != null) {\n      return this.cachedVideoHeight;\n    }\n    return (this.cachedVideoHeight = this.impl.videoHeight());\n  }\n\n  scale() {\n    if (this._scale != null) {\n      return this._scale;\n    }\n\n    if (this.impl.controlScaling() !== 'auto') {\n      return this.impl.controlScaling();\n    }\n\n    return (this._scale = Math.min(1.3, Math.max(0.6, controlMultiplierBasedOnVideo(this.impl))));\n  }\n\n  destroy() {\n    // Clean up <ControlBarButtonAndDialog/>.\n    for (let handle in this.buttonMountRefs) {\n      if (Object.hasOwn(this.buttonMountRefs, handle)) {\n        render(<nothing />, this.mountRefs[handle]);\n      }\n    }\n\n    // Clean up <Layout/>.\n    render(<nothing />, this.impl.uiContainer);\n\n    this.eachControl((control) => {\n      if (control.destroy) {\n        try {\n          control.destroy();\n        } catch (e) {\n          setTimeout(() => {\n            throw e;\n          }, 0);\n        }\n      }\n      control.__destroyed = true;\n    });\n\n    this.unbinds.forEach((unbind) => unbind());\n\n    elemRemove(this.cssResetStyle);\n    this.cssResetStyle = null;\n\n    super.destroy();\n  }\n\n  nextVisibleFocusableControl(control) {\n    const controlAfter = this.nextControlOfSameType(control);\n    // if there is a next control of the same type, return that\n    if (controlAfter) {\n      return controlAfter;\n    }\n\n    // 1. use Object.keys(this.mountRefs) to get all the controls in layout order\n    const controlHandle = control.constructor.handle;\n    const handlesInLayoutOrder = Object.keys(this.mountRefs);\n\n    // 2. find the given control's index\n    const index = handlesInLayoutOrder.indexOf(controlHandle) + 1;\n    const nextControlHandles = handlesInLayoutOrder.slice(index);\n\n    // 3. find the next visible, focusable elem in the controls order\n    let nextVisibleControl;\n\n    for (let i = 0; i < nextControlHandles.length; i++) {\n      const controlContainer = this.mountRefs[nextControlHandles[i]];\n\n      if (this.getVisibleFocusableElems(controlContainer).length > 0) {\n        nextVisibleControl = nextControlHandles[i];\n        break;\n      }\n    }\n\n    if (nextVisibleControl) {\n      return nextVisibleControl;\n    }\n  }\n\n  nextControlOfSameType(control) {\n    const type = control.constructor.type;\n    const controlsMatchingType = this.controlsByType[type];\n    const controlIndex = controlsMatchingType.indexOf(control);\n    let result = controlsMatchingType[controlIndex + 1];\n\n    // if we're in the control-bar-left, the next focusable element is\n    // either in the playbar or lower right control bar.\n    if (type === 'control-bar-left') {\n      if (!result && this.controlsByType.playbar) {\n        result = this.controlsByType.playbar[0];\n      }\n\n      if (!result && this.controlsByType['control-bar-right']) {\n        result = this.controlsByType['control-bar-right'][0];\n      }\n\n      if (!result && this.controlsByType.ellipsis) {\n        result = this.controlsByType.ellipsis[0];\n      }\n    }\n\n    return result;\n  }\n\n  hasAnyVideoChromeControls() {\n    for (let name in this.controls) {\n      const control = this.controls[name];\n      if (control.constructor.isVideoChrome || appearsInTheControlBar(control.constructor.type)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  hasRequestedChromeless() {\n    const visibilityRequests = this.impl._visibilityRequests;\n    for (let k in visibilityRequests) {\n      if (visibilityRequests[k] === false) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  isChromeless() {\n    return (\n      this.inNativeMode() ||\n      this.impl._opts.chromeless ||\n      this.hasRequestedChromeless() ||\n      !this.hasAnyVideoChromeControls()\n    );\n  }\n\n  inNativeMode() {\n    const opts = this.impl._opts;\n    return (\n      opts.nativeMode === true ||\n      (detect.ipad && detect.ios.version && detect.ios.version < 10.1) ||\n      (opts.playsinline === false &&\n        (detect.ipad || detect.iphone || detect.android) &&\n        !/two_stroke/.test(this.impl.bestEngine()))\n    );\n  }\n\n  cssResetContent() {\n    const prefix = `#${this.impl.chrome.id} #${this.impl.grid.wrapper.id}`;\n    const cssResetContent = cssResetForSelector(`${prefix} `, '.w-css-reset');\n    const cssResetTreeContent = cssResetForSelector(`${prefix} .w-css-reset-tree `, '');\n    const enabledBorderRadius = Boolean(\n      this.impl._attrs.controlBarBorderRadius || this.impl._attrs.bigPlayButtonBorderRadius,\n    );\n    const borderRadius = enabledBorderRadius ? '' : 'border-radius:0!important;';\n\n    return `\n      ${cssResetContent}\n      ${cssResetTreeContent}\n      ${prefix} .w-css-reset-max-width-none-important{max-width:none!important}\n      ${prefix} .w-css-reset-button-important{${borderRadius}color:#fff!important;}\n    `;\n  }\n\n  hasRendered() {\n    return !!this.allMounted;\n  }\n\n  // If we haven't explicitly set whether they're showing more, base it on the\n  // width of the controls as a portion of the video. If the playbar would only\n  // have 60% of the player width, let's show less by default.\n  shouldShowMoreDefaultValue() {\n    const consistentRightWidth = this.rightControlWidth - this.ellipsisWidth;\n    const controlWidthRatio = consistentRightWidth / this.videoWidth();\n    return controlWidthRatio < 0.35;\n  }\n\n  isShowingMore() {\n    const isEllipsisVisible = this.controlsByType.ellipsis;\n\n    if (!isEllipsisVisible) {\n      // We haven't shown the Ellipsis control. This should be undefined\n      // behavior because this method is only relevant if it's showing.\n      // Therefore, for debugging purposes, return undefined explicitly. We\n      // shouldn't ever see this though--it's just a guard.\n      return undefined;\n    }\n\n    const playbarControls = this.getControlsByType('playbar');\n\n    if (playbarControls.length === 0) {\n      // no playbar, so we're always showing more\n      return true;\n    }\n\n    const playbarHasFocus = playbarControls.filter((control) => control.__isFocused).length > 0;\n\n    if (playbarHasFocus) {\n      // the playbar is focused, so we must show it\n      return false;\n    }\n\n    const rightControlBarHasFocus =\n      this.getControlsByType('control-bar-right').filter((control) => control.__isFocused).length >\n      0;\n\n    if (rightControlBarHasFocus) {\n      // a right-control-bar button is focused, so we must show it\n      return true;\n    }\n\n    if (this._isShowingMore != null) {\n      // we've specifically asked to show more or less, so do that.\n      return this._isShowingMore;\n    }\n\n    // we haven't explicitly called showMore() or showLess(), so base what's\n    // visible on what fits naturally.\n    return this.shouldShowMoreDefaultValue();\n  }\n\n  playerBorderRadius() {\n    return this.impl._attrs.playerBorderRadius * this.scale();\n  }\n\n  showMore() {\n    this._isShowingMore = true;\n    return this.render();\n  }\n\n  showLess() {\n    this.dialogs.forEach((d) => d.close());\n    this._isShowingMore = false;\n    return this.render();\n  }\n\n  getControlsByType(...types) {\n    if (types.length === 1 && this.controlsByType[types[0]]) {\n      // If we're only asking for one type and it exists, we don't need to do\n      // any extra array allocation at all.\n      return this.controlsByType[types[0]];\n    }\n\n    const result = [];\n    // We use forEach instead of map/concat/flatten so that we don't need to\n    // allocate multiple arrays each step in this function.\n    types.forEach((type) => {\n      result.push(...(this.controlsByType[type] || []));\n    });\n    return result;\n  }\n\n  setAriaLiveText(text) {\n    this._ariaLiveText = text;\n    this.render();\n  }\n}\n\nUIBehavior.handle = 'ui';\n\nconst maybeBind = (fn, ctx) => {\n  if (fn) {\n    return fn.bind(ctx);\n  }\n  return null;\n};\n\n// This is just to help with minification.\nconst constructorHandle = (control) => {\n  return control.constructor.handle;\n};\n\nexport default UIBehavior;\n","import { elemBind, elemIsInside, elemUnbind } from 'utilities/elem.js';\nimport { h, render, Component } from 'preact';\nimport { isMouseDownRecently } from 'utilities/isMouseDown.js';\nimport ControlBarDialog from './ControlBarDialog.jsx';\nimport ControlBarButton from './ControlBarButton.jsx';\n\nconst BASE_CONTROL_BAR_HEIGHT = 34;\n\nclass ControlBarButtonAndDialog extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isMouseInDialog: false,\n    };\n  }\n\n  render() {\n    const control = this.props.control;\n    const shouldRenderDialog = control.mountDialog && control.dialog && control.dialog.hasOpened();\n    return (\n      // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      <div\n        class=\"w-vulcan-button-wrapper w-css-reset\"\n        style={this.wrapperStyle()}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        onMouseDown={this.onMouseDown}\n        onfocusout={this.onFocusOut}\n        ref={this.props.rootRef}\n      >\n        {this.renderControlBarButton()}\n        {shouldRenderDialog ? this.renderControlBarDialog() : null}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    const buttonRef = this.props.buttonRef;\n    if (buttonRef) {\n      buttonRef(this.buttonElem);\n    }\n  }\n\n  componentDidUpdate() {\n    const buttonRef = this.props.buttonRef;\n    if (buttonRef) {\n      buttonRef(this.buttonElem);\n    }\n  }\n\n  renderControlBarButton() {\n    const props = this.props;\n    const control = this.props.control;\n    const isDialogOpen = control.mountDialog && control.dialog && control.dialog.isOpen();\n\n    return (\n      <ControlBarButton\n        buttonLabel={this.props.buttonLabel}\n        buttonRef={(e) => (this.buttonElem = e)}\n        controlBarBorderRadius={this.props.controlBarBorderRadius}\n        controlsAreVisible={this.props.controlsAreVisible}\n        disabled={control.disabledButton}\n        handle={props.control.constructor.handle}\n        isDialogOpen={isDialogOpen}\n        isLeftMostControl={this.props.isLeftMostControl}\n        isLoading={props.control.__isDialogLoading || false}\n        isRightMostControl={this.props.isRightMostControl}\n        onBlur={this.onBlurButton}\n        onClick={this.onClickButton}\n        onKeyDownButton={this.onKeyDownButton}\n        onKeyboardFocus={this.onKeyboardFocusButton}\n        scale={props.scale}\n        stubRef={props.stubRef}\n        tabIndex={props.tabIndex}\n        videoState={this.props.videoState}\n      />\n    );\n  }\n\n  onClickButton = () => {\n    const control = this.props.control;\n\n    // clicking a button only focuses it automatically in some browsers.\n    // this makes sure the button gets focused in those that don't already do so.\n    control.buttonElement.focus();\n\n    // handle opening/closing the dialog\n    if (control.toggleDialogOnClick !== false) {\n      const dialog = control.dialog;\n      if (dialog) {\n        if (dialog.isOpen()) {\n          dialog.close();\n        } else {\n          dialog.open();\n        }\n      }\n    }\n\n    // execute onClickButton for the control\n    if (control.onClickButton) {\n      control.onClickButton();\n    }\n  };\n\n  onKeyboardFocusButton = (e) => {\n    if (e.relatedTarget === this.dummyElem) {\n      return;\n    }\n    const { control, onFocusButton } = this.props;\n\n    if (onFocusButton) {\n      onFocusButton(e, control);\n    }\n\n    if (control.onFocusInButton) {\n      control.onFocusInButton(e);\n    }\n  };\n\n  isNewElemOutsideOfBase(newFocusElem, base) {\n    if (!newFocusElem) {\n      return true;\n    }\n\n    if (newFocusElem.tagName === 'WISTIA-PLAYER') {\n      return false;\n    }\n\n    return !elemIsInside(newFocusElem, base);\n  }\n\n  onBlurButton = (e) => {\n    const { closeDialogOnFocusOut, control, onBlurButton } = this.props;\n    const dialog = control.dialog;\n    setTimeout(() => {\n      const newFocusElem = document.activeElement;\n      if (\n        closeDialogOnFocusOut !== false &&\n        this.state.isMouseInDialog === false &&\n        this.isNewElemOutsideOfBase(newFocusElem, this.base)\n      ) {\n        if (dialog) {\n          dialog.close();\n        }\n      }\n\n      if (onBlurButton) {\n        onBlurButton(e, control);\n      }\n\n      if (control.onFocusOutButton) {\n        control.onFocusOutButton(e);\n      }\n    }, 150); // give Chrome some time to move focus\n  };\n\n  onKeyDownButton = (e) => {\n    const control = this.props.control;\n\n    if (control.onKeyDownButton) {\n      control.onKeyDownButton(e);\n    }\n  };\n\n  onMouseEnterDialog = () => {\n    this.setState({ isMouseInDialog: true });\n  };\n\n  onMouseLeaveDialog = () => {\n    this.setState({ isMouseInDialog: false });\n  };\n\n  renderControlBarDialog() {\n    const props = this.props;\n    const control = props.control;\n    const spaceAboveControlBar = props.videoHeight - BASE_CONTROL_BAR_HEIGHT * props.scale;\n    return (\n      <ControlBarDialog\n        canvasHeight={spaceAboveControlBar}\n        canvasWidth={props.videoWidth}\n        controlBarBorderRadius={props.controlBarBorderRadius}\n        dialogRef={this.dialogRefFn}\n        handle={`${control.constructor.handle}__dialog`}\n        isOpen={control.dialog.isOpen()}\n        left={control.props.left}\n        mount={(e) => control.mountDialog(e)}\n        newLook={this.props.newLook}\n        onBeforeDisplayNone={this.onBeforeDisplayNone}\n        onMouseEnter={this.onMouseEnterDialog}\n        onMouseLeave={this.onMouseLeaveDialog}\n        controlBarDistance={props.controlBarDistance}\n        resizeRequestedAt={control.dialog._resizeRequestedAt}\n        scale={props.scale}\n        top={control.props.top}\n      />\n    );\n  }\n\n  wrapperStyle() {\n    const control = this.props.control;\n    return {\n      display: 'inline-block',\n      height: `${control.props.height}px`,\n      position: 'relative',\n      verticalAlign: 'top',\n      width: `${control.props.width}px`,\n    };\n  }\n\n  onMouseEnter = (e) => {\n    this._isHovering = true;\n\n    const control = this.props.control;\n\n    if (control.onMouseEnter) {\n      control.onMouseEnter(e);\n    }\n  };\n\n  onMouseLeave = (e) => {\n    this._isHovering = false;\n    const control = this.props.control;\n\n    if (control.onMouseLeave) {\n      control.onMouseLeave(e);\n    }\n  };\n\n  onMouseDown = () => {\n    this._isMouseDown = true;\n    this._lastClickedElem = document.activeElement;\n    elemBind(document, 'mouseup', this.onMouseUp);\n  };\n\n  onMouseUp = () => {\n    this._isMouseDown = false;\n    elemUnbind(document, 'mouseup', this.onMouseUp);\n  };\n\n  onFocusOut = () => {\n    setTimeout(() => {\n      const control = this.props.control;\n      if (\n        this.props.closeDialogOnFocusOut !== false &&\n        control.dialog &&\n        control.dialog.isOpen() &&\n        (!document.activeElement || this.isNewElemOutsideOfBase(document.activeElement, this.base))\n      ) {\n        // if the the mouse is inside the dialog, and it was down recently (or\n        // down currently) when the focus out comes through it is likely to\n        // have been a click on a scrollbar... so we should actually send focus\n        // back. Unless focus is on a button or input (as is the case after\n        // clicking the Search Video button to search the transcript)\n        const inputOrButtonIsFocused =\n          document.activeElement && document.activeElement.tagName.match(/input|button/i);\n        if (\n          !inputOrButtonIsFocused &&\n          this.state.isMouseInDialog === true &&\n          (isMouseDownRecently() || this._isMouseDown)\n        ) {\n          this._lastClickedElem?.focus({ preventScroll: true });\n        } else {\n          control.dialog.close();\n        }\n      }\n    }, 500);\n  };\n\n  onBeforeDisplayNone = () => {\n    const control = this.props.control;\n\n    // If we're about to hide the dialog and an element in it still has focus,\n    // let's jump the focus back to the control itself. Otherwise, when we move\n    // to display:none the <body> element gets focused.\n    if (\n      this.dialogElem &&\n      document.activeElement &&\n      elemIsInside(document.activeElement, this.dialogElem)\n    ) {\n      const nextControl = control.nextControlOfSameType();\n      if (nextControl && nextControl.buttonElement) {\n        nextControl.buttonElement.focus();\n      } else {\n        control.buttonElement.focus();\n      }\n    }\n  };\n\n  dialogRefFn = (e) => {\n    this.dialogElem = e;\n    if (this.props.dialogRef) {\n      this.props.dialogRef(e);\n    }\n  };\n}\n\nexport default ControlBarButtonAndDialog;\n","import { elemWidth } from 'utilities/elem.js';\nimport { h, render, Component } from 'preact';\nimport { globalEventLoop } from 'utilities/event_loop.js';\nimport { seqId } from 'utilities/seqid.js';\nimport RawHTMLStub from '../../../../../shared/RawHTMLStub.jsx';\n\nconst STANDARD_BUTTON_WIDTH = 40;\n\nconst DIALOG_FADE_TIME = 120;\nconst CONTENT_FADE_TIME = 100;\n\nclass ControlBarDialogUI extends Component {\n  constructor(props) {\n    super(props);\n    this.uuid = seqId();\n    this.state = {\n      isDisplayNone: true,\n      isOpaque: false,\n      widthInButtons: null,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.resizeRequestedAt !== nextProps.resizeRequestedAt) {\n      this.setState({ widthInButtons: null });\n    }\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    if (nextState.isDisplayNone === true && this.state.isDisplayNone === false) {\n      this.cancelMeasurementLoop();\n      if (nextProps.onBeforeDisplayNone) {\n        nextProps.onBeforeDisplayNone();\n      }\n    }\n\n    if (nextState.isDisplayNone === false && this.state.isDisplayNone === true) {\n      this.setupMeasurementLoop();\n    }\n  }\n\n  render() {\n    // Expected props:\n    // left, top, canvasWidth, canvasHeight, isOpen\n    return (\n      <div\n        class=\"w-anchor w-css-reset\"\n        style={this.anchorStyle()}\n        onMouseEnter={this.props.onMouseEnter}\n        onMouseLeave={this.props.onMouseLeave}\n        onTouchStart={this.onTouchStart}\n      >\n        <div class=\"w-dialog w-css-reset\" style={this.dialogStyle()} ref={this.dialogRefFn}>\n          <div class=\"w-css-reset\" style={this.dialogContentWrapperStyle()}>\n            <RawHTMLStub\n              style={this.stubStyle()}\n              stubRef={(e) => (this.stubElem = e)}\n              handle={this.props.handle}\n              class=\"w-css-reset\"\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    const mountResult = this.props.mount(this.stubElem);\n    if (mountResult && mountResult.then && mountResult.catch) {\n      this.mountPromise = mountResult;\n    } else {\n      this.mountPromise = Promise.resolve();\n    }\n    this.mountPromise.then(this.handleTransitionsAfterRender);\n  }\n\n  componentDidUpdate() {\n    if (this.mountPromise) {\n      this.mountPromise.then(this.handleTransitionsAfterRender);\n    }\n  }\n\n  componentWillUnmount() {\n    this.cancelMeasurementLoop();\n  }\n\n  dialogRefFn = (e) => {\n    this.dialogElem = e;\n    if (this.props.dialogRef) {\n      this.props.dialogRef(e);\n    }\n  };\n\n  handleTransitionsAfterRender = () => {\n    const props = this.props;\n    const state = this.state;\n\n    if (props.isOpen) {\n      if (state.isDisplayNone || (state.isOpaque && state.widthInButtons == null)) {\n        this.setState({ isDisplayNone: false }, () => {\n          this.measureUserElem();\n          this.setState({ isOpaque: true });\n        });\n      }\n    } else if (!state.isDisplayNone && state.isOpaque) {\n      this.setState({ isOpaque: false }, () => {\n        clearTimeout(this.displayNoneTimeout);\n        this.displayNoneTimeout = setTimeout(() => {\n          this.setState({ isDisplayNone: true });\n        }, 200);\n      });\n    }\n  };\n\n  anchorStyle() {\n    return {\n      height: 0,\n      left: 0,\n      position: 'absolute',\n      top: 0,\n      width: '100%',\n    };\n  }\n\n  dialogContentWrapperStyle() {\n    const { isOpaque } = this.state;\n    const delay = isOpaque ? DIALOG_FADE_TIME * 0.4 : 0;\n    return {\n      opacity: isOpaque ? 1 : 0,\n      transition: `opacity ${CONTENT_FADE_TIME}ms ease ${delay}ms`,\n    };\n  }\n\n  dialogStyle() {\n    const { canvasHeight, canvasWidth, scale, controlBarBorderRadius, controlBarDistance } =\n      this.props;\n    const { isDisplayNone, isOpaque, widthInButtons } = this.state;\n\n    let left = 0;\n    let snappedWidth = null;\n    if (widthInButtons != null) {\n      snappedWidth = widthInButtons * STANDARD_BUTTON_WIDTH * scale;\n\n      const spillover = this.props.left + snappedWidth - canvasWidth;\n      if (spillover > 0) {\n        left = spillover * -1;\n      }\n    }\n\n    const delay = isOpaque ? 0 : CONTENT_FADE_TIME * 0.4;\n\n    return {\n      background: 'rgba(0,0,0,0.7)',\n      borderRadius: `${controlBarBorderRadius}px`,\n      bottom: `${controlBarDistance}px`,\n      color: '#fff',\n      display: isDisplayNone ? 'none' : 'block',\n      left,\n      lineHeight: '34px',\n      maxHeight: `${canvasHeight}px`,\n      opacity: isOpaque ? 1 : 0,\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      position: 'absolute',\n      transition: `opacity ${DIALOG_FADE_TIME}ms ease ${delay}ms, transform ${DIALOG_FADE_TIME}ms ease ${delay}ms`,\n      transform: `scaleY(${isOpaque ? 1 : 0.6})`,\n      transformOrigin: 'center bottom',\n      width: snappedWidth != null ? `${snappedWidth}px` : null,\n    };\n  }\n\n  stubStyle() {\n    return {\n      boxSizing: 'border-box',\n      display: 'inline-block',\n      height: '100%',\n      verticalAlign: 'bottom',\n      width: '100%',\n    };\n  }\n\n  setupMeasurementLoop() {\n    globalEventLoop.add(this.uuid, 500, this.measureUserElem);\n  }\n\n  cancelMeasurementLoop() {\n    globalEventLoop.remove(this.uuid);\n  }\n\n  measureUserElem = () => {\n    this.stubElem.style.width = '';\n    const dialogWidth = elemWidth(this.stubElem);\n    this.stubElem.style.width = '100%';\n    const widthInButtons = Math.ceil(dialogWidth / (STANDARD_BUTTON_WIDTH * this.props.scale));\n    if (widthInButtons !== this.state.widthInButtons && !isNaN(widthInButtons)) {\n      this.setState({ widthInButtons });\n    }\n  };\n\n  // this is used in the UI Behavior to prevent\n  // swipes in dialogs from exiting in fullscreen\n  onTouchStart = (event) => {\n    event._touchStartFromControlDialog = true;\n  };\n}\n\nexport default ControlBarDialogUI;\n","import Color from 'utilities/color.js';\nimport { h, render, Component } from 'preact';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { isMouseDownRecently } from 'utilities/isMouseDown.js';\nimport { assign } from 'utilities/obj.js';\nimport RawHTMLStub from '../../../../../shared/RawHTMLStub.jsx';\nimport CustomEventsWrapper from '../../../../../shared/CustomEventsWrapper.jsx';\n\nconst detect = cachedDetect();\n\nclass ControlBarButton extends Component {\n  constructor(props) {\n    super(props);\n    this.interval = undefined;\n    this.state = {\n      isKeyboardFocused: false,\n      isHovering: false,\n      justClicked: false,\n      opacity: 1,\n    };\n  }\n\n  render() {\n    const props = this.props;\n    const buttonLabel = props.buttonLabel;\n\n    const buttonAttrs = {\n      class: 'w-vulcan-v2-button w-css-reset w-css-reset-tree w-css-reset-button-important',\n      style: this.buttonStyle(),\n      'aria-label': buttonLabel,\n      title: buttonLabel,\n      onClick: () => {\n        if (!props.disabled) {\n          props.onClick();\n        }\n      },\n      onKeyDown: (e) => {\n        props.onKeyDownButton(e);\n      },\n      onMouseDown: !detect.touchScreen && !props.disabled && this.onMouseDown,\n      onMouseUp: !detect.touchScreen && !props.disabled && this.onMouseUp,\n      onTouchStart: detect.touchScreen && this.onMouseDown,\n      onTouchEnd: detect.touchScreen && this.onMouseUp,\n      elemRef: (e) => {\n        this.buttonElem = e;\n        if (props.buttonRef) {\n          props.buttonRef(e);\n        }\n      },\n      tabIndex: props.tabIndex,\n    };\n\n    // control's that have dialogs need to have aria-expanded attributes\n    // undefined here means the control doesn't have a dialog at all\n    if (props.isDialogOpen !== undefined) {\n      buttonAttrs['aria-expanded'] = `${props.isDialogOpen}`;\n    }\n\n    if (!detect.touchScreen) {\n      buttonAttrs.onFocus = this.onFocus;\n      buttonAttrs.onBlur = this.onBlur;\n      buttonAttrs.onMouseEnter = this.onMouseEnter;\n      buttonAttrs.onMouseLeave = this.onMouseLeave;\n    }\n\n    if (props.disabled) {\n      buttonAttrs['aria-disabled'] = true;\n    }\n\n    return (\n      <CustomEventsWrapper tagName=\"button\" {...buttonAttrs}>\n        <RawHTMLStub\n          class=\"w-vulcan-icon-wrapper\"\n          style={this.stubStyle()}\n          stubRef={(e) => (this.stubRoot = e)}\n          handle={`${this.props.handle}_icon_wrapper`}\n        />\n      </CustomEventsWrapper>\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.mount) {\n      this.props.mount(this.stubRoot, this.anchorRoot, this.buttonElem);\n    }\n\n    if (this.props.stubRef) {\n      this.props.stubRef(this.stubRoot);\n    }\n  }\n\n  createLoadingInterval() {\n    this.interval = setInterval(() => {\n      const nextOpacity = this.state.opacity === 0.2 ? 0.8 : 0.2;\n\n      this.setState({ opacity: nextOpacity });\n    }, 400);\n  }\n\n  clearLoadingInterval() {\n    clearInterval(this.interval);\n    this.setState({ opacity: 1 });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.isLoading === false && nextProps.isLoading === true) {\n      this.createLoadingInterval();\n    } else if (this.props.isLoading === true && nextProps.isLoading === false) {\n      this.clearLoadingInterval();\n    }\n  }\n\n  componentDidUpdate() {\n    // The stub won't be updated by rendering, so we need to manually update\n    // it.\n    assign(this.stubRoot.style, this.stubStyle());\n\n    if (this.props.stubRef) {\n      this.props.stubRef(this.stubRoot);\n    }\n  }\n\n  rootStyle() {\n    return {\n      height: '100%',\n      position: 'relative',\n      width: '100%',\n    };\n  }\n\n  buttonStyle() {\n    const { isHovering, isKeyboardFocused } = this.state;\n    const { controlBarBorderRadius, scale } = this.props;\n    const bgColor = new Color('#000');\n\n    const alphaVal = isHovering && !this.props.disabled ? 0.2 : 0;\n    bgColor.alpha(alphaVal);\n\n    const rightMostExtraPaddingWhenRounded =\n      this.props.isRightMostControl && controlBarBorderRadius ? 3 * scale : 0;\n\n    return {\n      backgroundColor: bgColor.toRgba(),\n      borderBottomLeftRadius: this.props.isLeftMostControl ? `${controlBarBorderRadius}px` : 0,\n      borderBottomRightRadius: this.props.isRightMostControl ? `${controlBarBorderRadius}px` : 0,\n      borderTopLeftRadius: this.props.isLeftMostControl ? `${controlBarBorderRadius}px` : 0,\n      borderTopRightRadius: this.props.isRightMostControl ? `${controlBarBorderRadius}px` : 0,\n      boxShadow: isKeyboardFocused ? '0 0 0 2px #fff inset' : 'none',\n      cursor: this.props.disabled ? 'not-allowed' : 'pointer',\n      height: '100%',\n      position: 'relative',\n      transition: 'background-color 150ms',\n      width: `calc(100% + ${rightMostExtraPaddingWhenRounded}px)`,\n      paddingRight: `${rightMostExtraPaddingWhenRounded}px`,\n    };\n  }\n\n  stubStyle() {\n    const { justClicked } = this.state;\n    return {\n      boxSizing: 'border-box',\n      height: '100%',\n      position: 'relative',\n      opacity: this.props.disabled ? 0.5 : 1,\n      transform: `scale(${justClicked ? 1.2 : 1.001})`,\n      transition: 'transform 200ms',\n    };\n  }\n\n  onFocus = (e) => {\n    this.setState({ isKeyboardFocused: !isMouseDownRecently() });\n    if (!isMouseDownRecently() && this.props.onKeyboardFocus) {\n      this.props.onKeyboardFocus(e);\n    }\n  };\n\n  onBlur = (e) => {\n    this.setState({ isKeyboardFocused: false });\n    if (this.props.onBlur) {\n      this.props.onBlur(e);\n    }\n  };\n\n  onMouseDown = () => {\n    this.setState({ justClicked: true });\n  };\n\n  onMouseUp = () => {\n    this.setState({ justClicked: false });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ isHovering: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ isHovering: false });\n  };\n\n  getOpacity() {\n    if (!this.props.controlsAreVisible) {\n      return 0;\n    }\n    if (this.state.opacity != null) {\n      return this.state.opacity;\n    }\n    return 1;\n  }\n}\n\nexport default ControlBarButton;\n","import { bindify } from 'utilities/bindify.js';\n\nclass ControlBarDialog {\n  constructor(ui, config = {}) {\n    this.ui = ui;\n    this.config = config;\n    this._isOpen = false;\n    this._hasOpened = false;\n    this.control = config.control;\n  }\n\n  open() {\n    return this.control.mounted.then(() => {\n      if (this.isOpen()) {\n        return Promise.resolve();\n      }\n      return this.dialogWillOpen().then(this.doOpen).then(this.dialogOpened);\n    });\n  }\n\n  dialogWillOpen = () => {\n    return new Promise((resolve) => {\n      if (this.config.dialogWillOpen) {\n        const result = this.config.dialogWillOpen();\n        if (result && result.then) {\n          result.then(resolve);\n          return;\n        }\n      }\n      resolve();\n    });\n  };\n\n  doOpen = () => {\n    return new Promise((resolve) => {\n      if (this._isOpen) {\n        resolve();\n      } else {\n        this._isOpen = true;\n        this._hasOpened = true;\n        this.ui.openDialog(this);\n        setTimeout(resolve, 170);\n      }\n    });\n  };\n\n  dialogOpened = () => {\n    return new Promise((resolve) => {\n      if (this.config.dialogOpened) {\n        this.config.dialogOpened();\n      }\n      resolve();\n    });\n  };\n\n  close = () => {\n    return this.control.mounted.then(() => {\n      if (this.isOpen()) {\n        return this.dialogWillClose().then(this.doClose).then(this.dialogClosed);\n      }\n      return Promise.resolve();\n    });\n  };\n\n  dialogWillClose = () => {\n    return new Promise((resolve) => {\n      if (this.config.dialogWillClose) {\n        const result = this.config.dialogWillClose();\n        if (result && result.then) {\n          result.then(resolve);\n          return;\n        }\n      }\n      resolve();\n    });\n  };\n\n  doClose = () => {\n    return new Promise((resolve) => {\n      if (this._isOpen) {\n        this._isOpen = false;\n        this.ui.closeDialog(this);\n        setTimeout(resolve, 200);\n      } else {\n        resolve();\n      }\n    });\n  };\n\n  dialogClosed = () => {\n    return new Promise((resolve) => {\n      if (this.config.dialogClosed) {\n        this.config.dialogClosed();\n      }\n      resolve();\n    });\n  };\n\n  isOpen() {\n    return this._isOpen;\n  }\n\n  hasOpened() {\n    return this._hasOpened;\n  }\n\n  resize() {\n    this._resizeRequestedAt = Date.now();\n    this.ui.resizeDialog(this);\n  }\n}\n\nbindify(ControlBarDialog.prototype);\n\nexport default ControlBarDialog;\n","import Color from 'utilities/color.js';\nimport { h, render, Component } from 'preact';\nimport { cachedDetect } from 'utilities/detect.js';\nimport { assign } from 'utilities/obj.js';\nimport { elemHasClass, elemAncestorHasClass } from 'utilities/elem.js';\nimport { isMouseDownRecently } from 'utilities/isMouseDown.js';\nimport CustomEventsWrapper from '../../../shared/CustomEventsWrapper.jsx';\nimport RawHTMLStub from '../../../shared/RawHTMLStub.jsx';\n\nconst detect = cachedDetect();\n\n/*\n * This component renders the \"skeleton\" where all the video's controls are\n * rendered. Controls are organized by \"type\", so we render each type in its\n * own area of the layout. This should be clear from the render() method.\n */\nclass Layout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      areControlsOpaque: props.shouldShowControls,\n\n      // If you click a focusable element (say, a button or link) with the\n      // mouse, it technically gets focus. We dont want those to show our\n      // accessibility targeted focus styles (white outlines basically). So\n      // isKeyboardFocused represents focus that comes from tabbing, or just\n      // programmatic use of element.focus(). Technically this might not be\n      // perfect (e.g. if youre changing focus while dragging or something),\n      // but Im having trouble imagining a legit scenario where it matters.\n      isKeyboardFocused: false,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.handleControlBarAnimation(nextProps);\n  }\n\n  render() {\n    this.mountRefs = {};\n    return (\n      <CustomEventsWrapper\n        class=\"w-vulcan-v2 w-css-reset\"\n        elemRef={this.props.layoutRef}\n        id={this.props.domId}\n        onBlur={this.onBlur}\n        onClick={this.onClick}\n        onDblClick={this.props.onDblClick}\n        onFocus={this.onFocus}\n        onfocusin={this.props.onfocusin}\n        onfocusout={this.props.onfocusout}\n        onKeyDown={this.props.onKeyDown}\n        onMouseEnter={this.props.onMouseEnter}\n        onMouseLeave={this.props.onMouseLeave}\n        onMouseMove={this.props.onMouseMove}\n        onPinch={this.props.onPinch}\n        onSwipe={this.props.onSwipe}\n        onTouchEnd={this.onTouchEnd}\n        onTouchMove={this.props.onTouchMove}\n        onTouchStart={this.props.onTouchStart}\n        style={this.wrapperStyle()}\n      >\n        <div\n          class=\"w-vulcan--background w-css-reset\"\n          style={this.backgroundStyle()}\n          ref={this.props.backgroundRef}\n        >\n          {this.renderControlCells('background')}\n        </div>\n        <div\n          aria-live=\"polite\"\n          class=\"w-vulcan--aria-live w-css-reset\"\n          aria-atomic=\"true\"\n          style={{ position: 'absolute', left: '-99999em' }}\n        >\n          {this.props.ariaLiveText}\n        </div>\n        <div class=\"w-vulcan-overlays-table w-css-reset\" style={this.layoutTableStyle()}>\n          <div class=\"w-vulcan-overlays--left w-css-reset\" style={this.tdLeftStyle()}>\n            <div style={this.tdLayoutInnerStyle()} class=\"w-css-reset\">\n              {this.renderControlCells('left-flyout', { height: '100%', pointerEvents: 'auto' })}\n            </div>\n          </div>\n          <div class=\"w-vulcan-overlays--center w-css-reset\" style={this.tdCenterStyle()}>\n            <div style={this.tdLayoutInnerStyle()} class=\"w-css-reset\">\n              {this.renderControlCells('above-control-bar', { pointerEvents: 'auto' })}\n            </div>\n          </div>\n          <div class=\"w-vulcan-overlays--right w-css-reset\" style={this.tdRightStyle()}>\n            <div style={this.tdLayoutInnerStyle()} class=\"w-css-reset\">\n              {this.renderControlCells('right-flyout', { height: '100%', pointerEvents: 'auto' })}\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"w-bottom-bar w-css-reset\"\n          style={this.bottomBarStyle()}\n          ref={(e) => (this.bottomBar = e)}\n        >\n          <div class=\"w-bottom-bar-lower w-css-reset\" style={this.bottomBarLowerStyle()}>\n            <div style={this.leftBgStyle()}>\n              <div style={this.blendStyle()} />\n              <div style={this.bgOverlayStyle()} />\n            </div>\n            <div style={this.rightBgStyle()}>\n              <div style={this.blendStyle()} />\n              <div style={this.bgOverlayStyle()} />\n            </div>\n            <div class=\"w-bottom-bar-left w-css-reset\" style={this.bottomBarLeftStyle()}>\n              <div\n                class=\"w-bottom-bar-left-inner w-css-reset\"\n                style={this.bottomBarLeftInnerStyle()}\n              >\n                {this.renderControlCells('control-bar-left', {\n                  display: 'inline-block',\n                  verticalAlign: 'top',\n                })}\n              </div>\n            </div>\n            <div class=\"w-bottom-bar-middle w-css-reset\" style={this.bottomBarMiddleStyle()}>\n              <div\n                class=\"w-bottom-bar-middle-inner w-css-reset\"\n                style={this.bottomBarMiddleInnerStyle()}\n              >\n                {this.renderControlCells('playbar', this.playbarStyle())}\n              </div>\n            </div>\n            <div class=\"w-bottom-bar-right w-css-reset\" style={this.bottomBarRightStyle()}>\n              <div\n                class=\"w-bottom-bar-right-inner-anchor w-css-reset\"\n                style={this.bottomBarRightInnerAnchorStyle()}\n              >\n                <div\n                  class=\"w-bottom-bar-right-inner w-css-reset\"\n                  style={this.bottomBarRightInnerStyle()}\n                >\n                  {this.renderControlCells('control-bar-right', {\n                    display: 'inline-block',\n                    verticalAlign: 'top',\n                  })}\n                </div>\n              </div>\n              <div class=\"w-ellipsis w-css-reset\" style={this.ellipsisStyle()}>\n                {this.renderControlCells('ellipsis', {\n                  display: 'inline-block',\n                  verticalAlign: 'top',\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"w-foreground w-css-reset\" style={this.foregroundStyle()}>\n          {this.renderControlCells('foreground', { pointerEvents: 'auto' })}\n        </div>\n      </CustomEventsWrapper>\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.mountRefs) {\n      this.props.mountRefs(this.mountRefs);\n    }\n\n    if (this.props.afterRender) {\n      this.props.afterRender();\n    }\n  }\n\n  componentDidUpdate() {\n    // Freezing these values before the setTimeout is important since very\n    // quick successive renders may cause changing values in this.props to be\n    // lost.\n    const mountRefsProp = this.props.mountRefs;\n    const mountRefs = this.mountRefs;\n    const afterRenderProp = this.props.afterRender;\n\n    // HACK: We do this on nextTick because there's a preact bug where\n    // componentDidMount for child components will always fire _after_\n    // componentDidUpdate for parent components, which means this.mountQueue\n    // might not be populated when componentDidUpdate fires.\n    // See https://github.com/developit/preact/issues/648.\n\n    setTimeout(() => {\n      if (mountRefsProp) {\n        mountRefsProp(mountRefs);\n      }\n\n      if (afterRenderProp) {\n        afterRenderProp();\n      }\n    }, 1);\n  }\n\n  wrapperStyle() {\n    const shouldHideCursor = this.props.inFullscreen && !this.props.shouldShowControls;\n    return {\n      borderRadius: `${this.props.controlBarBorderRadius}px`,\n      boxSizing: 'border-box',\n      cursor: shouldHideCursor ? 'none' : 'default',\n      direction: 'ltr',\n      height: '100%',\n      left: 0,\n      pointerEvents: this.props.inNativeMode ? 'none' : '',\n      position: 'absolute',\n      visibility: this.props.allMounted && this.props.doneWaitingForPlay ? 'visible' : 'hidden',\n      top: 0,\n      width: '100%',\n    };\n  }\n\n  foregroundStyle() {\n    return {\n      height: '100%',\n      left: 0,\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: 0,\n      width: '100%',\n    };\n  }\n\n  backgroundStyle() {\n    return {\n      height: '100%',\n      left: 0,\n      pointerEvents: this.props.inNativeMode ? 'none' : '',\n      position: 'absolute',\n      top: 0,\n      width: '100%',\n    };\n  }\n\n  layoutTableStyle() {\n    return {\n      display: 'table',\n      pointerEvents: 'none',\n      position: 'absolute',\n      width: '100%',\n    };\n  }\n\n  tdLeftStyle() {\n    return this.standardCellStyle(0);\n  }\n\n  tdCenterStyle() {\n    return this.standardCellStyle('100%');\n  }\n\n  tdRightStyle() {\n    return this.standardCellStyle(0);\n  }\n\n  tdLayoutInnerStyle() {\n    return {\n      height: `${this.props.videoHeight - this.props.controlBarHeight}px`,\n    };\n  }\n\n  bottomBarStyle() {\n    const { areControlsOpaque } = this.state;\n    const { videoState, controlBarBorderRadius, controlBarDistance } = this.props;\n    // in the scenario where controlsVisibleOnLoad is false and we're in a beforeplay\n    // state, we should use display none so that the controls are not focusable via keyboard\n    const display = !areControlsOpaque && videoState === 'beforeplay' ? 'none' : 'table';\n\n    // if the rounded player value is near the low end of the slider, it can look a bit odd that the\n    // control only comes away from the edges a few pixels. In those scenarios, we'd rather just not\n    // come off the edges...\n    const revisedControlBarDistance = controlBarDistance < 2 ? 0 : controlBarDistance;\n\n    return {\n      bottom: `${revisedControlBarDistance}px`,\n      borderRadius: `${controlBarBorderRadius}px`,\n      borderCollapse: 'collapse',\n      display,\n      height: `${this.props.controlBarHeight}px`,\n      pointerEvents: 'none',\n      position: 'absolute',\n      paddingLeft: `${revisedControlBarDistance}px`,\n      paddingRight: `${revisedControlBarDistance}px`,\n      // We anchor this to the right so that, when there isn't enough room for\n      // all the buttons, the ones on the _right_ stay on screen, and the ones\n      // on the left get clipped. This ensures the Ellipsis control is always\n      // functional after showing more.\n      right: controlBarBorderRadius ? '50%' : 0,\n      tableLayout: 'auto',\n      transform: controlBarBorderRadius ? 'translate(50%)' : 'unset',\n      width: `calc(100% - ${revisedControlBarDistance * 2}px)`,\n    };\n  }\n\n  bottomBarLeftStyle() {\n    return assign(this.standardCellStyle(0), {\n      opacity: this.getOpacity(),\n      transition: this.getTransition(),\n    });\n  }\n\n  bottomBarLeftInnerStyle() {\n    return this.standardInnerStyle();\n  }\n\n  bottomBarMiddleStyle() {\n    return assign(this.standardCellStyle('100%'), {\n      opacity: this.getOpacity(),\n      transition: this.getTransition(),\n    });\n  }\n\n  bottomBarMiddleInnerStyle() {\n    const { hasClickedToShowMore, isShowingMore } = this.props;\n    const shouldHide = isShowingMore && this.isEllipsisShowing();\n    const animTime = hasClickedToShowMore ? 150 : 0;\n\n    return {\n      ...this.standardInnerStyle(),\n      opacity: shouldHide ? 0 : 1,\n      pointerEvents: shouldHide ? 'none' : 'auto',\n      transform: `translateY(${shouldHide ? '-25%' : 0})`,\n      transition: `opacity ${animTime}ms, transform ${animTime}ms`,\n    };\n  }\n\n  shouldMixBlendMode() {\n    if (detect.edge) {\n      return false;\n    }\n\n    return this.props.noMixBlendMode === false;\n  }\n\n  blendStyle() {\n    const { color: colorStr } = this.props;\n    const color = new Color(colorStr || '#000').alpha(1);\n    return {\n      background: color.toRgba(),\n      display: this.shouldMixBlendMode() ? 'block' : 'none',\n      height: '100%',\n      // NOTE: Due to bugs in how browsers work with mix-blend-mode and\n      // opacity, opacity must not be set on an ancestor of a branch it\n      // overlays, which is why we set this here instead of at a higher level\n      // on the control bar.\n      mixBlendMode: 'darken',\n      left: 0,\n      opacity: this.getOpacity(),\n      position: 'absolute',\n      top: 0,\n      transition: this.getTransition(),\n      width: '100%',\n    };\n  }\n\n  bgOverlayStyle() {\n    const { color: colorStr, controlBarBorderRadius } = this.props;\n    const color = new Color(colorStr || '#000').alpha(0.7);\n\n    if (!this.shouldMixBlendMode()) {\n      color.alpha(0.85);\n    }\n\n    return {\n      background: color.toRgba(),\n      borderRadius: `${controlBarBorderRadius}px`, // needed for rounded control bar\n      height: '100%',\n      opacity: this.getOpacity(),\n      left: 0,\n      position: 'absolute',\n      top: 0,\n      transition: this.getTransition(),\n      width: '100%',\n    };\n  }\n\n  bottomBarRightStyle() {\n    return assign(this.standardCellStyle(0), {\n      opacity: this.getOpacity(),\n      transition: this.getTransition(),\n      whiteSpace: 'nowrap',\n    });\n  }\n\n  bottomBarRightInnerAnchorStyle() {\n    const result = {\n      ...this.standardInnerStyle(),\n      display: 'inline-block',\n      position: 'relative',\n      right: 0,\n      top: 0,\n      verticalAlign: 'top',\n    };\n\n    if (this.isEllipsisShowing()) {\n      // Without this, the ellipsis and right button controls appear on\n      // separate lines because CSS is weird.\n      result.height = 0;\n    }\n\n    return result;\n  }\n\n  bottomBarRightInnerStyle() {\n    const { hasClickedToShowMore, isShowingMore, controlBarBorderRadius, scale } = this.props;\n    const shouldShow = !this.isEllipsisShowing() || isShowingMore;\n    const animTime = hasClickedToShowMore ? 150 : 0;\n    return {\n      ...this.standardInnerStyle(),\n      display: 'inline-block',\n      opacity: shouldShow ? 1 : 0,\n      pointerEvents: shouldShow ? 'auto' : 'none',\n      position: this.isEllipsisShowing() ? 'absolute' : 'relative',\n      right: 0,\n      top: 0,\n      transform: `translateY(${shouldShow ? 0 : '25%'})`,\n      transition: `opacity ${animTime}ms, transform ${animTime}ms`,\n      paddingRight: controlBarBorderRadius > 8 ? `${3 * scale}px` : 0,\n    };\n  }\n\n  ellipsisStyle() {\n    return {\n      ...this.standardInnerStyle(),\n      display: this.props.controlsByType.ellipsis ? 'inline-block' : 'none',\n    };\n  }\n\n  standardCellStyle(width) {\n    return {\n      display: 'table-cell',\n      verticalAlign: 'top',\n      position: 'relative',\n      width,\n    };\n  }\n\n  standardInnerStyle() {\n    return {\n      height: this.props.controlBarHeight,\n      position: 'relative',\n      pointerEvents: this.state.areControlsOpaque ? 'auto' : 'none',\n      whiteSpace: 'nowrap',\n    };\n  }\n\n  renderControlCells(region, style = {}) {\n    const { controlsByType } = this.props;\n\n    return (controlsByType[region] || []).map((control) => {\n      const handle = control.constructor.handle;\n\n      return (\n        <RawHTMLStub\n          class=\"w-css-reset\"\n          handle={handle}\n          key={handle}\n          mount={(e) => (this.mountRefs[handle] = e)}\n          style={style}\n        />\n      );\n    });\n  }\n\n  handleControlBarAnimation(nextProps) {\n    if (nextProps.shouldShowControls && !this.props.shouldShowControls) {\n      setTimeout(() => {\n        this.setState({ areControlsOpaque: true });\n      }, 1);\n    }\n\n    if (!nextProps.shouldShowControls && this.props.shouldShowControls) {\n      this.setState({ areControlsOpaque: false });\n    }\n  }\n\n  onFocus = () => {\n    if (!this.props.isMouseDownFromTouch && !isMouseDownRecently()) {\n      this.setState({ isKeyboardFocused: true });\n    }\n\n    this.props.onFocusComplete();\n  };\n\n  onBlur = () => {\n    if (this.state.isKeyboardFocused) {\n      this.setState({ isKeyboardFocused: false });\n    }\n  };\n\n  onFocusIn = (e) => {\n    if (this.props.onfocusin) {\n      this.props.onfocusin(e);\n    }\n  };\n\n  onFocusOut = (e) => {\n    if (this.props.onfocusout) {\n      this.props.onfocusout(e);\n    }\n  };\n\n  onClick = (e) => {\n    if (isMouseDownRecently()) {\n      this.setState({ isKeyboardFocused: false });\n    }\n\n    if (eventOriginatedFromVulcanV2Button(e)) {\n      e.preventDefault();\n    }\n\n    if (this.props.onClick) {\n      return this.props.onClick(e);\n    }\n  };\n\n  onTouchEnd = (e) => {\n    if (this.props.onTouchEnd) {\n      return this.props.onTouchEnd(e);\n    }\n  };\n\n  getOpacity() {\n    return this.state.areControlsOpaque ? 1 : 0;\n  }\n\n  getTransition() {\n    return `opacity ${this.props.videoState === 'beforeplay' ? 0 : 0.2}s`;\n  }\n\n  playbarStyle() {\n    return {\n      height: '100%',\n      position: 'relative',\n    };\n  }\n\n  leftBgStyle() {\n    const { controlsByType, leftControlWidth } = this.props;\n    const playbarControls = controlsByType.playbar || [];\n    const width = playbarControls.length > 0 ? '100%' : `${leftControlWidth}px`;\n\n    return {\n      height: '100%',\n      left: 0,\n      position: 'absolute',\n      top: 0,\n      width,\n    };\n  }\n\n  rightBgStyle() {\n    if ((this.props.controlsByType.playbar || []).length > 0) {\n      return {\n        display: 'none',\n      };\n    }\n\n    return {\n      height: '100%',\n      position: 'absolute',\n      right: 0,\n      top: 0,\n      width: `${this.props.rightControlWidth}px`,\n    };\n  }\n\n  bottomBarLowerStyle() {\n    return {\n      position: 'relative',\n    };\n  }\n\n  isEllipsisShowing() {\n    return Boolean(this.props.controlsByType.ellipsis);\n  }\n}\n\nconst eventOriginatedFromVulcanV2Button = (e) => {\n  return (\n    e.target &&\n    (elemHasClass(e.target, 'w-vulcan-v2-button') ||\n      elemAncestorHasClass(e.target, 'w-vulcan-v2-button'))\n  );\n};\n\nexport default Layout;\n","import { PlayerBehavior } from './PlayerBehavior.js';\n\nexport class PlaySuspendedOffScreenBehavior extends PlayerBehavior {\n  init() {\n    const impl = this.impl;\n    const publicApi = impl.publicApi;\n\n    this.unbinds.push(\n      publicApi.on('enterviewport', () => {\n        if (impl.inFullscreen()) {\n          return;\n        }\n        if (this._isSuspended) {\n          this._isSuspended = false;\n          if (publicApi._playSuspendedOffScreenEnabled() && impl.state() === 'paused') {\n            impl.play();\n          }\n        }\n      }),\n\n      publicApi.on('leaveviewport', () => {\n        if (impl.inFullscreen()) {\n          return;\n        }\n        if (!this._isSuspended) {\n          if (publicApi._playSuspendedOffScreenEnabled() && impl.state() === 'playing') {\n            impl.pause();\n            this._isSuspended = true;\n          }\n        }\n      }),\n\n      impl.on('receivepause', () => {\n        if (this._isSuspended) {\n          this._isSuspended = false;\n        }\n      }),\n    );\n  }\n}\n\nPlaySuspendedOffScreenBehavior.handle = 'playSuspendedOffScreen';\n","export const getDurationBeforeCuts = (simpleVideo) => {\n  const attrs = simpleVideo.attributes;\n  if (attrs.duration != null) {\n    return attrs.duration;\n  }\n  if (simpleVideo.video.readyState >= 2) {\n    return simpleVideo.video.duration;\n  }\n  return null;\n};\n\nexport const getDurationAfterCuts = (simpleVideo) => {\n  const cuts = getCuts(simpleVideo);\n  const uncutDuration = getDurationBeforeCuts(simpleVideo);\n\n  if (cuts.length < 1) {\n    return uncutDuration;\n  }\n\n  let duration = uncutDuration;\n  cuts.forEach((cut) => {\n    duration -= cut.end - cut.start;\n  });\n\n  return duration;\n};\n\nexport const getTimeBeforeCuts = (simpleVideo, t) => {\n  const uncutDuration = getDurationBeforeCuts(simpleVideo);\n  const cuts = getCuts(simpleVideo);\n\n  let timeThatWasCutOut = 0;\n  let lastCutEnd = 0;\n  let expandedTime = 0;\n  cuts.forEach((cut) => {\n    const lastClipLength = cut.start - lastCutEnd;\n    expandedTime += lastClipLength;\n    if (expandedTime <= t + timeThatWasCutOut) {\n      const cutLength = cut.end - cut.start;\n      timeThatWasCutOut += cutLength;\n      expandedTime += cutLength;\n    }\n    lastCutEnd = cut.end;\n  });\n\n  return Math.min(uncutDuration, t + timeThatWasCutOut);\n};\n\nexport const getTimeAfterCuts = (simpleVideo, uncutCurrentTime) => {\n  const cuts = getCuts(simpleVideo);\n\n  if (cuts.length < 1) {\n    return uncutCurrentTime;\n  }\n\n  let currentTime = uncutCurrentTime;\n\n  cuts.forEach((cut) => {\n    if (cut.start <= uncutCurrentTime) {\n      currentTime -= Math.min(uncutCurrentTime, cut.end) - cut.start;\n    }\n  });\n\n  return Math.max(0, currentTime);\n};\n\nexport const getCurrentTimeAfterCuts = (simpleVideo) => {\n  return getTimeAfterCuts(simpleVideo, simpleVideo.video.currentTime);\n};\n\nconst EMPTY_ARR = Object.freeze([]);\n\nexport const getCuts = (simpleVideo) => {\n  const { cuts: rawCuts, trimStart, trimEnd } = simpleVideo.attributes;\n\n  if (simpleVideo._cuts && rawCuts === simpleVideo._rawCuts) {\n    return simpleVideo._cuts;\n  }\n\n  if (!rawCuts && trimStart == null && trimEnd == null) {\n    return EMPTY_ARR;\n  }\n\n  simpleVideo._rawCuts = rawCuts;\n  simpleVideo._cuts = normalizeCuts(simpleVideo);\n\n  const trimSettings = {\n    start: simpleVideo.attributes.trimStart,\n    end: simpleVideo.attributes.trimEnd,\n  };\n\n  simpleVideo._cuts = applyTrimToCuts(simpleVideo, trimSettings, simpleVideo._cuts);\n\n  Object.freeze(simpleVideo._cuts);\n\n  return simpleVideo._cuts;\n};\n\n// Fill in unspecified values, make sure end > start, sort by start, and ensure\n// no overlapping cuts. These guarantees simplify our other functions.\nconst normalizeCuts = (simpleVideo) => {\n  const uncutDuration = getDurationBeforeCuts(simpleVideo);\n  const { cuts: rawCuts, trimStart, trimEnd } = simpleVideo.attributes;\n\n  if (!rawCuts) {\n    return [];\n  }\n\n  let cuts = rawCuts\n    .map((c) => {\n      const start = c.start != null ? clampCutTime(simpleVideo, c.start) : 0;\n      const end = c.end != null && c.end !== -1 ? clampCutTime(simpleVideo, c.end) : uncutDuration;\n      return end > start ? { start, end } : null;\n    })\n    .filter(Boolean);\n\n  // support legacy trim attributes with cuts instead\n  if (trimStart != null) {\n    cuts.push({ start: 0, end: trimStart });\n  }\n  if (trimEnd != null) {\n    cuts.push({ start: trimEnd, end: uncutDuration });\n  }\n\n  cuts = cuts.sort((a, b) => a.start - b.start);\n\n  let lastCut = { start: 0, end: 0 };\n  cuts = cuts\n    .map((cut) => {\n      // Since this is sorted, if the last cut both starts and ends before this\n      // one ends, then it is a duplicate; it can be discarded.\n      if (cut.end < lastCut.end) {\n        return null;\n      }\n\n      // If this cut starts before the previous one ends, adjust the start so\n      // they don't overlap.\n      if (cut.start < lastCut.end) {\n        cut.start = lastCut.end;\n      }\n\n      lastCut = cut;\n      return cut;\n    })\n    .filter(Boolean);\n\n  return cuts;\n};\n\nconst applyTrimToCuts = (simpleVideo, settings, origCuts) => {\n  const cuts = [...origCuts];\n  const uncutDuration = getDurationBeforeCuts(simpleVideo);\n\n  const { start, end } = settings;\n\n  const firstCut = cuts[0];\n  const lastCut = cuts[cuts.length - 1];\n  const existingStartCut =\n    firstCut && (firstCut.start === 0 || firstCut.start < 0) ? firstCut : undefined;\n  const existingEndCut =\n    lastCut && (lastCut.end >= uncutDuration || lastCut.end < 0) ? lastCut : undefined;\n\n  if (start != null) {\n    if (start >= 0) {\n      const newCut = { start: 0, end: start };\n      if (existingStartCut) {\n        // replace the old one at the beginning\n        cuts.splice(0, 1, newCut);\n      } else {\n        // add a new cut to the beginning\n        cuts.unshift(newCut);\n      }\n    } else if (existingStartCut) {\n      // start: -1 means \"no trimStart\", so delete it if there is one\n      cuts.shift();\n    }\n  }\n\n  if (end != null) {\n    if (end >= 0) {\n      const newCut = { start: end, end: uncutDuration };\n      if (existingEndCut) {\n        // replace the old one at the end\n        cuts.splice(cuts.length - 1, 1, newCut);\n      } else {\n        // add a new cut to the end\n        cuts.push(newCut);\n      }\n    } else if (existingEndCut) {\n      // end: -1 means \"no trimEnd\", so delete it if there is one\n      cuts.pop();\n    }\n  }\n\n  return cuts;\n};\n\nconst clampCutTime = (simpleVideo, t) => {\n  const uncutDuration = getDurationBeforeCuts(simpleVideo);\n  return Math.min(uncutDuration, Math.max(0, t));\n};\n","import { filter as filterAssets, READY } from 'utilities/assets.js';\nimport { filter } from 'utilities/obj.js';\nimport { cdnFastWistiaComHost, eV1Protocol } from 'utilities/hosts.js';\n\nexport const adaptiveAssetUrl = (engine, options) => {\n  if (engine.attributes.liveMedia) {\n    return engine.mediaData.liveStreamEventDetails.manifestUrl;\n  }\n\n  return m3u8UrlForPlayback(engine, options);\n};\n\nconst m3u8UrlForPlayback = (engine, options = {}) => {\n  const { hashedId } = engine.mediaData;\n  const {\n    clipForPoster,\n    clipTo,\n    clipFrom,\n    password,\n    startPosition,\n    deliveryCdn,\n    qualityMax,\n    qualityMin,\n  } = engine.attributes;\n\n  const qMin = options.qualityMin || qualityMin;\n  const qMax = options.qualityMax || qualityMax;\n\n  const url = new URL(\n    `${eV1Protocol()}//${cdnFastWistiaComHost(\n      engine.attributes.embedHost,\n    )}/embed/medias/${hashedId}.m3u8`,\n  );\n\n  // For hls.js, qualityMin and qualityMax are applied to the ABR controller such that it will\n  // not select assets outside that range. However, we want to allow manual quality selection\n  // outside the range, and to do that we need to ensure they are in the manifest for hls.js\n  if (engine?.name !== 'HlsVideo') {\n    if (qMin) {\n      url.searchParams.set('quality_min', qMin);\n    }\n\n    if (qMax) {\n      url.searchParams.set('quality_max', qMax);\n    }\n  }\n\n  if (deliveryCdn) {\n    url.searchParams.set('delivery_cdn', deliveryCdn);\n  }\n\n  if (startPosition && startPosition !== -1) {\n    url.searchParams.set('start_position', startPosition);\n  }\n\n  if (clipForPoster && clipFrom != null && clipTo) {\n    url.searchParams.set('clip_to', clipTo);\n    url.searchParams.set('clip_from', clipFrom);\n  }\n\n  // Password Protected Videos need to pass the correct password in requests to the HLS asset\n  // to prevent people circumventing the password by watching the direct HLS asset.\n  if (password) {\n    url.searchParams.set('password', password);\n  }\n\n  return url.toString();\n};\n\nexport const adaptiveAsset = (engine, options) => {\n  const assetUrl = adaptiveAssetUrl(engine, options);\n  const assetObj = buildMasterM3u8Asset(assetUrl);\n\n  assetObj.display_name = 'Auto';\n  assetObj.slug = 'Auto';\n  return assetObj;\n};\n\nexport const allHlsAudioAssets = (assets) => {\n  return filterAssets(assets, {\n    type: 'mp4_alternate_audio',\n    status: READY,\n  });\n};\n\nexport const allMp4VideoAssets = (assets) => {\n  return filterAssets(assets, {\n    container: 'mp4',\n    status: READY,\n    public: true,\n    metadata: (metadata) => Object(metadata).max_bitrate,\n    type: /\\b(?!captioned_video)\\S+/, // no burned in captions\n  }).sort((a, b) => {\n    return (a.metadata.max_bitrate || 0) - (b.metadata.max_bitrate || 0);\n  });\n};\n\n// It is possible to ask for the audio tracks of a video _before_ they have\n// been loaded onto the video. This creates an array of audio tracks that mimics\n// what the engine will return when the tracks are officially loaded\nexport const audioTracksForVideo = (audioAssets) => {\n  const audioTracks = [\n    {\n      audioCodec: undefined,\n      autoselect: true,\n      default: true,\n      forced: false,\n      groupId: 'audio',\n      id: 0,\n      lang: undefined,\n      name: 'Off',\n      label: 'Off',\n      type: 'AUDIO',\n      isSelected: true,\n    },\n  ];\n\n  audioAssets.forEach((asset, index) => {\n    audioTracks.push({\n      audioCodec: undefined,\n      autoselect: false,\n      default: false,\n      forced: false,\n      groupId: 'audio',\n      id: index + 1, // add one to account for the original being in the 0 spot\n      lang: undefined,\n      name: asset.details?.languageMetadata.name || 'Alt Audio',\n      label: asset.details?.languageMetadata.name || 'Alt Audio',\n      type: 'AUDIO',\n      isSelected: false,\n    });\n  });\n\n  return audioTracks;\n};\n\nexport const buildMasterM3u8Asset = (url) => {\n  return {\n    bitrate: 'variable',\n    ext: 'm3u8',\n    height: 'variable',\n    public: true,\n    size: 'variable',\n    type: 'hls_video',\n    url,\n    width: 'variable',\n    slug: 'hls_master_m3u8_seg3s',\n  };\n};\n\n// If devicePixelRatio=1 and our embedded video is 959 px wide, we probably\n// want to be able to use the 960 width asset there. This fudge factor makes it\n// so, if the embedded video's width is 959, we allow assets up to\n// 959 * 1.2 = 1150px wide.\nconst MAX_WIDTH_FUDGE_FACTOR = 1.2;\n\nexport const maxAssetWidthBasedOnVideoWidth = (\n  width,\n  devicePixelRatio = window.devicePixelRatio || 1,\n) => {\n  // Almost all windows comps have devicePixelRatio = 1, which means that a 640\n  // width embed will never hit 960. This isn't great because there would still\n  // be a visible quality bump in this environment. By setting a min multiplier\n  // for devicePixelRatio, we allow 960 in that scenario without impacting the\n  // max quality on retina screens.\n  const dynamicFudgeFactor = Math.max(1.25, devicePixelRatio) * MAX_WIDTH_FUDGE_FACTOR;\n  const scaledWidth = width * dynamicFudgeFactor;\n  return scaledWidth;\n};\n\nexport const rejectAudioAsset = (nativeHlsVideo, assets) => {\n  return filter(assets, (item) => {\n    return item.display_name != 'Audio';\n  });\n};\n","export const PLAYER_VERSION = 1.14;\n","import { cdnFastWistiaComHost } from '../utilities/hosts.js';\nimport type {\n  AllowedQualities,\n  EmbedOptions,\n  Logger as LoggerType,\n  PublicApi,\n  MediaData,\n  PublicApiOptions,\n  PlayerState,\n  Players,\n  WistiaLocalStorage,\n} from '../types/e-v1-player-api-types.d.ts';\nimport type {\n  EmailChangeEventData,\n  PlayerColorChangeEventData,\n} from '../types/custom-event-data.js';\nimport type { DynamicImportOptions } from '../utilities/dynamicImport.ts';\nimport { dynamicImport } from '../utilities/dynamicImport.ts';\nimport { elemWidth } from '../utilities/elem.js';\nimport { setEmbedOptionStore } from '../utilities/embedOptionStore.ts';\nimport { extractEmailFromParams } from '../utilities/extractEmailFromParams.ts';\nimport { inferPageUrl } from '../utilities/inferPageUrl.ts';\nimport {\n  getWistiaLocalStorage,\n  updateWistiaLocalStorage,\n} from '../utilities/wistiaLocalStorage.js';\nimport { sanePlayerColor } from '../utilities/sane-player-color.js';\nimport { wlog } from '../utilities/wlog.js';\n\n// The component will not run without these attributes.\nconst requiredAttributes = ['media-id'];\n\n// Optional attributes surfaced in documentation to our customers.\nconst optionalPublicAttributes = [\n  'aspect',\n  'autoplay',\n  'big-play-button',\n  'disable-fullscreen-on-rotate-to-landscape',\n  'do-not-track',\n  'email',\n  'end-video-behavior',\n  'fullscreen-control',\n  'hide-controls-on-load',\n  'hide-copy-link-and-thumbnail',\n  'muted',\n  'playback-rate-control',\n  'play-bar-control',\n  'player-color',\n  'playlist-links',\n  'playlist-loop',\n  'play-pause-control',\n  'play-pause-notifier',\n  'poster',\n  'preload',\n  'quality-control',\n  'quality-max',\n  'quality-min',\n  'resumable',\n  'seo',\n  'settings-control',\n  'silent-autoplay',\n  'transparent-letterbox',\n  'volume',\n  'volume-control',\n];\n\n// Optional attributes used by Wistia developers.\nconst optionalPrivateAttributes = [\n  'big-play-button-border-radius',\n  'control-bar-border-radius',\n  'embed-host',\n  'page-url',\n  'player-border-radius',\n  'player-force',\n  'rounded-player',\n  'stats-url',\n  'use-web-component',\n];\n\nconst defaultEmbedOptions = {\n  autoplay: false,\n  bigPlayButton: true,\n  bigPlayButtonBorderRadius: 0,\n  controlBarBorderRadius: 0,\n  disableFullscreenOnRotateToLandscape: false,\n  fullscreenControl: true,\n  hideControlsOnLoad: false,\n  hideCopyLinkAndThumbnail: false,\n  playBarControl: true,\n  playerBorderRadius: 0,\n  playerColor: '636155',\n  playPauseControl: true,\n  playPauseNotifier: true,\n  playbackRateControl: true,\n  qualityControl: true,\n  roundedPlayer: 0,\n  seo: true,\n  settingsControl: true,\n  silentAutoplay: false,\n  state: 'beforeplay' as PlayerState,\n  transparentLetterbox: false,\n  volumeControl: true,\n};\n\nexport class WistiaPlayer extends HTMLElement {\n  public plugin: object | null;\n\n  private readonly _logger: LoggerType;\n\n  // can be null when doing document.createElement and referencing an attribute/property\n  // before being injected into the dom\n  #_api: PublicApi | null;\n\n  #hasElementConnectedToDOM = false;\n\n  #mediaDataServerJson: MediaData = {};\n\n  #paddingTop = '';\n\n  /**\n   * Represents one embedded Wistia media player.\n   * @constructor\n   */\n  public constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n\n    this.#paddingTop = getComputedStyle(this)['padding-top'] as string;\n\n    // Set up a prefixed logger\n    this._logger = (wlog as unknown as LoggerType).getPrefixedFunctions(\n      'WistiaPlayer',\n    ) as LoggerType;\n  }\n\n  // --------------------------------------------------\n  // Public properties\n  // --------------------------------------------------\n\n  /**\n   * Return an array of the attributes that we want to observe for changes.\n   * If one of these attributes changes, the attributeChangedCallback will be called.\n   * @returns {string[]}\n   */\n  public static get observedAttributes(): string[] {\n    return [...requiredAttributes, ...optionalPublicAttributes, ...optionalPrivateAttributes];\n  }\n\n  /**\n   * Returns the public api instance.\n   * TODO: Not sure if we want to expose this.\n   * @returns {PublicApi | null}\n   */\n  public get api(): PublicApi | null {\n    return this.#_api;\n  }\n\n  /**\n   * Returns the aspect ratio (width / height) of the originally uploaded video or given aspect ratio.\n   * @returns {number}\n   * @see https://wistia.com/support/developers/player-api#aspect\n   */\n  public get aspect(): number {\n    // Attributes set on wistia-player override all other options\n    if (this.hasAttribute('aspect')) {\n      return Number(this.getAttribute('aspect'));\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?.aspect() ?? this.offsetWidth / this.offsetHeight;\n  }\n\n  /**\n   * Sets the aspect ratio (width / height) of the video.\n   * @returns {void}\n   */\n  public set aspect(newAspect: number) {\n    this.setAttribute('aspect', newAspect.toString());\n    if (this.api) {\n      this.api._attrs.aspect = newAspect;\n      // By re-setting width to the same value, we trigger the aspect ratio to be recalculated.\n      this.api.width(elemWidth(this) as number, { constrain: true });\n    }\n  }\n\n  /**\n   * Returns if the player should attempt to autoplay as soon as it's ready.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#autoplay\n   */\n  public get autoplay(): boolean {\n    return this.#isAttributePresentOrTrue('autoplay');\n  }\n\n  /**\n   * Sets the attribute to enable/disable autoplay.\n   * @param {boolean} shouldSetAutoplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#autoplay\n   */\n  public set autoplay(shouldSetAutoplay: boolean) {\n    if (shouldSetAutoplay) {\n      this.setAttribute('autoplay', '');\n    } else {\n      this.removeAttribute('autoplay');\n    }\n  }\n\n  /**\n   * If set to true, the big play button control will appear in the center of the video before play.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#playbutton\n   */\n  public get bigPlayButton(): boolean {\n    // Attributes set on wistia-player override all other options\n    if (this.hasAttribute('big-play-button')) {\n      return this.getAttribute('big-play-button') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.bigPlayButton ?? defaultEmbedOptions.bigPlayButton;\n  }\n\n  /**\n   * If set to true, the big play button control will appear in the center of the video before play.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#playbutton\n   */\n  public set bigPlayButton(shouldDisplay: boolean) {\n    this.setAttribute('big-play-button', shouldDisplay.toString());\n    this.api?._impl.bigPlayButtonEnabled(shouldDisplay);\n  }\n\n  public get bigPlayButtonBorderRadius(): number {\n    return this.api?._attrs.bigPlayButtonBorderRadius ?? 0;\n  }\n\n  public set bigPlayButtonBorderRadius(radius: number) {\n    this.api?._impl.setBigPlayButtonBorderRadius(Number(radius));\n  }\n\n  /**\n   * Returns a new static normalized TimeRanges object that represents the ranges of the media resource,\n   * if any, that the user agent has buffered at the moment the buffered property is accessed.\n   * @returns {TimeRanges}\n   */\n  public get buffered(): TimeRanges {\n    return this.api?._impl.getStandardBuffered() ?? ({} as TimeRanges);\n  }\n\n  public get controlBarBorderRadius(): number {\n    return this.api?._attrs.controlBarBorderRadius ?? 0;\n  }\n\n  public set controlBarBorderRadius(radius: number) {\n    this.api?._impl.setControlBarBorderRadius(Number(radius));\n  }\n\n  /**\n   * Returns the current time of the video as a decimal in seconds.\n   * @returns {number}\n   * @see https://wistia.com/support/developers/player-api#time\n   */\n  public get currentTime(): number {\n    return this.api?.time() ?? 0;\n  }\n\n  /**\n   * Sets the current time of the video as a decimal in seconds.\n   * @param {number} shouldSetAutoplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/player-api#time\n   */\n  public set currentTime(newTime: number) {\n    this.#_api?.time(newTime);\n  }\n\n  /**\n   * If set to true, the video will not automatically go to true fullscreen on a mobile device.\n   * The player will rotate, and the viewer can still click on the fullscreen option after rotating.\n   * @returns {boolean}\n   */\n  public get disableFullscreenOnRotateToLandscape(): boolean {\n    if (this.hasAttribute('disable-fullscreen-on-rotate-to-landscape')) {\n      return this.getAttribute('disable-fullscreen-on-rotate-to-landscape') !== 'false';\n    }\n\n    return (\n      this.api?._attrs.disableFullscreenOnRotateToLandscape ??\n      defaultEmbedOptions.disableFullscreenOnRotateToLandscape\n    );\n  }\n\n  /**\n   * If set to true, the video will not automatically go to true fullscreen on a mobile device.\n   * The player will rotate, and the viewer can still click on the fullscreen option after rotating.\n   * @param {boolean} shouldDisable\n   * @returns {void}\n   */\n  public set disableFullscreenOnRotateToLandscape(shouldDisable: boolean) {\n    this.setAttribute('disable-fullscreen-on-rotate-to-landscape', shouldDisable.toString());\n\n    if (this.api) {\n      this.api._attrs.disableFullscreenOnRotateToLandscape = shouldDisable;\n    }\n  }\n\n  /**\n   * return the status of the do not track embed option that controls whether the player\n   * sends tracking pings.\n   * @returns {boolean}\n   */\n  public get doNotTrack(): boolean {\n    return this.#isAttributePresentOrTrue('do-not-track');\n  }\n\n  /**\n   * When present the player will not send tracking events for stats.\n   * Note that this must be set at the time of embed to have any impact\n   */\n  public set doNotTrack(dontTrack: boolean) {\n    this.setAttribute('do-not-track', dontTrack.toString());\n\n    if (this.api) {\n      this.api._attrs.doNotTrack = dontTrack;\n    }\n  }\n\n  /**\n   * Returns the duration of the video in seconds.\n   * @returns {number}\n   */\n  public get duration(): number {\n    return this.api?._impl.duration() ?? 0;\n  }\n\n  /**\n   * Returns the email associated with this viewing session.\n   * If no email is associated, it will return undefined.\n   * NOTE: This attribute will impact the entire page and is not scoped to the player.\n   * @returns {string | undefined}\n   */\n  public get email(): string | undefined {\n    return (\n      this.getAttribute('email') ??\n      extractEmailFromParams(this.#pageUrl) ??\n      ((getWistiaLocalStorage() as WistiaLocalStorage)[this.#pageUrl]?.trackEmail as\n        | string\n        | undefined) ??\n      undefined\n    );\n  }\n\n  /**\n   * Associates the view of this media with the given email value.\n   * This email will appear in stats for the video.\n   * NOTE: This attribute will impact the entire page and is not scoped to the player.\n   * @param {string} newEmail\n   * @returns {void}\n   */\n  public set email(newEmail: string) {\n    if (this.email === newEmail) {\n      return;\n    }\n\n    this.setAttribute('email', newEmail);\n    this.#updateEmail(newEmail);\n  }\n\n  /**\n   * Returns the overridding embed host for the player.\n   * Internal use only.\n   * @returns {string}\n   */\n  public get embedHost(): string {\n    return this.getAttribute('embed-host') ?? '';\n  }\n\n  /**\n   * Sets the overridding embed host for the player.\n   * Internal use only.\n   * @param {string} newEmbedHost\n   * @returns {void}\n   */\n  public set embedHost(newEmbedHost: string) {\n    this.setAttribute('embed-host', newEmbedHost);\n  }\n\n  /**\n   * Returns whether the video has ended playback.\n   * @returns {boolean}\n   */\n  public get ended(): boolean {\n    return this.api?.state() === 'ended';\n  }\n\n  /**\n   * @returns { string } returns the current end video behavior value\n   */\n  public get endVideoBehavior(): string {\n    const value = this.getAttribute('end-video-behavior') ?? 'default';\n\n    if (['default', 'loop', 'reset'].includes(value)) {\n      return value;\n    }\n\n    return 'default';\n  }\n\n  /**\n   * @param {'default' | 'loop' | 'reset'} behavior set the behavior for what the video should\n   * do when it ends.\n   * @returns {void}\n   */\n  public set endVideoBehavior(behavior: 'default' | 'loop' | 'reset') {\n    // loop is a slightly odd option, as it's set as an attribute directly on the\n    // underlying <video /> element. So we must do more than just change the api._attrs\n    // for it to be updated.\n    if (behavior === 'loop') {\n      this.api?._impl.addLoopBehavior();\n    } else {\n      this.api?._impl.removeLoopBehavior();\n    }\n\n    this.setAttribute('end-video-behavior', behavior.toString());\n\n    if (this.api) {\n      this.api._attrs.endVideoBehavior = behavior;\n    }\n  }\n\n  public get eventKey(): string | undefined {\n    return this.api?._impl.eventKey();\n  }\n\n  /**\n   * If set to true, the fullscreen button control will appear in the control bar.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#fullscreenbutton\n   */\n  public get fullscreenControl(): boolean {\n    if (this.hasAttribute('fullscreen-control')) {\n      return this.getAttribute('fullscreen-control') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.fullscreenControl ?? defaultEmbedOptions.fullscreenControl;\n  }\n\n  /**\n   * enable or disable the fullscreen button control in the control bar.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#fullscreenbutton\n   */\n  public set fullscreenControl(shouldDisplay: boolean) {\n    this.setAttribute('fullscreen-control', shouldDisplay.toString());\n    this.api?._impl.fullscreenControlEnabled(shouldDisplay);\n  }\n\n  /**\n   * returns whether or not to hide the controls on load\n   * @returns {boolean}\n   */\n  public get hideControlsOnLoad(): boolean {\n    if (this.hasAttribute('hide-controls-on-load')) {\n      return this.getAttribute('hide-controls-on-load') !== 'false';\n    }\n\n    return this.api?._attrs.hideControlsOnLoad ?? defaultEmbedOptions.hideControlsOnLoad;\n  }\n\n  /**\n   * enable or disable the control on load.\n   * @param {boolean} shouldHide\n   * @returns {void}\n   */\n  public set hideControlsOnLoad(shouldHide: boolean) {\n    this.setAttribute('hide-controls-on-load', shouldHide.toString());\n\n    if (this.api) {\n      this.api._attrs.hideControlsOnLoad = shouldHide;\n      this.api._impl.renderUI();\n    }\n  }\n\n  /**\n   * returns whether or the copy link and thumbnail option from the context menu\n   * is available.\n   * @returns {boolean}\n   */\n  public get hideCopyLinkAndThumbnail(): boolean {\n    if (this.hasAttribute('hide-copy-link-and-thumbnail')) {\n      return this.getAttribute('hide-copy-link-and-thumbnail') !== 'false';\n    }\n\n    return (\n      this.api?._attrs.hideCopyLinkAndThumbnail ?? defaultEmbedOptions.hideCopyLinkAndThumbnail\n    );\n  }\n\n  /**\n   * enable or disable the copy link and thumbnail option from the context menu.\n   * @param {boolean} shouldHide\n   * @returns {void}\n   */\n  public set hideCopyLinkAndThumbnail(shouldHide: boolean) {\n    const prevVal = this.getAttribute('hide-copy-link-and-thumbnail');\n\n    if (this.api) {\n      this.api._attrs.hideCopyLinkAndThumbnail = shouldHide;\n    }\n\n    if (prevVal !== shouldHide.toString()) {\n      this.dispatchEvent(\n        new CustomEvent('hide-copy-link-and-thumbnail-change', {\n          detail: { hideCopyLinkAndThumbnail: shouldHide },\n        }),\n      );\n    }\n  }\n\n  /**\n   * Returns whether the video is currently in fullscreen\n   * @returns {boolean}\n   */\n  public get inFullscreen(): boolean {\n    return this.api?._impl.inFullscreen() ?? false;\n  }\n\n  /**\n   * Returns the hashed id of the media.\n   * @returns {string}\n   */\n  public get mediaId(): string {\n    return this.getAttribute('media-id') ?? '';\n  }\n\n  /**\n   * Replaces the content of the current video with the video identified by the given mediaId.\n   * @param {string} newMediaId\n   * @returns {void}\n   */\n  public set mediaId(newMediaId: string) {\n    const prevMediaId = this.mediaId;\n    this.setAttribute('media-id', newMediaId);\n\n    if (prevMediaId !== newMediaId) {\n      this.api?.replaceWith(newMediaId);\n    }\n  }\n\n  /**\n   * Returns if player is currently muted\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#muted\n   */\n  public get muted(): boolean {\n    if (this.hasAttribute('muted')) {\n      return this.getAttribute('muted') !== 'false';\n    }\n\n    return Boolean(this.#_api?._impl.isMuted());\n  }\n\n  /**\n   * Change player muted state\n   * @param {boolean} val\n   * @see https://wistia.com/support/developers/embed-options#muted\n   */\n  public set muted(val: boolean) {\n    if (val) {\n      void this.#_api?._impl.mute();\n      this.setAttribute('muted', '');\n    } else {\n      void this.#_api?._impl.unmute();\n      this.removeAttribute('muted');\n    }\n  }\n\n  /**\n   * Returns the name of the media as it is in the Wistia application.\n   * Returns undefined until media data is loaded.\n   * @returns {string | undefined}\n   */\n  public get name(): string | undefined {\n    return this.#mediaDataServerJson.name ?? this.api?._mediaData?.name ?? undefined;\n  }\n\n  /**\n   * Returns a boolean that indicates whether the video is paused.\n   * @returns {boolean}\n   */\n  public get paused(): boolean {\n    return this.api?.state() === 'paused';\n  }\n\n  /**\n   * Returns the percent of the video that has been watched as a decimal between 0 and 1.\n   * @returns {number}\n   */\n  public get percentWatched(): number {\n    return this.api?.percentWatched() ?? 0;\n  }\n\n  /**\n   * Returns the playback rate of the video.\n   * @returns {number}\n   */\n  public get playbackRate(): number {\n    return this.api?._impl.playbackRate() ?? 1;\n  }\n\n  /**\n   * Set the playback rate of the video.\n   * @param {number} rate\n   * @returns {void}\n   */\n  public set playbackRate(rate: number) {\n    this.api?._impl.playbackRate(rate);\n  }\n\n  /**\n   * If set to true, the playback rate control will appear in the setting control.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#playbackratecontrol\n   */\n  public get playbackRateControl(): boolean {\n    if (this.hasAttribute('playback-rate-control')) {\n      return this.getAttribute('playback-rate-control') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.playbackRateControl ?? defaultEmbedOptions.playbackRateControl;\n  }\n\n  /**\n   * enable or disable the playback rate control in the settings control.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#playbackratecontrol\n   */\n  public set playbackRateControl(shouldDisplay: boolean) {\n    this.setAttribute('playback-rate-control', shouldDisplay.toString());\n    this.api?._impl.playbackRateControlEnabled(shouldDisplay);\n  }\n\n  /**\n   * If set to true, the playbar - which includes the playhead, current time, and scrubbing functionality - will be available.\n   * @returns {boolean}\n   */\n  public get playBarControl(): boolean {\n    if (this.hasAttribute('play-bar-control')) {\n      return this.getAttribute('play-bar-control') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.playBarControl ?? defaultEmbedOptions.playBarControl;\n  }\n\n  /**\n   * If set to true, the playbar - which includes the playhead, current time, and scrubbing functionality - will be available.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   */\n  public set playBarControl(shouldDisplay: boolean) {\n    this.setAttribute('play-bar-control', shouldDisplay.toString());\n    this.api?._impl.playbarControlEnabled(shouldDisplay);\n  }\n\n  public get playerBorderRadius(): number {\n    return this.api?._attrs.playerBorderRadius ?? 0;\n  }\n\n  public set playerBorderRadius(radius: number) {\n    this.api?._impl.setPlayerBorderRadius(Number(radius));\n  }\n\n  /**\n   * Returns the base color of the player.\n   * @returns {string}\n   * @see https://wistia.com/support/developers/embed-options#playercolor\n   */\n  public get playerColor(): string {\n    return this.getAttribute('player-color') ?? defaultEmbedOptions.playerColor;\n  }\n\n  /**\n   * Changes the base color of the player.\n   * Expects a hexadecimal rgb string like ff0000 (red), 000000 (black), ffffff (white), or 0000ff (blue).\n   * @param {string} newColor\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#playercolor\n   */\n  public set playerColor(newColor: string) {\n    this._logger.info('set playerColor', newColor);\n    const prevPlayerColor = this.playerColor;\n    const finalHexColor = sanePlayerColor(newColor) as string;\n    this.setAttribute('player-color', finalHexColor);\n\n    if (prevPlayerColor !== finalHexColor) {\n      this.dispatchEvent(\n        new CustomEvent<PlayerColorChangeEventData>('playercolorchange', {\n          detail: { color: finalHexColor, prevColor: prevPlayerColor },\n        }),\n      );\n    }\n  }\n\n  /**\n   * Returns the overridding player.\n   * Internal use only.\n   * @returns {Players | undefined}\n   */\n  public get playerForce(): Players | undefined {\n    return (this.getAttribute('player-force') as Players | null) ?? undefined;\n  }\n\n  /**\n   * Sets the overridding player.\n   * Internal use only.\n   * @param {string} newPlayer\n   * @returns {void}\n   */\n  public set playerForce(newPlayer: Players) {\n    this.setAttribute('player-force', newPlayer);\n  }\n\n  /**\n   * Returns the strategy for associating specially crafted links on a page with a video, turning them into a playlist.\n   * auto: For each video on the page, look for links after the video, until we come to another Wistia video.\n   * manual: Given each link element, look at its container' option to determine which video it should connect to.\n   * \"container\": For all embed links in a container whose id matches this given string, connect them to this specific video.\n   * @returns {'auto' | 'manual' | string}\n   * @see https://wistia.com/support/developers/embed-links#advanced-embed-links-targeting\n   */\n  public get playlistLinks(): string {\n    return this.getAttribute('playlist-links') ?? '';\n  }\n\n  /**\n   * Sets the strategy for associating specially crafted links on a page with a video, turning them into a playlist.\n   * @param {'auto' | 'manual' | string} newStrategy\n   */\n  public set playlistLinks(newStrategy: string) {\n    this.setAttribute('playlist-links', newStrategy.toString());\n\n    if (this.api) {\n      this.api._attrs.playlistLinks = newStrategy;\n    }\n  }\n\n  /**\n   * When present or set to true and this video has a playlist, it will loop back to\n   * the first video and replay it once the last video has finished.\n   * @returns {boolean}\n   */\n  public get playlistLoop(): boolean {\n    return this.#isAttributePresentOrTrue('playlist-loop');\n  }\n\n  /**\n   * When present or set to true and this video has a playlist, it will loop back to\n   * the first video and replay it once the last video has finished.\n   */\n  public set playlistLoop(shouldLoop: boolean) {\n    this.setAttribute('playlist-loop', shouldLoop.toString());\n\n    if (this.api) {\n      this.api._attrs.playlistLoop = shouldLoop;\n    }\n  }\n\n  /**\n   * If set to true, the small play button control will be available.\n   * @returns {boolean}\n   */\n  public get playPauseControl(): boolean {\n    if (this.hasAttribute('play-pause-control')) {\n      return this.getAttribute('play-pause-control') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.playPauseControl ?? defaultEmbedOptions.playPauseControl;\n  }\n\n  /**\n   * If set to true, the small play button control will be available.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   */\n  public set playPauseControl(shouldDisplay: boolean) {\n    this.setAttribute('play-pause-control', shouldDisplay.toString());\n    this.api?._impl.playPauseControlEnabled(shouldDisplay);\n  }\n\n  /**\n   * By default, pausing a video will display a brief animation of the pause symbol\n   * and resuming the video will display an animation of the play symbol.\n   * Setting this embed option to false will remove those animations.\n   * @returns {boolean}\n   */\n  public get playPauseNotifier(): boolean {\n    if (this.hasAttribute('play-pause-notifier')) {\n      return this.getAttribute('play-pause-notifier') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.playPauseNotifier ?? defaultEmbedOptions.playPauseNotifier;\n  }\n\n  /**\n   * By default, pausing a video will display a brief animation of the pause symbol\n   * and resuming the video will display an animation of the play symbol.\n   * Setting this embed option to false will remove those animations.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   */\n  public set playPauseNotifier(shouldDisplay: boolean) {\n    this.setAttribute('play-pause-notifier', shouldDisplay.toString());\n    this.api?._impl.playPauseNotifierEnabled(shouldDisplay);\n  }\n\n  /**\n   * Overrides the thumbnail image that appears before the video plays.\n   * Expects an absolute URL to an image.\n   * @returns {string}\n   */\n  public get poster(): string {\n    return this.getAttribute('poster') ?? this.api?._attrs.poster ?? '';\n  }\n\n  /**\n   * Overrides the thumbnail image that appears before the video plays.\n   * Expects an absolute URL to an image.\n   * @param {string} newUrl\n   * @returns {void}\n   */\n  public set poster(newUrl: string) {\n    const prevUrl = this.poster;\n    this.setAttribute('poster', newUrl);\n    if (this.api) {\n      this.api._attrs.poster = newUrl;\n    }\n\n    if (prevUrl !== newUrl) {\n      this.dispatchEvent(new CustomEvent('thumbnailchange'));\n    }\n  }\n\n  /**\n   * Returns the preload setting for the player.\n   * @returns {string | undefined}\n   * @see https://wistia.com/support/developers/embed-options#preload\n   * undefined is allowed as a return type because there may be situations\n   * where the player and/or engine has not loaded and we don't know what\n   * preload setting will be used\n   */\n  public get preload(): string | undefined {\n    const value = this.getAttribute('preload') ?? '';\n\n    if (['auto', 'metadata', 'none'].includes(value)) {\n      return value;\n    }\n\n    return this.api?._impl.preloadValue();\n  }\n\n  /**\n   * sets the preload value for the player. Note that changing this option\n   * after player initialization has no impact.\n   * @param {'auto'| 'metadata' | 'none'} preloadValue\n   * @returns {void}\n   * @see https://wistia.com/support/developers/player-api#preload\n   */\n  public set preload(preloadValue: 'auto' | 'metadata' | 'none') {\n    if (this.api) {\n      this.api._attrs.preload = preloadValue;\n    }\n\n    this.setAttribute('preload', preloadValue.toString());\n  }\n\n  /**\n   * If set to true, the quality control will appear in the setting control.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#qualitycontrol\n   */\n  public get qualityControl(): boolean {\n    if (this.hasAttribute('quality-control')) {\n      return this.getAttribute('quality-control') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.qualityControl ?? defaultEmbedOptions.qualityControl;\n  }\n\n  /**\n   * enable or disable the quality control in the settings control.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#qualitycontrol\n   */\n  public set qualityControl(shouldDisplay: boolean) {\n    this.setAttribute('quality-control', shouldDisplay.toString());\n    this.api?._impl.qualityControlEnabled(shouldDisplay);\n  }\n\n  /**\n   * Return the max quality allowed for the 'Auto' asset in HLS playback\n   * @returns {number}\n   * @see https://wistia.com/support/developers/embed-options#qualityMax\n   */\n  public get qualityMax(): number | undefined {\n    if (this.hasAttribute('quality-max')) {\n      return Number(this.getAttribute('quality-max'));\n    }\n\n    // If no attribute is set, get the value straight from the api.\n    return this.api?._attrs.qualityMax;\n  }\n\n  /**\n   * Set the max quality to be used for \"Auto\" in the HLS stream.\n   * @param {number} quality\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#qualityMax\n   */\n  public set qualityMax(quality: AllowedQualities) {\n    this.setAttribute('quality-max', quality.toString());\n\n    if (this.api) {\n      this.api._attrs.qualityMax = quality;\n      this.api._impl.qualityMax(quality);\n    }\n  }\n\n  /**\n   * Return the min quality allowed for the 'Auto' asset in HLS playback\n   * @returns {number}\n   * @see https://wistia.com/support/developers/embed-options#qualityMin\n   */\n  public get qualityMin(): number | undefined {\n    if (this.hasAttribute('quality-min')) {\n      return Number(this.getAttribute('quality-min'));\n    }\n\n    // If no attribute is set, get the value straight from the api.\n    return this.api?._attrs.qualityMin;\n  }\n\n  /**\n   * Set the min quality to be used for \"Auto\" in the HLS stream.\n   * @param {number} quality\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#qualityMin\n   */\n  public set qualityMin(quality: AllowedQualities) {\n    this.setAttribute('quality-min', quality.toString());\n\n    if (this.api) {\n      this.api._attrs.qualityMin = quality;\n      this.api._impl.qualityMin(quality);\n    }\n  }\n\n  /**\n   * Returns the readyState of the inner video HTML element.\n   * @returns {number}\n   */\n  public get readyState(): number {\n    return this.api?._impl.getReadyState() ?? 0;\n  }\n\n  /* Returns the current state of the video.\n   * Returns the current resumable status of the video.\n   * @returns {'auto' | boolean}\n   * @see https://wistia.com/support/developers/embed-options#resumable\n   */\n  public get resumable(): boolean | string {\n    const attr = this.getAttribute('resumable');\n    if (attr === 'true') {\n      return true;\n    }\n\n    if (attr === 'false') {\n      return false;\n    }\n\n    // If not set explicitly, then we're 'auto' for resumable - which may or may not actually resume\n    return 'auto';\n  }\n\n  /**\n   * set the resumable state of the video to 'auto' | true | false.\n   * note that this can be changed 'beforeplay', however changing the\n   * value after play will have no effect\n   * @param {'auto' | boolean} resumableState\n   * @see https://wistia.com/support/developers/embed-options#resumable\n   */\n  public set resumable(resumableState: boolean | 'auto') {\n    this.setAttribute('resumable', resumableState.toString());\n\n    if (this.api) {\n      this.api._impl.setResumable(resumableState);\n    }\n  }\n\n  public get roundedPlayer(): number {\n    return this.api?._attrs.roundedPlayer ?? 0;\n  }\n\n  public set roundedPlayer(radius: number) {\n    this.api?._impl.setRoundedPlayer(Number(radius));\n  }\n\n  /**\n   * Returns the number of unique seconds that have been watched for the video.\n   * This does not include seconds that have been skipped by seeking.\n   * @returns {number}\n   */\n  public get secondsWatched(): number {\n    return this.api?._impl.secondsWatched() ?? 0;\n  }\n\n  /**\n   * Returns an array where each index represents the number of times the viewer has watched each second of the video.\n   * @returns {number[]}\n   */\n  public get secondsWatchedVector(): number[] {\n    return this.api?._impl.secondsWatchedVector() ?? [];\n  }\n\n  /* Returns whether JSON+LD seo data will be injected.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#seo\n   */\n  public get seo(): boolean {\n    if (this.hasAttribute('seo')) {\n      return this.getAttribute('seo') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api or use the default\n    return this.api?._attrs.seo ?? defaultEmbedOptions.seo;\n  }\n\n  /**\n   * Set whether JSON+LD seo data will be injected.\n   * Note that changing this value after embed has no impact as JSON+LD needs\n   * to be injected as soon as possible.\n   * @param {boolean} val\n   * @see https://wistia.com/support/developers/embed-options#seo\n   */\n  public set seo(val: boolean) {\n    this.setAttribute('seo', val.toString());\n\n    if (this.api) {\n      this.api._attrs.seo = val;\n    }\n  }\n\n  /**\n   * If set to true, the settings control will appear in the control bar.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#settingscontrol\n   */\n  public get settingsControl(): boolean {\n    if (this.hasAttribute('settings-control')) {\n      return this.getAttribute('settings-control') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.settingsControl ?? defaultEmbedOptions.settingsControl;\n  }\n\n  /**\n   * enable or disable the settings control in the control bar.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#settingscontrol\n   */\n  public set settingsControl(shouldDisplay: boolean) {\n    this.setAttribute('settings-control', shouldDisplay.toString());\n    this.api?._impl.settingsControlEnabled(shouldDisplay);\n  }\n\n  /**\n   * This option allows videos to autoplay in a muted state in contexts where normal autoplay\n   * is blocked or not supported (e.g. iOS, Safari 11+, Chrome 66+).\n   * allow: The video will default to normal autoplay, with silent autoplay as a fallback if needed.\n   * false: The video will not autoplay silently.\n   * true: The video will default to autoplaying silently.\n   * @returns {boolean | 'allow'}\n   */\n  public get silentAutoplay(): boolean | 'allow' {\n    switch (this.getAttribute('silent-autoplay')) {\n      case 'allow':\n        return 'allow';\n      case 'false':\n        return false;\n      case 'true':\n        return true;\n      default:\n        return this.api?._attrs.silentAutoplay ?? defaultEmbedOptions.silentAutoplay;\n    }\n  }\n\n  /**\n   * This option allows videos to autoplay in a muted state in contexts where normal autoplay\n   * is blocked or not supported (e.g. iOS, Safari 11+, Chrome 66+).\n   * @param {boolean | 'allow'} silentAutoplayValue\n   * @returns {void}\n   */\n  public set silentAutoplay(silentAutoplayValue: boolean | 'allow') {\n    if (this.api) {\n      this.api._attrs.silentAutoplay = silentAutoplayValue;\n    }\n\n    this.setAttribute('silent-autoplay', silentAutoplayValue.toString());\n  }\n\n  /**\n   * Returns the current state of the video.\n   * @returns {PlayerState}\n   * @see https://wistia.com/support/developers/player-api#state\n   */\n  public get state(): PlayerState {\n    return this.api?.state() ?? defaultEmbedOptions.state;\n  }\n\n  /**\n   * Returns the current state of the video.\n   * @returns {string | null}\n   */\n  public get statsUrl(): string | null {\n    if (this.hasAttribute('stats-url')) {\n      return this.getAttribute('stat-url');\n    }\n\n    return this.api?._attrs.statsUrl ?? null;\n  }\n\n  public set statsUrl(url: string) {\n    this.setAttribute('stats-url', url);\n\n    if (this.api) {\n      this.api._attrs.statsUrl = url;\n    }\n  }\n\n  /**\n   * If present, the background behind the video player will be transparent\n   * allowing the page color to show through instead of black.\n   * @returns {boolean}\n   */\n  public get transparentLetterbox(): boolean {\n    return this.#isAttributePresentOrTrue('transparent-letterbox');\n  }\n\n  /**\n   * Sets the letterbox to be transparent or not.\n   * @param {boolean} shouldSetTransparentLetterbox\n   * @returns {void}\n   */\n  public set transparentLetterbox(shouldSetTransparentLetterbox: boolean) {\n    if (shouldSetTransparentLetterbox) {\n      this.setAttribute('transparent-letterbox', '');\n    } else {\n      this.removeAttribute('transparent-letterbox');\n    }\n\n    if (this.api) {\n      this.api._attrs.transparentLetterbox = shouldSetTransparentLetterbox;\n    }\n  }\n\n  /**\n   * @returns {boolean} the value for the `use-web-component` attribute or property\n   */\n  public get useWebComponent(): boolean {\n    const val = this.getAttribute('use-web-component');\n\n    return val === 'true';\n  }\n\n  /**\n   * @param {boolean} val Value for the `use-web-component` attribute or property\n   */\n  public set useWebComponent(val: boolean) {\n    if (val) {\n      this.setAttribute('use-web-component', String(val));\n    } else {\n      this.removeAttribute('use-web-component');\n    }\n  }\n\n  public get videoQuality(): number | 'auto' {\n    if (this.api) {\n      return this.api._impl.getVideoQuality();\n    }\n\n    return 'auto';\n  }\n\n  public set videoQuality(quality: number | 'auto') {\n    this.api?._impl.setVideoQuality(quality);\n  }\n\n  /**\n   * get the current volume set on the player\n   * @returns {number}\n   * @see https://wistia.com/support/developers/embed-options#volume\n   */\n  public get volume(): number {\n    if (this.hasAttribute('volume')) {\n      const vol = this.getAttribute('volume');\n      if (vol !== null) {\n        return Number(vol);\n      }\n      return 1;\n    }\n\n    return this.api?._attrs.volume ?? 1;\n  }\n\n  /**\n   * get the current volume set on the player\n   * @param {number} level - a Number from 0 - 1\n   * @see https://wistia.com/support/developers/embed-options#volume\n   */\n  public set volume(level: number) {\n    this.setAttribute('volume', level.toString());\n    this.api?._impl.volume(level);\n  }\n\n  /**\n   * If set to true, the volume control will appear in the control bar.\n   * Note that on mobile, we never show a volume control, as the device\n   * volume is used.\n   * @returns {boolean}\n   * @see https://wistia.com/support/developers/embed-options#volumecontrol\n   */\n  public get volumeControl(): boolean {\n    if (this.hasAttribute('volume-control')) {\n      return this.getAttribute('volume-control') !== 'false';\n    }\n\n    // If no attribute is set, get the value straight from the api, or fallback to the default.\n    return this.api?._attrs.volumeControl ?? defaultEmbedOptions.volumeControl;\n  }\n\n  /**\n   * enable or disable the volume control in the control bar.\n   * @param {boolean} shouldDisplay\n   * @returns {void}\n   * @see https://wistia.com/support/developers/embed-options#volumecontrol\n   */\n  public set volumeControl(shouldDisplay: boolean) {\n    this.setAttribute('volume-control', shouldDisplay.toString());\n    this.api?._impl.volumeControlEnabled(shouldDisplay);\n  }\n\n  /**\n   * @returns {MediaData} object containing the final mediaData object that will be given to the PublicApi\n   */\n  get #mediaDataConfig(): MediaData {\n    const result = { ...this.#mediaDataServerJson };\n\n    const embedOptionsFromAttributes = { ...this.#getEmbedOptionsFromAttributes() };\n    // we want to strip any null/undefined embed options so they don't override\n    // anything from the mediaData response :/\n    const cleanEmbedOptions = Object.fromEntries(\n      Object.entries(embedOptionsFromAttributes).filter(([_k, val]) => !(val === null)),\n    );\n\n    result.embedOptions = {\n      ...result.embedOptions,\n      ...cleanEmbedOptions,\n    };\n\n    return result;\n  }\n\n  get #pageUrl(): string {\n    return this.getAttribute('page-url') ?? inferPageUrl();\n  }\n\n  // --------------------------------------------------\n  // Public api methods\n  // --------------------------------------------------\n\n  /**\n   * Adds a media to the playlist.\n   * @param {string} mediaId - the id of the media to add\n   * @param {object} options - embed options to apply for this media in the playlist\n   * @param {object} position - position to add the media in the playlist\n   * @returns {Promise<void>}\n   */\n  public async addToPlaylist(mediaId: string, options: object, position: object): Promise<void> {\n    if (this.api) {\n      this.api.addToPlaylist(mediaId, options, position);\n      return Promise.resolve();\n    }\n\n    return Promise.reject(new Error(`Playlist cannot be accessed`));\n  }\n\n  /**\n   * Attempt to enter fullscreen mode.\n   * @returns {Promise<void>}\n   * @see https://wistia.com/support/developers/player-api#cancelfullscreen\n   */\n  public async cancelFullscreen(): Promise<void> {\n    return this.api?._impl.cancelFullscreen();\n  }\n\n  /**\n   * Defines a plugin on the player.\n   * @param {string} name name of the plugin to define\n   * @param {object} options object of plugin options related to the specific plugin\n   * @returns {Promise<void>} returns a Promise that resolves with the defined plugin\n   */\n  public async definePlugin(name: string, options: object): Promise<void> {\n    const addPlugin = async (): Promise<void> => {\n      return (\n        this.api?.addPlugin(name, options) ??\n        Promise.reject(new Error(`plugin ${name} cannot be defined`))\n      );\n    };\n\n    if (this.api) {\n      return addPlugin();\n    }\n\n    return new Promise((resolve, reject) => {\n      const handler = () => {\n        this.removeEventListener('ready', handler);\n        addPlugin()\n          .then((plugin) => resolve(plugin))\n          .catch((err) => {\n            reject(err);\n          });\n      };\n\n      this.addEventListener('ready', handler);\n    });\n  }\n\n  /**\n   * Gets a plugin from the player.\n   * @param {string} name name of the plugin to retrieve\n   * @returns {Promise<void>} returns a Promise that resolves with the request plugin\n   */\n  public async getPlugin(name: string): Promise<void> {\n    if (this.api) {\n      return this.api.plugin(name);\n    }\n\n    return Promise.reject(new Error(`plugin ${name} is not yet defined`));\n  }\n\n  /**\n   * Attempts to load the media data from the server.\n   * Public so it can be mocked in tests.\n   * @param {number | string} mediaId\n   * @param {DynamicImportOptions} options\n   * @returns {void}\n   */\n  public async importMediaData(\n    mediaId: number | string,\n    options: DynamicImportOptions,\n  ): Promise<unknown> {\n    return dynamicImport(`embed/${String(mediaId)}.js`, options);\n  }\n\n  /**\n   * Pauses the video.\n   * If this is called and the videos state is playing,\n   * its expected that it will change to paused.\n   * @returns {Promise<void>}\n   */\n  public async pause(): Promise<void> {\n    return this.api?._impl.pause();\n  }\n\n  /**\n   * Plays the video.\n   * If this is called, it is expected that the state will change to playing.\n   * @returns {Promise<void>}\n   */\n  public async play(): Promise<void> {\n    return this.api?._impl.play();\n  }\n\n  /**\n   * Attempt to enter fullscreen mode.\n   * @returns {Promise<void>}\n   * @see https://wistia.com/support/developers/player-api#requestfullscreen\n   */\n  public async requestFullscreen(): Promise<void> {\n    return this.api?._impl.requestFullscreen();\n  }\n\n  // --------------------------------------------------\n  // Custom element lifecycle methods\n  // --------------------------------------------------\n\n  /**\n   * Called when an observed attribute has been added, removed, updated, or replaced.\n   * Also called for initial values when an element is created by the parser, or upgraded.\n   * Note: only attributes listed in the observedAttributes property will receive this callback.\n   * @param {string} name - The name of the attribute that changed.\n   * @param {string} oldValue - The previous value of the attribute, or null if it was added for the first time.\n   * @param {string} newValue - The new value of the attribute, or null if it was removed.\n   * @returns {void}\n   */\n  protected attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n    // We need this to make sure we don't needlessly call api methods during initial component setup\n    if (!this.#hasElementConnectedToDOM) {\n      return;\n    }\n\n    if (oldValue === newValue) {\n      return;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (oldValue === null && newValue === '') {\n      return;\n    }\n\n    // Attribute names must match their corresponding property names (kebab-case -> camelCase)\n    // So the player-color attribute maps to the playerColor property\n    this[this.#kebabToCamelCase(name)] = newValue;\n  }\n\n  protected connectedCallback(): void {\n    const mediaId = this.getAttribute('media-id');\n    if (mediaId == null) {\n      throw new Error('media-id attribute is required');\n    }\n\n    const options: DynamicImportOptions = {};\n\n    if (this.#getValueFromAttribute('embed-host') !== null) {\n      options.host = this.embedHost;\n    }\n\n    // if we're coming from a legacy E-v1.js embed, it is likely to already have JSONP on the page.\n    // use the old init flow.\n    if (this.useWebComponent) {\n      const embedOptions = this.#getEmbedOptionsFromAttributes();\n\n      // Create and save the public api instance\n      this.#initPublicApi(mediaId, { ...embedOptions, container: this.id });\n    } else {\n      // Generate a unique id for this embed\n      this.id = this.#generateId(mediaId);\n\n      // Sometimes if an attribute is set on the player, we want to do something immediately\n      this.#runMethodsFromAttributes();\n\n      const domOptions = Object.fromEntries(\n        Object.entries(this.attributes).map(([, value]) => [\n          this.#kebabToCamelCase(value.name),\n          this.#getValueFromAttribute(value.name),\n        ]),\n      );\n      setEmbedOptionStore(`__${this.id}_dom_options__`, domOptions);\n\n      this.importMediaData(mediaId, options)\n        .then((module: PublicApiOptions) => {\n          const { mediaData } = module;\n          this.#mediaDataServerJson = mediaData;\n\n          // Create and save the public api instance\n          this.#initPublicApi(mediaId, {\n            mediaData: this.#mediaDataConfig,\n            container: this.id,\n          });\n        })\n        .catch((error: Error) => {\n          throw new Error(error.message);\n        });\n    }\n\n    // Add our responsive embed template to the shadow DOM\n    if (this.shadowRoot) {\n      this.shadowRoot.appendChild(this.#createEmbedTemplate().content.cloneNode(true));\n    }\n\n    this.#hasElementConnectedToDOM = true;\n  }\n\n  // --------------------------------------------------\n  // Private methods\n  // --------------------------------------------------\n\n  /**\n   * Creates a template for the embed code\n   * @returns {HTMLTemplateElement}\n   */\n  #createEmbedTemplate(): HTMLTemplateElement {\n    const template = document.createElement('template');\n\n    // web components always default to display: inline, which we don't want.\n\n    const fastHost = cdnFastWistiaComHost(this.embedHost);\n    const swatchUrl = `https://${fastHost}/embed/medias/${this.mediaId}/swatch`;\n\n    template.innerHTML = /* html */ `\n      <style>\n        :host {\n          display: block;\n          position: relative;\n          height: ${this.#paddingTop};\n        }\n      </style>\n\n      <div\n        style=\"height: 100%; left: 0; position: absolute; top: 0; width: 100%\"\n        class=\"wistia_swatch\"\n      >\n        <div\n          style=\"height: 100%; position: relative; width: 100%\"\n        >\n          <div\n            style=\"\n              height: 100%;\n              left: 0;\n              overflow: hidden;\n              position: absolute;\n              top: 0;\n              width: 100%;\n            \"\n          >\n            <img\n              src=\"${swatchUrl}\"\n              style=\"filter: blur(5px);\n               height: 100%; \n              object-fit: contain; width: 100%\"\n              alt=\"\"\n              aria-hidden=\"true\"\n              onload=\"this.parentNode.style.opacity=1;\"\n            />\n          </div>\n        </div>\n      </div>\n\n  `;\n\n    return template;\n  }\n\n  /**\n   * Generates a unique id for the embed\n   * @param {number | string} mediaId - The media id\n   * @returns {string}\n   */\n  #generateId(mediaId): string {\n    let index = 1;\n    let candidate = `wistia-${mediaId}-${index}`;\n\n    while (document.getElementById(candidate)) {\n      index += 1;\n      candidate = `wistia-${mediaId}-${index}`;\n    }\n    return candidate;\n  }\n\n  /**\n   * Gets the embed options from the element's attributes\n   * @returns {Record<string, boolean | number | object | string | null>}\n   */\n  #getEmbedOptionsFromAttributes(): Record<string, boolean | number | object | string | null> {\n    return WistiaPlayer.observedAttributes.reduce(\n      (acc: Record<string, boolean | number | object | string | null>, attr) => {\n        // Automatically convert kebab-case attributes to camelCase embed options\n        acc[this.#kebabToCamelCase(attr)] = this.#getValueFromAttribute(attr);\n\n        // Add any additional legacy embed options which don't exist in Aurora\n        acc.videoFoam = !(this.style.width || this.style.height);\n\n        return acc;\n      },\n      {},\n    );\n  }\n\n  /**\n   * Gets the value of an attribute if it exists, returns null if not\n   * @param {string} name - Name of the attribute\n   * @returns {boolean | string | null}\n   */\n  #getValueFromAttribute(name: string): boolean | string | null {\n    if (this.hasAttribute(name)) {\n      // Boolean attributes are set to '' when they are present\n      // so we need to convert them to true\n      return this.getAttribute(name) === '' ? true : this.getAttribute(name);\n    }\n\n    // If no attribute is present, return null instead of an explicit false\n    // so our media data config doesn't get overridden\n    return null;\n  }\n\n  /**\n   * Initializes the public api instance and sends a ready event\n   * @param {number | string} mediaId - The media id\n   * @param {EmbedOptions | PublicApiOptions | undefined} options - The public api options\n   * @returns {void}\n   */\n  #initPublicApi(\n    mediaId: number | string,\n    options: EmbedOptions | PublicApiOptions | undefined,\n  ): void {\n    const { Wistia } = window;\n    if (!Wistia?.PublicApi) {\n      throw new Error('Wistia.PublicApi is not defined');\n    }\n\n    this.#_api = new Wistia.PublicApi(mediaId, options) as PublicApi;\n\n    this.api?.ready(() => {\n      this.dispatchEvent(new CustomEvent('ready', { detail: { mediaId, api: this.#_api } }));\n    });\n  }\n\n  /**\n   * Checks if an attribute is present and is not set to false\n   * @param {string} name - Name of the attribute\n   * @returns {boolean}\n   */\n  #isAttributePresentOrTrue(name: string): boolean {\n    return (\n      this.#getValueFromAttribute(name) !== 'false' && this.#getValueFromAttribute(name) !== null\n    );\n  }\n\n  /**\n   * Takes a string in kebab-case and converts it to camelCase\n   * This is a pretty generic helper function, so it could be moved to a utility file if needed\n   * @param {string} kebabString - String in kebab-case\n   * @returns {string}\n   */\n  #kebabToCamelCase(kebabString: string): string {\n    return kebabString.replace(/-./g, (word) => word[1].toUpperCase());\n  }\n\n  /**\n   * Runs any methods associated with set attributes when the element is connected to the DOM\n   * @returns {void}\n   * @private\n   */\n  #runMethodsFromAttributes(): void {\n    if (this.#getValueFromAttribute('email') !== null) {\n      this.#updateEmail(this.#getValueFromAttribute('email') as string);\n    }\n  }\n\n  /**\n   * Saves new email within localstorage and dispatches an emailchange event\n   * @param {string} email - The new email\n   * @returns {void}\n   * @emits {EmailChangeEventData}\n   * @private\n   */\n  #updateEmail(email: string): void {\n    updateWistiaLocalStorage((localStorage: WistiaLocalStorage) => {\n      const updatedLocalStorage = { ...localStorage };\n      updatedLocalStorage[this.#pageUrl] = {\n        ...localStorage[this.#pageUrl],\n        trackEmail: email,\n      };\n    });\n    this.dispatchEvent(\n      new CustomEvent<EmailChangeEventData>('emailchange', {\n        detail: { email },\n      }),\n    );\n  }\n}\n\nif (customElements.get('wistia-player') === undefined) {\n  customElements.define('wistia-player', WistiaPlayer);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// E-v1 is the legacy \"Wistia Library.\" It is currently used out in the wild\n// by our customers so we need to keep it around for backwards compatibility.\n\nimport '../embeds/media/modules/_legacy_modules.js';\nimport './embed.js';\n\nlet eV1Found = false;\n\nconst logWarning = () => {\n  console.warn(\n    'E-v1.js is not being hosted from a \"fast.wistia\" host. Self-hosting, making static copies of this script, or including this script in an optimizer may cause embeds to stop functioning. Check Wistia\\'s Help Center for more information.',\n  );\n};\n\nconst scripts = document.getElementsByTagName('script');\nfor (let i = 0; i < scripts.length; i++) {\n  const s = scripts[i];\n  if (s.src) {\n    const url = new window.URL(s.src);\n\n    // Check that this is definitely our script.\n    const pathIsEv1 = /\\/assets\\/external\\/E-v1?\\.js$/.test(url.pathname);\n\n    if (pathIsEv1) {\n      eV1Found = true;\n\n      if (url.hostname.includes('fast.wistia') === false) {\n        logWarning();\n      }\n    }\n  }\n}\n\n// E-v1.js was not found at all, meaning the script has been totally renamed\nif (eV1Found === false) {\n  logWarning();\n}\n"],"names":["n","l","u","t","o","f","e","c","s","a","parentNode","removeChild","h","i","r","arguments","length","children","call","defaultProps","v","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","p","d","this","context","_","indexOf","k","base","b","push","g","__r","debounceRendering","setTimeout","sort","some","__P","j","__n","ownerSVGElement","z","w","y","x","C","Array","isArray","m","A","N","M","appendChild","nextSibling","insertBefore","$","setProperty","test","H","style","cssText","replace","toLowerCase","slice","addEventListener","T","I","removeEventListener","removeAttribute","setAttribute","event","contextType","value","__E","prototype","render","O","sub","state","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","current","unmount","componentWillUnmount","P","firstChild","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","root","Wistia","W","_initializers","_destructors","mixin","klass","obj","_objectHasOwn","rootTest","self","window","err","globalThis","activeDOMEvent","detect","cachedDetect","elemHtml","elem","content","cssTags","getCssTags","scriptTags","getScriptTags","removeCssTags","removeScriptTags","execCssTags","execScriptTags","htmlStr","match","parentElem","inserted","cssTag","matches","link","className","body","head","addInlineCss","domTarget","css","target","styleElem","id","seqId","styleSheet","elemFromObject","result","tagName","val","dashedKey","isObject","styles","split","pair","evt","callback","elemBind","innerText","toString","childObj","child","elemAppend","elemToObject","elemKeys","Object","keys","attr","styleKeys","prop","getAttribute","nodeValue","elemClone","par","includes","shadowRoot","wistiaGridCaller","elemPrepend","elemBefore","sibling","reverse","elemAfter","elemRemove","NodeList","elemRemoveClass","elemHasClass","regexp","RegExp","concat","newClassString","normalizeClassName","elemAddClass","returnValue","eachIndexOf","index","classBeginningFound","charAt","endsWidthClass","classInMiddle","BREAK_IDENTIFIER","str","needle","fn","elemClasses","elemStyle","_len","args","_key","node","apply","currentStyle","getComputedStyle","getPropertyValue","wlog","notice","propsWithVendorPrefixes","VENDORED_PROPERTIES","borderImage","mixBlendMode","transform","transition","transitionDuration","VENDOR_PREFIXES","chrome","prefixes","prefixedProp","toUpperCase","computed","elemWidth","innerWidth","documentElement","offsetWidth","html","Math","max","scrollWidth","clientWidth","parseFloat","elemHeight","innerHeight","offsetHeight","scrollHeight","clientHeight","elemContainsOffset","left","top","offset","elemOffset","right","bottom","elemScrollOffset","curLeft","curTop","offsetParent","scrollTop","scrollLeft","elemIsHidden","elemInDom","getRootNode","host","elemIsDescendantOf","ancestors","elemAncestors","elemAncestorWithClass","elemAncestorHasClass","elemIsInside","ancestor","elemAnimate","undefined","options","merge","time","easing","transitions","join","getTransitionProp","safeRequestAnimationFrame","useCapture","eventShim","pageX","pageY","clientX","clientY","docScrollLeft","docScrollTop","preventDefault","stopPropagation","cancelBubble","which","charCode","keyCode","button","srcElement","_len2","_key2","elemUnbind","_elemBind","elemBindKey","_wistiaElemId","_wistiaBindId","elemUnbindAll","elemUnbindAllInside","container","count","elemRebind","elemBindOnce","_len3","_key3","elemTrigger","_len4","customArguments","_key4","dispatchEvent","eventObj","createEvent","initEvent","fireEvent","error","fullscreenElement","webkitFullscreenElement","elemRequestFullscreen","requestFullscreen","webkitEnterFullscreen","elemCancelFullscreen","exitFullscreen","webkitExitFullscreen","elemStripEventAttributes","elemMutationObserver","mutationObserver","docBody","docElem","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","formInputIsFocused","activeElement","isContentEditable","inUserEventContext","getLastActiveEventAt","lastActiveEventAt","Date","now","passiveSupported","capture","passive","aps","obj1","mergeOne","obj2","transformerFn","identityFunc","shouldDeleteFn","legacyShouldDeleteFromMerge","clone","getDeep","parts","create","lastP","lastObj","shift","setDeep","setAndMaybeDeleteUndefined","setAndPreserveUndefined","shouldDeleteUndefined","pop","unsetDeep","exists","cast","maybeStr","castDeep","castStr","defaultRet","parseInt","only","hash","keyHash","except","select","arr","keyPairs","isFn","filterFn","matching","MultipleValues","anyMatch","values","sortBys","ret","pieces","sortBy","dir","filter","thisArg","ctx","ARR_REGEXP","OBJ_REGEXP","isFunction","REGEXP_REGEXP","isRegExp","BASIC_TYPE_REGEXP","isBasicType","isEmpty","isSubsetDeep","eachLeaf","obj1LeafVal","path","equalsDeep","eachDeep","parent","newPath","pick","assignOne","objs","assign","isDocReady","readyState","onDocReady","timeout","doScroll","poll","runFnOnComplete","clearTimeout","giveUpTimeout","unbindListeners","cond","interval","failFn","pollTimeout","start","getTime","pollFn","doc","win","unbind","onPageLoad","onLoadTimeout","isPassiveSupported","na","navigator","userAgent","rwebkit","ropera","redge","rmozilla","randroid","riphone","rwinphone","rios","rps3","rblackberry","rfirefox","rgearvr","riosVersion","browser","browserMatch","browserVersion","documentMode","android","version","iphone","touchScreen","iosVersion","ipad","hoverIsNatural","mediaQueryList","matchMedia","media","blackberry","maxTouchPoints","safari","vendor","chromeVersion","silkVersion","opera","iosMatch","versionMatch","edge","firefox","html5Video","canPlayType","h264","webm","nativeHls","ogg","localStorage","browserPrefixes","defineProperty","get","_detectCache","uncachedDetect","chromeBrowser","firefoxBrowser","edgeBrowser","operaBrowser","isChromeDesktopSupported","isChromeAndroidSupported","isFirefoxDesktopSupported","isFirefoxAndroidSupported","isEdgeSupported","isOperaSupported","modernBrowser","testEl","amazonSilk","gearvr","oldandroid","winphone","ios","windows","platform","mac","linux","retina","devicePixelRatio","ps3","video","mediaSource","MediaSource","isTypeSupported","localstorage","json","JSON","parse","backgroundSize","webkitBackgroundSize","mozBackgroundSize","oBackgroundSize","fullscreenEnabled","mozFullScreenEnabled","webkitFullscreenEnabled","msFullscreenEnabled","vulcanSupport","Boolean","defineProperties","callingPlayRequiresEventContext","webp","LOG_LEVELS","ERROR","WARNING","NOTICE","INFO","DEBUG","warning","info","debug","NOOP","Logger","messages","log","warn","_len5","_key5","initializedAt","reset","lproto","level","grep","grepv","first1000LogLines","last1000LogLines","setLevel","logFunc","setGrep","setGrepv","matchedGrep","matched","messageStrings","message","fullLine","matchesGrep","matchesGrepv","performance","toFixed","messagesToLogLine","cappedLine","logLine","e1","persistLine","withinLevel","notDebug","globalTrigger","Error","stack","_toConsumableArray","logError","_len6","_key6","console","logWarn","_len7","_key7","logInfo","_len8","_key8","logDebug","_len9","_key9","logLog","func","noConsoleLog","maybePrefix","prefix","getPrefixedFunctions","_this","_len10","_key10","_len11","_key11","_len12","_key12","_len13","_key13","_len14","_key14","_len15","_key15","wlogCtx","makeWbindable","globalBind","bind","globalOn","on","off","rebind","trigger","bindable","specialBind","bindify","specialUnbind","_bindings","specialBindResult","specialUnbindResult","_bindify$trigger","bindNamed","unbindNamed","unbindAllInNamespace","bindings","boundFn","all","triggerImpl","unbinds","_throwTriggerErrors","initNamespace","namespace","_namedBindings","fnKey","setNamedBinding","entry","getNamedBinding","namedBindings","_isBoxModel","isBoxModel","box","paddingLeft","width","defaultView","getBoundingClientRect","clientTop","clientLeft","pageYOffset","pageXOffset","zoom","elemZoom","height","parentElement","scriptTagsToRunScriptsInput","hashes","_loop","scriptTag","src","async","eval","runScripts","then","findScriptInDomBySrc","targetSrc","getElementsByTagName","ignoreQueryParams","scriptRegex","ignoreProtocol","testStartsWith","removeScriptsBySrc","onload","onreadystatechange","onerror","runScript","alreadyExists","Promise","resolve","once","runScriptWithPromise","catch","msg","scripts","scriptInputsToHash","asyncScripts","syncScripts","scriptPromises","script","_objectSpread","promise","reduce","prev","reject","cleanupTimeoutId","done","cleanUp","loadingTimeout","onSuccess","suffix","currentVal","_sequenceVal","_remoteData","fetchFreshMediaDataJson","hashedId","url","mediaDataUrl","fetch","response","fetchMedia","cachedData","dataFromCache","abTestMediaSelector","newUrl","URL","password","searchParams","append","idType","mediaWithOpts","mediaData","cacheMedia","transformResponse","countMetric","_mediaWithOpts$media","transformOpts","embedOptions","unnamed_assets","mediaDataTransforms","mediaDataHost","eV1Protocol","mediaDataScriptRegExp","protocolMatch","location","protocol","cdnFastWistiaComHost","cdnFastWistiaNetHost","cacheMediaData","cacheAbTest","uncacheMedia","uncacheMediaData","removeSpeedDemonScriptAndData","mediaFromCache","abTestFromCache","resultFromFetchCache","speedDemonData","responseData","missingVideos","eligibleMediaDatas","control","variant","_m$media","savedHashedId","selectedMedia","coinFlipResult","cryptoRandom","mathRandom","localStorageKey","winnerHashedId","wlocalStorage","crypto","getRandomValues","Uint8Array","random","Number","savedMedia","trackingData","numberOfMedias","coinFlip","agent","selectedHashedId","stringCryptoRandom","String","send","APP_WISTIA_COM","appHostname","CDN_FAST_WISTIA_COM","DEFAULT_PROTOCOL","sslOrNonSsl","sslHost","nonSslHost","deliveryHost","__SSL_EMBED_HOST__","__EMBED_HOST__","prodAkamaiHost","__PROD_AKAMAI_SSL_HOST__","__PROD_AKAMAI_HOST__","appHost","embedHost","__FAST_HOSTNAME__","cdnFastWistiaCanaryHost","__FAST_HOSTNAME_CANARY__","eV1Url","Url","pathIsEv1","rawPath","hasKnownHost","usesHttpsIfRequired","isProtocolRelative","protoIsSane","scriptHasLoaded","urlProto","eV1Host","eV1HostWithPort","port","forceValidFastWistiaHost","metricsHost","__METRICS_HOST__","VALID_PRODUCTION_HOSTS","VALID_PRODUCTION_HOSTS_R","map","proto","href","queryParamsToObject","raw","debrack","decodeURIComponent","existing","urlComponentToObject","objectToQueryParams","leafVal","encodeURIComponent","brack","splitPath","part","joinPath","URL_CONSTRUCTOR_KEYS","params","fromOptions","fromRaw","uproto","opt","rawUrl","setPath","rawParams","anchor","ext","isRelative","loc","hostname","relative","absolute","protocolPart","portPart","pathPart","_hasTrailingSlash","paramPart","relativeAnchor","authority","relativeProtocol","anchorPart","createUrl","parseUrl","__HOSTNAME__","_localStorage","getWistiaLocalStorage","setOrGet","updateWistiaLocalStorage","ls","removeLocalStorage","removeWistiaLocalStorage","WISTIA_NAMESPACE","getLocalStorage","updateLocalStorage","throwAsync","OBJ_PROP","localStorageWorks","ns","_localStorageWorks","getItem","removeItem","setItem","getMemory","setLocalStorage","stringify","_metricsCache","METRICS_CACHE","extraData","toMput","requestId","messageObj","request_id","serialized","doTimeout","pageLoaded","msend","isVisitorTrackingEnabled","method","mode","headers","sample","_timeouts","timeoutNamespace","clearTimeouts","timeouts","timeoutId","blockSweepTimeouts","sweepTimeouts","dotIndex","substring","legacyIsEnabled","_visitorTrackingDomain","_visitorTracking","visitorTrackingEnabled","isEnabled","updatedAt","visitorTracking","consent","setVisitorTrackingEnabled","domain","isEnabledVal","domainParts","enabledVal","isCurrentDomainOrAnyParentDomainsEnabled","apis","api","channel","_mediaData","_galleryData","privacyMode","transformedMedia","allowOriginalAsMp4","original","assets","readyPublicOver400","display_name","codec","maybeCloneOriginalAsMp4","asset","convertStillImageToWebp","FAILED","QUEUED","PROCESSING","READY","FILTER_KEYS","qualityMin","qualityMax","withinQualityRange","filterOptions","selectFn","sortFn","unique","uniqHash","bucket","one","readyPublicMp3s","status","public","readyPublicMp4s","readyPublicM3u8s","filterOver400","vbitrateInRange","opt_vbitrate","widthInRange","nonfailedPublicOver400","quality","numericSizeSnapped","tmpWidth","aspect","pixels","findClosestAssetByQuality","exactMatch","surroundingAssets","nearestOutsideRange","videoAspect","round","_surroundingAssets","_slicedToArray","lowerAsset","upperAsset","abs","still","stillAsset","channelArtworkStill","thumbnailAssets","stillUrl","stillAspect","videoWidth","videoHeight","playButton","FAST_HOSTNAME","channelArtwork","stillWidth","playerColor","stillSnap","stillHeight","image_play_button_size","getStillWidth","stillAssetWidth","isBakeryUrl","__PROD_FAST_HOSTNAME_COM__","__PROD_SSL_EMBED_HOST__","image_crop_resized","image_play_button","image_play_button_color","potentialStillWidths","availableStillWidths","BAKERY_HOSTS","__AKAMAI_HOST__","__AKAMAI_SSL_HOST__","__PROD_EMBED_HOST__","__PROD_FASTLY_SSL_HOST__","onePublicReadyWithContainer","mp4","m3u8","playable","originalAspect","derivativeAspect","candidateAspect","smallestNormalMp4","opt1","opt2","urlWithCorrectHost","assetUrl","Hosts","parsedUrl","lower","upper","sortedAssets","assetSize","moveToFront","toFront","splice","unshift","_simpleMetricsCache","_simpleMetricsDebounceInterval","sendMetric","sendMetrics","sampleMetric","seen","WeakSet","has","add","_msendTimeout","_clearMetricsCache","interFontFamily","interNumbersSemiBold","standardSvgAttrs","_ref","_ref$styleOverride","styleOverride","_ref$ariaHidden","ariaHidden","viewBox","fill","strokeWidth","_isMouseDown","onMouseDown","_lastMouseDownAt","defaultPrevented","onMouseUp","_lastMouseUpAt","contextHandler","isMouseDown","_mouseDownForceReturnVal","isMouseDownRecently","languages","translations","_translationPromises","dummyTextArea","supportedLanguages","defineLanguage","code","text","decodeEntities","defineTranslations","getLanguage","keyValPairs","translation","cachedDecodings","getTranslation","withFallbackText","getLanguagePreference","language","languagePreference","getDefaultTranslation","matchingLanguage","langCode","isFullMatch","partialLangCode","isPartialMatch","matchingLanguages","dynamicImport","moduleClass","languageCode","languageLabel","loadAndDefineTranslation","PLAY","PLAY_BUTTON_LIVE_NOT_STARTED","PLAY_BUTTON_TITLE_WHEN_NOT_PLAYING","PLAY_BUTTON_TITLE_WHEN_PLAYING","REWATCH","SKIP","_regeneratorRuntime","hasOwnProperty","Symbol","iterator","asyncIterator","toStringTag","define","enumerable","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","isNaN","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","_next","_throw","_callee","filePath","_options$host","_args","_context","import","_x","base64Decode","input","atob","charCodeAt","base64Encode","btoa","p1","fromCharCode","parentFramesLength","frames","wait","previous","later","leading","remaining","trailing","unescapedCache","unescapeHtml","encodedHtmlStr","cache","cachedVal","logger","EventLoop","_timeoutId","_latency","latency","_blurLatency","blurLatency","_functions","_paused","blur","focus","EventLoopPrototype","_this2","_loopFn","runFunctions","resync","resyncNextTick","_this3","clear","_pausedDirty","updatePaused","toRemove","timeSinceLastRun","lastRanAt","paused","remove","addedAt","fnResult","_this4","forEachMatchingKey","key1IncludesKey2","pause","unpause","isPaused","exactKey","superKey","key1","key2","_blurred","_savedLatency","eventLoop","globalEventLoop","DEFAULT_REGEX","whitelist","pageUrlStr","regex","referrer","embedOptionName","backgroundResetStyles","defaultResetStyles","color","display","float","font","margin","padding","position","buttonResetStyles","border","outline","joinHashAsStyles","pairs","resetDeclarations","cssResetForSelector","prefixSelector","suffixSelector","trim","line","startOfPropsIndex","selectorString","declString","selector","expandLine","_Component","_inherits","CustomEventsWrapper","_super","_createSuper","_classCallCheck","_defineProperty","_assertThisInitialized","onSwipe","onPinch","onLongPress","onTouchMove","onCustomTouchMove","TagName","_extends","elemRef","_savedBase","setupBindings","destroyBindings","touchEvents","TouchEvents","destroy","Component","rootElem","rootWidth","rootHeight","rootOffset","resetTouchContext","touches","xDown","yDown","updatePinch","touchesAreInsideRootElem","startedAt","onTouchMoveDocument","onTouchEndDocument","onTouchEnd","getTouchContext","maybeTriggerMoreSpecificEvent","_handledByTouchMove","xUp","yUp","xDiff","yDiff","isPinch","sqrt","isSwipe","_handledByTouchEnd","unbindTouchEndAndTouchMove","initialPinchDistance","touch1","touch2","pinchDistance","pinchScale","onTouchStart","pow","pinchDelta","timeDelta","touch","xOffset","yOffset","xDelta","yDelta","absXDelta","absYDelta","delta","isTap","isLongPress","touchIsInsideRootElem","RawHTMLStub","class","stubRef","mount","destroyControl","_destroyed","callUnbinds","eventListeners","Map","eventListenerFn","eventName","embedElement","callRemoveEventListeners","removeRootElem","unmountReactMounts","unsetObjectProperties","renderNothingForReactMount","reactMount","containerElem","renderedElem","reactMounts","mountName","__prevProps","_controlDefinitions","defineControl","getControlDefinitions","controlClass","origin","pathname","durationStringToSeconds","duration","durationString","isValidDurationString","getValueForDurationKey","flexibleDuration","total","_secondsConverter","secondsConverter","hours","minutes","seconds","padNumber","formattedDurationToSeconds","dur","isValidIso8601","iso8601TimeToSeconds","accessibilityDuration","_secondsConverter2","zeroHours","zeroMinutes","hoursText","minText","humanReadableDuration","_secondsConverter3","string","TRIM_REGEXP","measure","doMeasuresRepeat","measures","isProperOrder","measureStr","sequence","areMeasuresInOrder","num","format","useHours","useMinutes","floor","getSecondsRemaining","end","stringVal","multipliers","addend","trimmedVal","secondsToIso8601Date","createdAt","year","getFullYear","month","getMonth","day","getDate","secondsToIso8601Duration","totalSeconds","secondsToIso8601Time","rHex","rRgb","rPercent","hexBit","p2v","hue2rgb","Color","stripped","substr","min","_h","_s","_l","q","alpha","blendChannel","steps","looksLikePercent","lightness","lightenChannel","lighten","_hslFromRgb","_rgbFromHsl","toHex","toRgba","toHexWithAlpha","toPercent","getLocalStorageKey","getLastTime","lastTime","setLastTime","getResumableKeyForVideo","resumableKey","setResumableKeyForVideo","atOrNearEnd","atOrNearBeginning","shorterThanResumableThreshold","withinResumableTime","ProgressIndicator","filledWidth","isDisplayNone","isOpaque","widthTransitionShouldDelay","maybeFadeInOrOut","prevProps","prevState","wasVisible","isVisible","prevFilledWidth","maybeChangeFilledWidth","fadeTimeout","_this$state","backgroundColor","fadeIn","fadeOut","percentWatched","_this$state2","scale","opacity","_this5","unfilledBarStyle","onTransitionEnd","removeTransitionDelay","filledBarStyle","initEventLoop","destroyEventLoop","Judy","createAndSetupWebComponent","handleReceivedMediaData","optionsFromElemClass","setEmbedOptionStore","translateEmbedOptionKeyValuePairForWebComponent","embed","_embed","containerId","domOptions","originalContainer","ref1","ref2","transformOptions","wistiaPlayerComponent","flushInitQueue","mediaResp","getElementById","useWebComponent","_convertingToAurora","translationApi","PublicApi","webComponent","entries","translatedKey","translatedValue","embedEngine","judyContext","doEmbed","enginePath","buildContext","bestUsableEngine","mod","engine","EngineClass","errorCallback","cachedDefaultContext","wlogRaw","AUTO","EXTERNAL","HLS_VIDEO","HTML5","MANUAL_QUALITY_VIDEO","NATIVE_HLS_VIDEO","NOT_PLAYABLE","PASSWORD_PROTECTED","SIMPLE_HTML5","TWO_STROKE_VIDEO","VULCAN_V2","SPHERICAL_VIDEO","PLAYERS","PLUGIN_CONFIGS","notPlayableVideo","initBeforeHasData","loadWeight","vulcanV2Player","hlsVideo","nativeHlsVideo","passwordProtectedVideo","encodingProgress","externalPlayer","html5Player","bestPlayer","isSpherical","isSphericalVideo","canUsePlayer","mediaType","allowHls","shouldServeHls","isTwoStrokeVideo","secondaryVideoUrl","bestUsableEngineClass","engines","SimpleAudio","TwoStrokeVideo","NativeHlsVideo","HlsVideo","ManualQualityVideo","overrides","pageUrl","contextUrl","getDefaultContext","canPlayInline","player","isSupportedPlayer","hasAssetsForPlayer","choosePlayer","playerForce","playerPreference","determinePlayerPreferenceFromInput","isValidPlayer","isPasswordProtected","isNotPlayable","opts","FreshUrl","originalUrl","platformPreference","isMobile","doesBrowserSupportHlsTools","hasPromise","enginesToLoad","engineNames","secondaryOptions","secondaryEnginesToLoad","secondaryMediaData","tmpHash","engineName","inIframe","silenceGlobalWarnings","wistiaSilenceGlobalWarnings","getPluginConfig","pluginName","hasReadyVideoAssets","hasReadyAudioAssets","hasEnoughReadyMp4Assets","mp4Assets","metadata","max_bitrate","hasSupportedHlsAssets","hlsOverrideValue","paramVal","hlsQueryParamValue","localStorageVal","wlocalstorage","hls","isBrowserInNativeAndroid","playsinline","nativeMode","isBrowserOldChrome","isHlsEnabled","overrideValue","hls_enabled","_ref2","assetsArentReady","pluginOpts","_mediaInfo$mediaData","_mediaInfo$opts","mediaInfo","overrideSpherical","mediaDataSpherical","spherical","optsSpherical","supportedPlayers","logWarnings","isHeadless","xhrHasBeenTamperedWith","urlHasBeenTamperedWith","playerPlugins","plugins","pluginNames","report","playerPreferenceFromInput","usablePlayers","candidates","createObjectURL","XMLHTTPREQUEST_CONSTRUCTOR_RE","XMLHTTPREQUEST_CONSTRUCTOR_IN_SAFARI_9_RE","XMLHttpRequest","constructorString","optionClasses","OPTION_PREFIX","GLOBAL_ID_KEY","getEmbedOptionStore","wData","apiHandleFromKey","getOneApiHandle","matchedKey","find","getOrSetEmbedOptionStore","optionsKey","wRemoveData","getAllApiHandles","matcher","_container","_container2","_getAllApiHandles$","query","matchedHandle","_handle$hashedId","_handle$container","startsWith","apiHandles","_apiHandle$container","apiHandle","HTMLElement","wistiaApi","getAllApiHandlesByDomOrder","legacyHandles","from","getAllApiEmbedElements","accumulator","legacyContainer","wistiaPlayerHandles","querySelectorAll","allWistiaEmbedElements","_elem$lastChild","lastChild","nodeName","_commandQueueOpen","WeakMap","_wistiaPlayerComponent","TranslationApi","wpComponent","_classPrivateFieldInitSpec","_classPrivateFieldSet","SG","StopGo","_classPrivateFieldGet","mediaId","_classPrivateFieldGet2","_classPrivateFieldGet3","addToPlaylist","_classPrivateFieldGet4","synchronize","cancelFullscreen","newEmail","_classPrivateFieldGet5","email","callbackFn","embedded","legacyEmbeddedCallback","_classPrivateFieldGet6","eventKey","hasData","legacyHasDataCallback","_classPrivateFieldGet7","inFullscreen","muted","_classPrivateFieldGet8","_this6","_this7","play","newRate","_this8","playbackRate","_this9","ready","legacyReadyCallback","_classPrivateFieldGet9","_classPrivateFieldGet10","_this10","secondsWatched","secondsWatchedVector","newTime","_this11","currentTime","_classPrivateFieldGet12","seekComplete","_classPrivateFieldGet11","_classPrivateFieldGet13","_this12","_classPrivateFieldGet15","_classPrivateFieldGet14","isNumber","_impl","_this13","videoQuality","_classPrivateFieldGet17","_classPrivateFieldGet16","_window$Wistia","visitorKey","_this14","volume","_queue","_green","_lock","allInOne","_allInOne","defineMethodsOn","getType","results","flush","goArgs","tryAndReport","_block","_debug","fns","len","synchronizeFn","stopBlocking","stopBlockingTimeout","wrapperFn","go","runFn","clearSynchronized","setQueue","run","removeFn","targetFn","newQueue","getQueue","rest","when","fn1","lastFn","stopGo","stopGos","theFn","_drainStopGosAsync","asyncChain","throttle","embeds","setup","embedElems","notEmbedding","doEmbedding","e2","functions","newId","uninitialized","hashedIdForElem","asyncOnly","contains","genIdFor","containerIsInitialized","watchForInit","_setupThrottled","ref3","ref4","ref5","ref6","ref7","ref8","candidate","IframeApiProxy","initialized","uuid","_data","observe","config","initObserver","mutations","addedNodes","len1","mutation","subtree","childList","unobserve","disconnect","unpoll","watch","_dontWatch","dontWatch","unwatch","flushInit","wistiaInit","addQueue","queueName","_queueNames","_wqBoundListeners","apiForPlayerType","fnQueue","queue","ran","thisElement","_isFlushingInitQueue","revoke","revokeQueueListener","__unbinds","baseArgs","onFind","onHasData","onEmbedded","onReady","runWhenHasData","getInitQueueListeners","listener","toRevoke","_pollInit","IframeApi","_apiHandles","_iframeHandles","signature","iframe_api","runIfMatch","wistiaEmbeds","each","_asyncInitSoonAfterLoad","delay","initAsyncEmbeds","base1","base2","_inWistiaIframe","destroyAsyncEmbeds","_step","_iterator","_createForOfIteratorHelper","lastStopGo","EmbedListener","_Array","bindHandles","pruneZombies","_bound","allUnboundHandles","_i","_Array$from","saved","_i2","_Array$from2","allBoundHandles","looksDown","asc","_i3","_Array$from3","_i4","_Array$from4","allHandles","_i5","_Array$from5","iframeApiHandles","iframes","_i6","_Array$from6","iframe","vidHash","runWhenUp","up","_wrapNativeSuper","initEmbedShepherd","_window$wistiaEmbedSh","_window","_window$wistiaEmbeds$","_window$wistiaEmbeds","wistiaEmbedShepherdReady","destroyEmbedShepherd","_window$wistiaEmbeds2","mux","initMux","_setup","shouldRandomDisableMux","cryptoObj","msCrypto","Uint32Array","_disabled","onFindApiHandle","ALL_API_HANDLES_KEY","shouldDisableMux","wistiaDisableMux","_opts","init","destroyMux","_all$v$mux","INIT_EMBED_EVENT","AFTER_REPLACE_EVENT","WistiaPlayerElementAddedObserver","onFindApiFunctionsList","onFindApiEventCallbacksList","runFunctionOnAnyEmbedType","wistiaPlayer","_wistiaPlayer$wistiaA","setAndReturnEventListeners","runIfMatchCallback","detail","addedNode","onFindApiFunction","onFindApiEventCallback","runOnExistingEmbeds","cleanupCallbacks","legacyEmbeds","webComponentEmbeds","setupOnFindForExistingEmbeds","cleanupCallback","wistia","logLevels","stacktrace","logHelpers","_log","logFn","_logPrefix","initWLog","_pageUrl$params","_referrerUrl","_referrerUrl$params","_pageUrl$params2","_referrerUrl2","_referrerUrl2$params","_pageUrl$params3","_referrerUrl3","_referrerUrl3$params","referrerUrl","wgrep","wgrepv","destroyWLog","initDetect","me","embedOptionsFromQueryParams","extractEmailFromParams","generateRelativeBlockCss","getPluginsNotInList","getViewerPreferences","inferPageUrl","inferQualityRangeFromOpts","injectJsonLd","insertIntoArray","maybeLoadAndSetupEmbedLinksThrottled","oldTrigger","pluginScriptsToLoad","prefetchEngineAndPlugins","ref10","ref11","ref12","ref13","ref9","removeInjectedJsonLd","sanePlayerColor","toArray","uniqId","Assets","doInit","ref14","_definePluginMethod","_doResize","_doMonitor","_initWithMediaData","_allocEmbedSlot","_hasImpl","_notReplacing","hasPlugins","down","inViewport","_implVersion","_playlistIndex","_attrs","controls","_pluginStopGos","_givenOptions","_playlist","_setupContainer","_setupTranslationApiForLegacyEmbeds","_validate","_inferPropertiesBeforeMediaData","_dedupContainer","_addToGlobalCache","_setupBindings","looksUp","_wvideoInUrl","_scrollToContainer","popover","showAndPlay","monitor","_onInitializable","_withFreeEmbedSlots","cacheKey","isJsonPScriptAlreadyInDom","matchUrl","parsed","_initTime","_hasDataTime","_embeddedTime","_readyTime","removeSwatch","_gatherOptions","_shouldBePopover","show","hide","Popover","CustomEvent","error1","_defaultPlayerBorderRadius","roundedPlayer","playerBorderRadius","_defaultBigPlayButtonBorderRadius","bigPlayButtonBorderRadius","_defaultControlBarBorderRadius","controlBarBorderRadius","floatingControlBar","_defaultControlBarDistance","freeSlotTimeout","_setupEmbedSlots","_freeEmbedSlot","_embedSlotThrottleInterval","_freeEmbedSlotOnError","_embedSlotFree","_embedSlots","_maxEmbedSlots","videoCount","_shouldLazyLoad","lazyLoad","implVersion","newPlayerType","optionSources","Player","Metrics","isRemoved","_displayServerError","_originalMediaData","_optionSources","inline","_hashedId","mergeMediaData","_inferPropertiesAfterMediaData","judyCtx","_playerPlugins","_execPlugins","ref15","classFor","grid","setupGrid","initDimensions","_embedContainer","_runMethodsFromOptions","_getFadeInTime","gridChildren","prefetchNextMedia","_injectJsonLd","fadeInTime","_judyCtx","_inIframe","wvideo","_jsonLdId","playerType","seo","_setDeprecatedProperties","trackEmail","embedType","customPlugins","_pluginScripts","plugin","_setFnForDefinedPlugins","_execQueue","customizeOptions","inferredOptions","inlineOptions","queryParamOptions","givenOptions","_inferPageUrl","customize","global","dom","viewerPreferences","channelPreferences","override","optionSourceOverrides","_mergeSources","sources","_normalizeOptions","isAudio","isLiveMedia","twitter","playButtonVisible","_containerId","_startingHtml","querySelector","tabindex","overflow","boxSizing","mozBoxSizing","webkitBoxSizing","_popoverContainer","role","_popoverSize","playlistLoop","startingWidth","startingHeight","nonHdAsset","popoverSize","lastPlayerColor","playerColorDidChange","urlEmail","shouldTrack","doNotTrack","seekThreshold","prevColor","autoplay","autoPlay","bigPlayButton","disableFullscreenOnRotateToLandscape","fullscreenOnRotateToLandscape","endVideoBehavior","fullscreenControl","fullscreenButton","hideControlsOnLoad","controlsVisibleOnLoad","hideCopyLinkAndThumbnail","copyLinkAndThumbnailEnabled","playbackRateControl","playBarControl","playbar","playerBackgroundColor","playlistLinks","playPauseControl","smallPlayButton","playPauseNotifier","poster","preload","qualityControl","resumable","settingsControl","silentAutoplay","silentAutoPlay","statsUrl","transparentLetterbox","wmode","volumeControl","controlBarDistance","noDeprecatedProperties","isClosedPopover","shouldDelayUntilPlay","foreignData","playerLanguage","videoFoam","controlScaling","mute","unmute","suppressPlay","_playSuspendedOffScreenEnabled","_visible","lazy","playSuspendedOffScreen","isMuted","errors","_errors","errorResponse","baseUrl","_implExec","methodName","_originalMethod","_implGet","defaultReturn","_implSetOrGet","_implPromise","_commandQueueImplPromise","commandQueueOpen","rebuild","fullRebuild","replaceWith","force","inPlace","rebuildAs","inlineOptionsOnly","replaceWithFn","gatheredOpts","optsForFetch","replaceFn","_replaceWithMediaData","_replaceWithMediaDataQueuable","inPlacePreference","oldImpl","oldImplStopGo","ref16","ref17","resolveOldImplStopGo","transitionTime","playlistIndex","_inPlaylist","_playlistIndexOf","playlistShouldAutoAdvance","_playlistShouldAutoAdvance","_tracker","stopMonitoring","_clobberVideoBindings","_savedState","_suspended","wipeOutstandingAsyncFunctions","_embedOptions","freezeLastFrame","stopStreaming","removePlugins","ref18","transferStateFrom","_replaceMode","initFrom","_embedWithTransitionFrom","_allowContainerMatch","containerWidth","constrain","more","whenAutoPlayOrEmbedded","unbindPlay","lastPlayInfo","isPending","slideOutLeft","slideInLeft","slideOutRight","slideInRight","center","zIndex","_replacing","ref19","ref20","ref21","_intersectionObserver","_foamDummyElem","_unbindListeners","unsetWistiaApiOnContainer","__wistiaStores","swatch","fullRemove","embedContainer","popoverContainer","_throttleTriggerViewport","_saveState","suspend","_inNativeMode","_suspendPlayBinding","_suspendSeekBinding","unsuspend","newState","seekOptions","isSuspended","_nextEmbedOrPlaylistLoop","_width","_videoWidth","_height","_videoHeight","_isInViewportNow","IntersectionObserver","isIntersecting","nextVideo","embedNext","embedIndex","offsetBottom","offsetTop","scrollBottom","scrollTopDistance","_pauseEventLoop","_unpauseEventLoop","previousVideo","_setTransitionOptions","playlistTransition","playlistTransitionTime","extra","embedPrevious","hashedIds","positionOptions","after","before","prefetchMedia","setPlaylist","setPlaylistShouldAutoAdvance","bool","_inLegacyPlaylist","addPlugin","hasPlugin","_inject","turnOffPluginApis","removePlugin","fit","containerHeight","_getScreenScrolls","dimensions","viewHeight","_getEmbedVisibilityMetrics","containerDimensions","screenScrolls","screen_scrolls","ratio_of_screen","screen_width","screen","screen_height","_getPageTitle","pageTitle","title","_getBrowserLanguage","_goToDownState","_stateBeforeDown","_lastState","_goToUpState","_ignoreUp","_doSizing","checkForReady","_checkDownState","_removeHandleIfGoneFromDOM","_doFoam","dims","distanceFromEdge","newHeight","newVideoHeight","newVideoWidth","newWidth","parentWidthNow","smallestDim","winAspect","winHeight","winWidth","_parentBoxSizing","visibility","_lastParentWidth","_didFoam","extraWidth","heightForWidth","extraHeight","maxHeight","widthForHeight","maxWidth","minHeight","minWidth","_allowFoam","isResponsive","dontMonitorSize","_doContainerMatch","heightNow","widthNow","_lastWidth","dontChangeContainer","_lastHeight","fixedSizeTooBigForWindow","_debounceDoMonitor","setValue","_transformAndUpdateMediaData","onMediaDataChanged","t1","t2","onCrossTime","unbindOnCrossTime","betweenTimes","unbindBetweenTimes","afterT","setupTimeoutFromNow","setupTimeoutFromNowIfClose","suspendTimeoutIndefinitely","timeoutKey","_onCrossTimeBindings","onTimechange","timeKey","withinInterval","_betweenTimeBindings","audioDescriptionControlEnabled","bigPlayButtonEnabled","bigPlayButtonTimeEnabled","cancelOverlay","captureCurrentFrame","closeTabMenu","createControl","defineOverlay","enterInputContext","exitInputContext","fullscreenControlEnabled","getBuffered","getFocusedChapter","getInputContext","getMediaElement","getMediaType","getOverlays","getRegion","getSelectedCaptions","captions","hideControls","humanDuration","ieSizeHack","inSilentPlaybackMode","isResumableEnabled","lastPauseInfo","layout","look","mp4Asset","_wasPlayerLanguageSetViaApi","openChaptersTab","openShareTab","openTabMenu","openTranscriptTab","originalAsset","playbarControlEnabled","playbackRateControlEnabled","playPauseControlEnabled","qualityControlEnabled","requestOverlay","releaseChromeless","releaseControls","requestChromeless","requestControls","selectableQualities","selectedQuality","setFocusedChapter","settingsControlEnabled","shouldResume","showControls","timeInHumanDuration","timeInIso8601Duration","undefineOverlay","qual","volumeControlEnabled","whenVideoElementInDom","chaptersEnabled","chaptersVisibleOnLoad","addChapter","getChapter","removeChapter","chapters","customerLogo","setControlEnabled","isControlDisabled","isControlEnabled","whenControlMounted","getControl","getEmail","getEventKey","getVisitorKey","setEmail","setPlayerColor","removeReadyFn","isKeyboardFocused","lastEmail","fd","_foreignData","tracker","transmit","VulcanPlayer","VulcanV2Player","Html5Player","ExternalPlayer","NotPlayablePlayer","PasswordProtectedPlayer","ua","_triggerNoImpl","AUDIO","PLUGIN_LIST","filteredPlugins","embedOptionsFromMediaData","mediaDataPlugins","pluginOptions","allPlugins","chosenPlayer","pluginScripts","pluginScriptsFromDefinedPlugins","airplayButton","airplay","transformedPluginScripts","translatePlugins","chaptersOn","getSourceName","showCustomerLogo","customerLogoImageUrl","enableCustomerLogo","branding","wistiaLogo","orderScripts","isPluginSupported","srcName","newPluginOptions","allow3rdParty","existingPluginOptions","inputScripts","weight","allowThirdParty","engineModule","pluginsPromise","prefetchPlugins","enginePromise","scriptsNotFetched","_prefetched","generateEmbedUrl","_mediaData$embedOptio","shouldAddKeyMoments","shouldAddClipsFromChapters","videoThumbnail","generateContentUrl","highestQuality","jsonLdObj","thumbnailUrl","contentUrl","embedUrl","uploadDate","description","seoDescription","generateAudioJsonLd","transcript","chapterList","normalizeChapters","hasPart","clipsFromChapters","potentialAction","seekToAction","generateVideoJsonLd","stringified","jsonLd","_wistia","existingScripts","existingScript","el","keyMoments","turnstilePlugin","isLiveStream","passwordEnabled","turnstileBlocksContent","persistentTurnstile","mediaDuration","clips","chapterExistsAtTime","deleted","sortedFilteredChapters","chapter","floorTime","endOffsetTime","wtime","endOffset","startOffset","_exec","_exec2","wemail","exec","wkey","base64Email","_window$FreshUrl","setViewerPreference","preference","copyLegacyLsOnce","legacyLsKey","legacyChannelLsKey","legacyLs","lsKey","copied","getChannelStorage","destroyEmbedLinks","EmbedLink","EmbedLinkClass","_onEv1Destroy","conditionallyLoadAndSetUpEmbedLinks","videos","shouldLoadEmbedLinks","module","_module$EmbedLink","setupAll","DEFAULT_QUALITY_MAX","assetSizeShorthandToNumeric","size","generateHtml","_attributes","result1","_document","_document$documentEle","_document2","_document2$body","_document3","_document3$documentEl","_document4","_document4$body","thing","splitOn","ALLOWABLE_DIMENSION_DELTA","publicApi","_baseEventLoopDuration","_eventLoopDuration","transferFacadeProperties","objKeys","propName","propVal","playing","notFullscreen","resetStateVariables","setupPercentTracking","_recordFirstEmbedIfEligible","_this2$engine","_currentAsset","mp4Aspect","_options","enabled","_this$cleanup","cleanup","_v$cleanup","_disableTextTracks","_this5$elem","textTracks","track","_this$_tracker","above","below","_shortAnimArgs","fade","dontFit","fitVertical","fitHorizontal","_this$chrome","_this$engine","_this$engine$getMedia","_this$engine2","_this$engine2$getMedi","buffered","sector","isGridElem","qualityOptions","lastH","wrapper","main","marginTop","prevHeight","constrainToHeight","subContainer","setupPipedreamTracking","_iphoneAsset","_muted","bestAsset","_original","newName","_name","_secondsWatchedTracker","ceil","embedCode","implContainer","wrapperElem","rate","_this$engine3","getPreload","_this$engine4","_this$engine5","_this$_attrs","_oldVideoElem","_this$engine6","_this$grid","cleanupRefs","handleError","_this13$engine","_lastTimePosition","_streamSet","_issuedPlay","_issuedPause","_beforePlay","_hasPlayed","_waiting","_ended","Event","setControlBarDistance","setFloatingControlBar","setPlayerBorderRadius","setBigPlayButtonBorderRadius","setControlBarBorderRadius","renderUI","createGrid","_trackPercent","SecondsWatchedTracker","maxWatchingPlaybackRate","currentSecond","trackSecond","lastPercentWatched","_percentWatchedThreshold","_this15","videoElement","assetBuckets","availablePlayers","available_players","countEventOnce","countShowLoadingOnce","countShowLoadingAll","countShowLoadingLongTimeOnce","countShowLoadingLongTimeAll","animate","_this16","slide","_this17","_this18","_this19","forReal","_suppressPlay","_this$_mediaData","_this$_mediaData$embe","_this20","_this21","_trimSettings","_isPlayingSilently","lastW","prevWidth","constrainToWidth","_this$_tracker2","_this22","volumeAttr","_resolve","marginLeft","_remoteMediaKey","_isOnWistia","classList","_isLoggedIn","_this23","_thresholds","untriggeredThresholds","percentWatchedRounded","threshold","_this$_mediaData2","accountKey","firstEmbedForAccount","firstShareForAccount","firstExternalEmbed","_isExternallyEmbedded","firstShare","_isShared","payload","account_key","media_hashed_id","first_embed","first_share","_this24","remote","resp","_newStill","_replaceStillAsset","assetsWithoutStill","assetsWithinQualityRange","bakeryHosts","_this$_embedContainer","_this$publicApi","getOwnPropertyNames","_this$publicApi2","Video","lastTimeChangeAt","timeChangeAt","playbarDragEndAt","playedAt","onTimeChange","onPlaybarDragEnd","onPlay","second","doTrack","shouldIgnoreTrack","_secondsWatched","_totalWatched","_totalRewatched","isScrubbing","delayedScrubTimeout","eventLoopDuration","justReleasedPlaybar","justPlayed","_this$video$_impl","lastPlaybarDragEndAt","_onFullscreenChange","Elem","initFullscreenTriggers","destroyFullscreenTriggers","BandwidthTest","minKbps","timeoutLength","freshFor","_this$_testXhr","_testXhr","abort","_testStart","open","testFileUrl","setRequestHeader","fail","_testDataLoaded","_onTestXhrProgress","loaded","_onTestXhrLoaded","succeed","_sampleKbps","_supportsHd","saveResult","_suspiciouslyFast","_reportSuspiciousBandwidthTest","_location","_location$protocol","_location2","_location2$hostname","bw_test_time","_testTime","visitor_key","connection_type","connectionType","_testEnd","_kbps","_this$_testXhr4","_this$_testXhr2","_this$_testXhr3","saveKey","supportsHd","clientKbps","_this$savedResult","savedResult","VideoTrackerLocalStorage","VideoTrackerSession","convertIsUniqueValue","getUTMParams","campaign","utm_campaign","medium","utm_medium","source","utm_source","VideoTracker2","publicApi1","eventQueue","initializedOnce","monitoring","_setStartValues","utmParams","transmitInterval","trackingTransmitInterval","NUM_BUCKETS","conversions","clockStart","_played","lastRecordedTime","lastSeekTime","lastSecondsWatched","lastBucket","_getAccountKey","_getEnabledEmbedOptions","keyToPluginName","turnstile_enabled","annotation_link_enabled","call_to_action_enabled","eventbrite_enabled","hubspot_form_enabled","marketo_form_enabled","auto_play_enabled","looping_enabled","event_details","page_title","browser_language","foreign_data","media_duration","media_id","mediaKey","media_type","_mediaType","referrer_url","resumable_key","session_id","utm_params","visitor_version","videoTrackerLocalStorage","getVisitorVersion","event_version","player_type","enabled_embed_options","visibility_metrics","videoTrackerSession","fetchSessionData","anonymizeIp","conversionType","conversionData","channelId","episodeId","projectId","initialize","_failedEventsQueue","_retryTimer","_retryInterval","recordLoad","debounceTransmit","onPlaybackRateChange","recordPlay","onPause","onEnd","onSeek","lastT","onPercentWatchedThreshold","onPercentWatchedChanged","removeBindings","distilleryUrl","sendToDistillery","readyToTrack","action","uniquePlayedRatio","uniquePlayedTime","ping","timeInVideo","lastAccountInstance","lastLoadForAccount","lastMediaInstance","lastLoadForMedia","isUnique","lastPlayForAccount","lastPlayForMedia","addPlayedTime","addBuckets","playedTime","endTime","endBucket","_timeToBucket","startBucket","logConversionOpportunity","co_key","is_new_lead","isNewLead","logAction","providedDetails","defaultDetails","category","uniqueToVisitor","logCaptionSelection","caption_key","logChapterClick","logShareClick","secondsSinceTime","lastFetchTime","secondsWatchedTracker","EVENT_KEY_REFRESH_INTERVAL","withRefresh","event_key","seconds_watched","binding","_eventKey","isValidKey","exports","timeValue","nullToNone","_lastLoadForAccount","_lastLoadForMedia","_lastPlayForAccount","_lastPlayForMedia","lastRecordingOfActionForMedia","actionKey","recordLastActionForMedia","_saveVisitorVersion","clearActionRecordings","externalEmbedHost","assetHost","MediaData","playlist","PlaylistData","_remotePlaylist","fetchPlaylist","playlistId","videoSend","videoSample","_video$hasData","_video$bandwidthTest","_video$_mediaData","_video$_attrs","_video$_tracker","_video$_tracker2","_video$_tracker3","_video$videoElem","_video$videoElem$buff","currentAsset","_video$elem","_video$data","bandwidth","bandwidthTest","at","video_id","embed_type","client_kbps","supports_hd","in_iframe","device_pixel_ratio","window_width","window_height","video_width","video_height","event_time_delta","channelName","errorState","_cacheStatus","cache_status","_assetServer","asset_server","_cacheHit","cache_hit","in_fullscreen","_substream","substream","adaptive","current_level","currentLevel","all_level_names","allLevelNames","hls_error_counts","hlsErrorCounts","asset_type","asset_slug","slug","bitrate","asset_height","asset_width","videoElem","bufferedFrom0","_timeToFirstByte","time_to_first_byte","totalBuffered","played","totalPlayed","accountSpecificMetrics","countEvent","videoObj","statsName","_private","countEventCallbacks","mkCountEventCallback","countEventOnceCallbacks","mkCountEventOnceCallback","sampleEvent","sampleEventCallbacks","mkSampleEventCallback","lastDuration","connection","mozConnection","webkitConnection","sumTimeRanges","timeRanges","sum","millisecondsSince","timeMsec","Plugin","Base","instances","register","audio","initPlugin","initPluginNow","pluginQueue","pluginHandle","defaultSrc","_allow3rdParty","name1","_queueUndefinedPlugins","subScripts","results1","_init","instance","klassName","_instance","pluginUuid","_remove","_isActive","_defined","gridify","gridifyCss","gridId","gridifyHtml","createGridSkeleton","initGridEventListeners","initGridDimensions","addTrackingForGrid","originalAppendChild","originalAppend","originalPrepend","prepend","_hasTrackedGrid","trackGridAppend","gridRoot","gridCss","_arr","sectionName","allNodesHidden","nodes","zeroEmptySections","_arr2","section","fontSize","lineHeight","wrapperHeight","wrapperWidth","th","bh","lw","rw","iframeInit","iframe1","loadIframeApi","_loaded","proxyFn","maybeRequireIframeApi","wistiaIframes","wistiaIframeApiProxy","onIframePostMessage","VisitorKey","DISTILLERY_PREFIX","_v$_postDownVisitorTr","_postDownVisitorTrackingEnabled","_W$_destructors$destr","_W$_destructors","unpersist","persist","__FINGERPRINT_SHA__","_readyPromise","savedValue","generate","newValue","isValid","_value","wistiaDisableCookies","localStorageValue","clearFromCurrentDomain","initVisitorKey","destroyVisitorKey","_W$visitorKey","initSpecificTime","_location$href$match","_specificTimeInitiated","foundAVideo","_video$popover","Interpolation","seedRange","seedFunction","seedStart","outputStart","val1","outputEnd","val2","linear","_seedRange","_seedFunction","_outputStart","_outputEnd","_easing","_seedStart","seed","_valOrFn","easingArgs","ratio","seedDelta","_wq","integrations","hasAnyIntegrations","runIntegrationsSetup","initializeOnce","initializeEveryTime","destroyGlobals","wistiaDispatch","wistiaBindIframes","wistiaInitQueue","reinitialize","_initialized","_Video","_enabledControls","_visibilityRequests","_inputContextsToEnter","_playerContext","_overlays","setupBehaviors","_isKeyboardFocused","setupTracking","loadLastFrameCanvasControl","unbindBeforeReplace","PlayPauseLoadingCircleControl","SkipAheadControl","SkipBackControl","techInfo","TechInfoControl","SphericalControl","CaptionsV3Control","LastFrameCanvasControl","addBehaviors","BandwidthTestBehavior","EmbedBehavior","FullscreenBehavior","MetricsBehavior","PlaySuspendedOffScreenBehavior","PlaybackErrorHandlingBehavior","ProblemMonitoringBehavior","RelayEventsBehavior","addBehavior","ResumableBehavior","AudioUIBehavior","UIBehavior","behaviors","removeBehavior","LiveMediaTracker","_dummyVideo","ui","lastRenderPromise","onWidthChange","onHeightChange","impl","fullscreen","skipFocus","initializeEngine","setupVideoBindings","initEngineAfterEmbedded","BehaviorClass","callInit","behavior","behaviorClasses","_controlScaling","prevControlScaling","_get","_getPrototypeOf","setTimeEnabled","settingsButton","setPlaybackRateEnabled","setQualityEnabled","requester","maybeToggleControls","activeBufferRange","_this$engine$activeBu2","range","rangeBuffered","sequentialBufferedRange","_this$behaviors$fulls","removeBehaviors","getCurrentQuality","changeQuality","audioTrackId","changeAudioTrack","bestEngine","getAudioTracks","audioTracksForVideo","allHlsAudioAssets","getCurrentAudioTrack","clickedBeforeReady","rejectPlay","_isPlayPending","_lastPlayType","_lastPlayRejectedAt","_lastPlaySource","currentEventSource","_lastPlayIssuedAt","_lastPlayResolvedAt","_calledPlay","_mozillaAtEnd","setCurrentTime","playOptions","isInitializingFromUnmuted","playType","_inSilentPlaybackMode","_isPausePending","_lastPauseSource","_lastPauseIssuedAt","_startPosition","seekOnPlay","relayEvents","fireTimeChangedEventsIfChanged","_seekPromise","seek","getCurrentTime","Infinity","getDuration","effectiveDuration","fakeEngine","cuts","trimEnd","trimStart","getDurationAfterCuts","setVolume","getVolume","meetsAutoCriteraForResumable","playbarIsEnabled","destroyResumableKey","initResumableKey","updateStartPosition","_this$behaviors$relay","enginePlaybackMode","getPlaybackMode","setAriaLiveText","issuedAt","resolvedAt","rejectedAt","lastPlayerBackgroundColor","preloadValue","parsedRate","lastPlaybackRate","getPlaybackRate","setPlaybackRate","_playbackRate","trimSettings","getTrim","setTrim","_formData","safeExec","ensureOptionsAreNonCircular","player_version","PLAYER_VERSION","media_key","page_url","extra_data","first_1000_logs","last_1000_logs","browser_time","option_sources","active_plugins","selectedAsset","attrs","judy","engineDiagnostics","diagnosticData","getReportAProblemData","enabledWillChange","triggerFn","ControlClass","isVideoChrome","chromeless","_this25","_doEnterInputContexts","contextBeforeExit","contextAfterExit","_this26","_whenVideoElementInDom","_this27","overlays","OverlaysBehavior","_this28","loadOverlayCode","_this29","_this30","_this31","_this32","extraOpts","_layout","setLayout","_this$behaviors$ui","inNativeMode","mozillaAtEnd","focusNextVisibleElem","_this33","setSelectedTab","_this34","_this35","_this$controls$captio","_this$controls$captio2","turnOff","captionsButton","matchMenuToSelectedTextTrack","_video","_clockStart","_api","_client","_events","_intervals","_playSession","_onLoad","_onPlay","_onPause","_onUpdate","_onSeek","_onEnd","_track","_send","_clearInterval","_classPrivateMethodInitSpec","Client","analyticsHost","first","getOrSetIsFirst","SCOPE","PlaySession","load","session_key","embed_url","account_id","accountId","live_stream_event_id","liveStreamEventDetails","scope","captionsEnabled","live","isLive","_classPrivateMethodGet","_track2","lastEvent","setInterval","update","_clearInterval2","isPlaying","to","events","meta","anonymize_ip","shouldAnonymizeIp","liveStream","ok","ev1","ev2","_this$meta","_ref$force","clearInterval","InclusiveRange","_start","_end","fun","initial","acc","foreach","_state","_playRangeThrough","_calculateMetrics","inactiveAt","histogram","history","player_position","_ref$first","_ref$captions","_ref$live","LOAD","UNPAUSE","EMPTY_METRICS","_ref2$captions","_ref2$live","_playRangeThrough2","metrics","_calculateMetrics2","PAUSE","union","_ref3","_ref3$captions","_ref3$live","SEEK","previous_player_position","_ref4","_ref4$captions","_ref4$live","UPDATE","_ref5","_ref5$captions","_ref5$live","END","_ref6","_ref6$first","_ref6$captions","_ref6$live","Histogram","isContinuation","isAscending","chunkInRangeBy","_ref7","chunk","_chunk$at","unique_played_time","unique_played_ranges","replayed_time","replayed_ranges","_class","freeze","_buckets","buckets","valueAt","empty","_range$reduce","chunks","flip","item","flop","_chunks","_toArray","other","storage","_createClass","_post","_host","_post2","Accept","credentials","keepalive","AUDIO_DESCRIPTION_HIDE_MENU","AUDIO_DESCRIPTION_SHOW_MENU","AudioDescriptionControl","_Control","currentId","getCurrentAudioTrackId","dialog","close","buttonRoot","menuElem","renderMenu","updateButtonLabel","renderButton","dialogRoot","codeLoaded","loading","isOpen","AudioDescriptionButton","allAudioTracks","AudioDescriptionMenu","onClick","onClickTrack","tracks","menu","setButtonLabel","translate","Control","shouldMount","audioDescriptionIsRequired","sortValue","lines","stroke","linesAndText","onMouseEnter","points","VisuallyHiddenElem","AudioTrackMenuItem","isLastItem","isFirstItem","visuallyHiddenStyles","clip","whiteSpace","AUDIO_DESCRIPTION_OFF","isHovering","lineHeightPx","verticalAlign","isSelected","checkWidthPx","background","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","boxShadow","fontFamily","marginRight","textAlign","_this$props","trackName","label","menuItemId","onMouseLeave","menuItemStyle","onBlur","onFocus","for","checkStyle","component","checkWidth","_disabledButton","set","CAPTIONS_DISABLED","CAPTIONS_HIDE_MENU","CAPTIONS_OFF","CAPTIONS_SHOW_MENU","CAPTIONS_TURN_OFF","CAPTIONS_TURN_ON","DISABLED","ON","OFF","_captionsV3Promise","_buttonState","_loadCaptionsV","CaptionsV3ButtonControl","_this$captionsV3Contr","captionsV3Control","selectedLanguage","setLanguage","lang","captionAndSubtitleTextTracks","disabledButton","_loadCaptionsV2","renderDialog","_this$captionsV3Contr2","CaptionsButton","onClickCaptionsButton","filled","selectedTrack","_translationKeys","captionsV3","nextProps","strokeData","captionsCharacters","BACKGROUND_FOCUS_SHOW_CONTROLS","BackgroundFocusControl","isFocusable","_focusImmediately","preventScroll","focusOutline","buttonTabIndex","tabIndex","pointerEvents","BigPlayButtonControl","__destroyed","hiddenButton","BigPlayButton","baseHeight","baseWidth","borderRadius","buttonElem","shouldShow","leftNudgeFraction","getLeftNudgeFraction","noMixBlendMode","showBpbTime","_timeEnabled","topNudgeFraction","getTopNudgeFraction","controlBarHeight","videoName","bpbTime","controlMultiplierBasedOnVideo","timeEnabled","_leftNudgeFraction","_topNudgeFraction","bpbLeftNudge","bpbTopNudge","_this$buttonElem","bigPlayButtonOpt","normalScaleWidthRange","metaTag","screenWidth","viewport","keyAndVal","normalRange","vidWidth","lowerCutoff","upperCutoff","svgAttrs","wrapperStyle","buttonStyle","onfocusin","onFocusIn","onfocusout","onFocusOut","blendStyle","overlayStyle","alt","timeStyle","_this$props2","_this$props3","colorStr","shouldMixBlendMode","_this$props4","_this$props5","cursor","withOnClick","WrappedComponent","_class2","CLICK_FOR_SOUND_DESKTOP_TEXT","CLICK_FOR_SOUND_MOBILE_TEXT","ClickForSoundButtonControl","loadDeps","silentAutoPlayIsChromeless","oneSecondElapsed","race","ClickForSoundButton","isTouchscreen","backdropEnabled","getSilentAutoplayBackdropState","buttonText","turnOffCaptions","silentAutoPlayBackdropEnabled","controlsAreVisible","_isVisible","_buttonText","MAX_BTN_WIDTH","scaledIconLength","topRight","btnTextSpanRef","useRef","_useState2","useState","setIsKeyboardFocused","justifyContent","alignItems","fontWeight","__H","__V","B","__N","every","F","__m","cancelAnimationFrame","ContextMenuControl","_this$video$ui$should","_this$video$ui","altKey","shouldOnlyShowControlBar","_hasLoaded","resolveLoadingPromise","mouseUpEvent","logPromiseErrors","loadContextMenu","menuElemRef","ctrlKey","hideMenu","onDocumentMouseUp","onContextMenu","ContextMenuExtensions","ELLIPSIS_LESS","ELLIPSIS_MORE","EllipsisButtonControl","isShowingMore","showLess","showMore","EllipsisButton","_video$_impl$ui","_video$_impl$ui2","buttonsOnRight","getControlsByType","shouldShowMoreDefaultValue","cx","cy","FocusOutlineControl","FULLSCREEN_DOUBLE_TAP","FULLSCREEN_TITLE_WHEN_IN_FULLSCREEN","FULLSCREEN_TITLE_WHEN_NOT_IN_FULLSCREEN","FullscreenButtonControl","toggleFullscreen","onKeyUp","supportsRealFullscreen","supportsFakeFullscreen","supportsDoubleTapToZoom","mountDialog","maybeMountDialog","dialogElem","FullscreenButton","isSoapbox","fullscreenButtonOpt","sharedLineAttrs","LoadingHourglassControl","videoOffset","LoadingSVG","animationInterval","floatingPixel","nextNum","onMouseMove","sandStyle","anchorStyle","defsProps","useRules","xlinkKref","hourGlassProps","xlinkHref","nums","sandProps","PlaybarControl","_PlaybarControlBase","PlaybarControlBase","playbarOpt","playbarBarWidth","playbarBarLeftOffsetFromPlayerLeftEdge","chaptersPlugin","getAllChapters","chapterWithVisibleTitle","getChapterWithVisibleTitle","chapterWithFocusedMarker","getChapterWithFocusedMarker","PlaybarComponent","getCurrentBufferTime","isBeforePlay","isSeeking","onDragStart","onDrag","onDragEnd","onBlurPlaybar","onFocusPlaybar","isPlaceholder","onClickChapter","onMouseEnterOrFocusChapter","onMouseLeaveOrBlurChapter","showTime","shouldShowStoryboard","shouldShowChapterTitles","shouldShowTime","storyboardAsset","leftControlBarWidth","setTimeWidth","setRightBarMargin","resumableTime","getDurationBeforeCuts","getTimeBeforeCuts","onResize","_this$video","_this$video2","timeWidth","_timeWidth","rightBarMargin","_rightBarMargin","setChapterWithVisibleTitle","setChapterWithFocusedMarker","percent","stateBeforeDrag","timeToSeekTo","_timeSeekedToRecently","keyDownStartedAt","timeSinceKeyDown","timeDiff","shiftKey","Playbar","renderIfNotPlaying","renderNothing","onKeyDown","bindToChaptersEvents","renderPlaybar","_shouldShowStoryboard","hasReadyStoryboardAsset","isTwoStroke","frame_count","frame_width","frame_height","addInterNumbersFontFace","ChapterMarkers","ChapterTitles","Storyboard","UI_COMPONENTS_ROOT","W_PLAYBAR","SCALED_DOWN_SCALE","zeroToOne","wistiaPlayerHandled","hoveredAt","cachePositionDetails","loadStoryboard","getPercentFromPossiblyExternalMouseEvent","hoverPercent","handleWithProp","dragPercent","dragMode","wasBeforePlayOnDrag","onMouseMoveDragging","onMouseUpDragging","isOverPlayhead","getPercentFromTouchEvent","onTouchMoveDragging","onTouchEndDragging","setPlaybarElemRef","continuouslyUpdatePlaybar","animReq","drawCanvas","maybeUpdateTimeText","playheadEl","playheadStyle","startAnimLoopIfPlaying","loadedStoryboard","moduleChapterMarkers","moduleChapterTitles","loadedChapters","currentBufferTime","hasPlayed","setColorsFromPlayerColor","loadChapters","playheadScale","leftBarMargin","unfilledBarWidth","playheadSize","barHeight","centerY","playheadX","playedPercent","_chapters","canvasEl","canvasWidth","canvasHeight","getContext","globalCompositeOperation","clearRect","strokeStyle","lineWidth","beginPath","lineCap","moveTo","lineTo","filledBarWidth","baseMarkerSize","chapterX","markerSize","arc","PI","closePath","fillStyle","holePunchSize","shouldScaleUp","finalScaleTransform","animUntilShouldChange","lastScaledAt","animTime","animateUntil","interpolatedScaleTransform","glowRadius","glowDiameter","createRadialGradient","addColorStop","rect","hoverMarkerSize","hoverX","_animEndTime","_animating","animateCanvasUntilEndTime","_this$props$onResize","PLAYBAR_SIZE_CALCULATION_OFFSET_TO_COUNTER_LINE_CAPPING","timeLeftPadding","_lastPlaybarWidth","_lastPlaybarBarLeftOffsetFromPlayerLeftEdge","maybeCallOnResize","oldWrapperElem","renderTime","ariaValueNow","ariaValueText","setWrapperRef","dragAreaStyle","canvasStyle","onMouseEnterPlayhead","onMouseLeavePlayhead","onFocusChapterMarkers","timeLeft","timeRight","hasChapters","shouldShowTimeOnHover","TimeBadge","getHoverTime","widthOfPlaybar","timeElem","lastRenderedAt","justGotBuffer","justBecameVisible","stopAnimLoop","flex","normalDurationWidth","actualDurationWidth","_this$props6","letterSpacing","_this$props7","offsetControlBarDistance","_this$props8","bufferPercent","bufferedAheadPercent","getPercentFromMouseEvent","getPercentFromPageX","offsetX","getPercentFromOffsetX","untransformedWidth","scaleX","changedTouches","timeText","_lastTimeText","playedColor","darken","bufferedColor","emptyColor","interNumbersFontFace","_interNumbersFontFaceSemiBold","isInBeginningZone","isInEndZone","heightValue","heightOfTimeBadge","widthOfTimeBadge","shouldNotCenterBadge","getLeftValue","getRightValue","getTopValue","_this$_timeBadgeRef","_timeBadgeRef","_this$_timeBadgeRef2","timeBadgeStyle","PlayPauseNotifierControl","playedOnce","ignoreNextPlayOrPause","renderAndFade","showIconAndFade","lastPlay","lastPause","rootStyle","graphicStyle","SmallPlayButton","noPadding","graphicWidth","renderPauseIcon","renderPlayIcon","xPad","yPad","svgStyle","PlaybarlessProgressIndicatorControl","renderProgressIndicator","safelyGetPercentWatched","shouldShowAsBeforePlay","boundedScale","timeSincePlay","playNeverIssued","pendingPlayFromRecentClick","hasReset","autoPlayProbablyWontWork","SETTINGS_PLAYBACK_RATE_TITLE","SETTINGS_QUALITY_AUTO","SETTINGS_QUALITY_TITLE","SETTINGS_TITLE","SETTINGS_HIDE_MENU","SETTINGS_SHOW_MENU","SettingsControl","inSuitableInputContext","getPlaybackRateEnabled","newPlaybackRate","moduleControlDialog","renderMenuImpl","onSelect","loadMenuCode","_isQualityEnabled","qualityOpt","_isPlaybackRateEnabled","playbackRateOpt","SettingsButton","onMouseEnterButton","isQualityEnabled","isPlaybackRateEnabled","settingsOpt","_getTranslation","SmallPlayButtonControl","_getTranslation2","__handledAlready","smallPlayButtonOpt","controlBarBigEnoughToFit","STATUS_BAR_EMBED_CODE_COPIED","StatusBarControl","StatusBar","fontSizePx","ThumbnailControl","onDisplay","thumbnailAltText","isBackgroundTransparent","ProgressiveThumbnail","thumbnailElem","images","swatchEnabled","_swatchEnabled","uiHasRendered","hasRendered","fitStrategy","_hasRenderedVisible","timeoutTime","renderThumbnailAndUpdateSwatch","renderThumbnail","updateSwatch","thumbnailRendered","_displayed","normalThumbOpacity","sharedProps","stretchLimit","swatchProps","normalThumbProps","onDisplayNormalThumb","Thumbnail","swatchWrapperStyle","normalThumbWrapperStyle","afterTwoSeconds","THUMBNAIL_VIDEO_THUMBNAIL","initialState","isLoaded","isDisplaying","loadTimeout","_sortedImages","altText","srcset","srcSet","bestSrc","imgStyle","imgElem","setStateBasedOnImgStatus","maybeCallOnDisplay","calledOnDisplay","coverStyle","containStyle","naturalHeightStyle","modernContainStyle","baseStyle","objectFit","containerAspect","imageAspect","naturalWidth","naturalHeight","ySpace","xSpace","yBorder","xBorder","topBorder","rightBorder","bottomBorder","leftBorder","borderColor","borderTop","borderBottom","borderLeft","borderRight","webkitTouchCallout","bestImage","sortedImages","blankImage","image","videoWith","currentWidth","desiredWidth","VOLUME_TITLE_WHEN_MUTED","VOLUME_TITLE_WHEN_UNMUTED","VolumeButtonControl","VolumeSliderControl","toggleMute","_isFocused","loadSliderCode","timeoutForCloseSlider","anyDialogOpen","timeoutForOpenSlider","openSlider","volumeSlider","mounted","increment","decrement","VolumeButton","volumeOpt","OPACITY_TRANSITION","waveCount","sharedAttrs","speakerGroupStyle","wave1Style","wave2Style","waveXStyle","x1","y1","x2","y2","positioningOffset","LiveStreamStatusControl","undbinds","renderLiveStreamStatus","_this$video$_mediaDat","scheduledFor","LiveStreamStatus","videoState","videoReady","formatScheduledFor","date","toLocaleString","hour","minute","timeZoneName","InidicatorIcon","LIVE_STREAM_STATUS_COUNTDOWN","LIVE_STREAM_STATUS_LIVE","LIVE_STREAM_STATUS_LIVE_ARIA","LIVE_STREAM_STATUS_MINUTES","LIVE_STREAM_STATUS_SCHEDULED_FOR","LIVE_STREAM_STATUS_SCHEDULED_FOR_ARIA","LIVE_STREAM_STATUS_SCHEDULED_FOR_TIME_SEPARATOR","LIVE_STREAM_STATUS_SECONDS","LIVE_STREAM_STATUS_STREAM_ENDED","LIVE_STREAM_STATUS_WAITING_FOR_HOST","LIVE_STREAM_STATUS_WAITING_FOR_HOST_ARIA","liveStreamStatusMachine","states","idle","NOT_READY","START_COUNTDOWN","PAST_SCHEDULE","beforeStream","countdown","waitingForHost","ended","MountingPoint","scaleValue","reducer","_liveStreamStatusMach","nextState","StatusBox","_useReducer2","useReducer","dispatch","useEffect","isBeforeSchedule","shouldStopWaiting","isCloseToStarting","getStatusIndicatorAriaText","remainingSeconds","ceiledSeconds","remainingMinutes","lessThanAMinute","translationText","useInterval","getStatusIndicatorText","savedCallback","_PlayerBehavior","isFresh","setAttributes","hdAsset","doBandwidthTest","_bandwidthTest","_endBandwidthTestEarly","endEarly","bandwidthAffectingEvents","_failBandwidthTestOnWaiting","_endBandwidthTestOnTime","_hdAsset","playableAssetInRange","maxHdWidth","PlayerBehavior","namedUnbinds","shouldShowFocusOutline","videoWrapper","isGifLike","isChromeless","bgColor","_impl$lastPlayInfo","stateIsBeforePlay","sourceIsUserEvent","updateBackgroundColor","oldImplFromOpts","uiContainer","_preloadPreference","statedPref","preloadPreference","handles","apiEmbeds","_allIframes","stats","loadCount","uniquePlayCount","uniqueLoadCount","onDimensionChangeSafe","modulePath","default","engineAttributes","savedBandwidth","created_at","startPosition","layoutTiming","twoStroke","isTrimDisabled","clipForPoster","clipFrom","clipTo","deliveryCdn","liveMedia","loop","_hasBeenInFullscreen","_inFullscreen","onEnterFullscreen","_e","_nativeFullscreen","_widthBeforeFullscreen","_heightBeforeFullscreen","onLeaveFullscreen","getIsFullscreenOnRotateToLandscape","fullscreenResizeToWindowFlurry","orientation","fullscreenResizeToWindow","currentHeight","_hasAutoFullscreened","onCancelFullscreen","maybeAutoFullscreen","onEnterWebkitFullscreen","onOrientationChange","_impl$engine","getAllowFakeFullscreen","enterFakeFullscreen","_impl$engine2","cancelFakeFullscreen","fakeFullscreen","_inFakeFullscreen","_chromeParent","_leftOffsetBeforeFullscreen","setupFakeFullscreenBindings","_preventDefaultForTouchMove","otherImpl","otherBehavior","inNativeFullscreen","_startedLoadingAt","anyBuffered","_firstByteReceivedAt","receivedAnyVideoData","_noDataFor5Seconds","_noDataFor10Seconds","_noDataFor15Seconds","onProgress","onWaiting","onClickedPlayBeforeReady","videoEl","wasTryingToPlay","playingString","onError","secondsWaiting","_error","videoError","errorCode","errorMessage","fireStateChangedEventsIfChanged","lookData","maybeFireStateAndTimeEvents","_isMuted","skipSeek","timePosition","timeChanged","timePositionChange","timePositionFloored","lastTimePositionFloored","clockTimeChanged","_lastClockTime","withinInitialBufferHole","flooredTimeDifferenceGreaterThanOne","resetState","onLookChange","onPlaying","onEnded","onVolumeChange","onAudioStreamChanged","onRateChange","onCustomWaiting","onCustomDoneWaiting","onHlsLevelSwitched","onHlsFatalErrorRebuild","onSeeking","onSeeked","onTimeUpdate","getVideoQuality","_lastQuality","triggerAfterendTimeout","mozilla","_resumableKey","setResumableKeyToEventKey","_unbinds","onSecondChange","unbindEventKeyChange","appearsInTheControlBar","HANDLED_CONTROL_TYPES","getButtonWidth","pcfButtonWidth","getButtonHeight","pcfButtonHeight","_event","__isFocused","isMostRecentFocusViaMouse","_isMouseDownFromTouch","layoutRef","updateFocusedControl","wasKeyboardFocused","_this$impl","togglePlay","expand","clickForSoundButton","clickForSoundButtonContainer","expandClickForSoundBtn","actuallyMoved","lastPageX","lastPageY","lastMovedMouseAt","shouldShowControls","maybeToggleControlsTimeout","backgroundElem","lastMouseMoveWasFromBackground","showControlsTimeout","_W$PopoverV","PopoverV3","_activePopover","setShouldShowFocusOutline","isBeforePlayOrReset","tappedToHide","_areControlsVisible","_touchStartFromControlDialog","_cancelSwipe","_swipeCtx","yPercent","xPercent","swipePercent","_pinchCtx","scaleMin","scaleMax","pinchCtx","swipeCtx","resetChromeTransform","wasShowingControls","_shouldShowControls","refs","mountRefs","mountPromises","controlsByType","dialogs","buttonMountRefs","_ariaLiveText","_previousBorderRadiusOn","domId","_hasSetupBindings","doneWaitingForPlay","showVideoWrapper","_scale","cachedVideoHeight","cachedVideoWidth","_isShowingMore","hoverHotkeysEnabled","relatedTarget","toElement","hasLanguageCodeChanged","_hasSetupEventListeners","resetCssReset","isRendering","queuedRenderPromise","setupEventListeners","cssResetStyle","cssResetContent","isAutoPlay","_this5$setupControls","setupControls","newControls","existingControls","setControlProps","Layout","ariaLiveText","afterRender","allMounted","backgroundRef","backgroundRefFn","bottomBarRightInnerRef","isMouseDownFromTouch","hasClickedToShowMore","leftControlWidth","mountRefsFn","onDblClick","onFocusComplete","rightControlWidth","runOnControlPropsUpdated","renderButtons","mountControls","didFirstRender","twoSecondsElapsed","allMountedPromise","showVideoWrapperAfterInitialPlay","borderRadiusOn","isHoveringOnPlayer","vulcOffset","bottomBarOffset","leftPosition","focusNextVisibleControl","createFocusNextControlFunction","isLeftMostControl","isRightMostControl","rightControls","rightPosition","ellipsisWidth","controlWidthThatImpactsPlaybar","playbarWidth","playbarControl","playbarControlWidth","region","bottomBarLowerTop","eachButtonControl","eachControl","rightControlBarWidth","onControlPropsUpdated","unmountedAnyControls","destroyedControls","shouldMountFn","constructorHandle","initializedAnyControls","_loop2","_handle","hasBeenInitialized","__didMount","isResolved","control1","control2","mountPoint","nextControlOfSameType","controlToSearch","renderButtonWithDialogLoader","renderHourglassLoader","mountButton","renderButtonWithDialog","mountControl","mountFn","mountResult","ControlBarDialog","dialogWillOpen","maybeBind","controlDialogWillOpen","dialogOpened","controlDialogOpened","dialogWillClose","controlDialogWillClose","dialogClosed","controlDialogClosed","__buttonLabel","ControlBarButtonAndDialog","buttonLabel","buttonRef","buttonElement","closeDialogOnFocusOut","closeDialogsOnFocusOut","onBlurButton","onFocusButton","rootRef","setLoadingDialogAndRender","__isDialogLoading","loadingHourglass","summedButtonWidth","hasRequestedControlsVisible","visibilityRequests","nextControl","nextVisibleFocusableControl","newControl","controlToFocus","elemContainer","visibleElems","getVisibleFocusableElems","activeIndex","nodeList","mountRef","promises","_playPromise","_dialog","controlAfter","nextVisibleControl","controlHandle","handlesInLayoutOrder","nextControlHandles","controlContainer","controlsMatchingType","controlIndex","ellipsis","hasRequestedChromeless","hasAnyVideoChromeControls","cssResetTreeContent","playbarControls","types","toggleDialogOnClick","onClickButton","dummyElem","onFocusInButton","newFocusElem","isMouseInDialog","isNewElemOutsideOfBase","onFocusOutButton","onKeyDownButton","_isHovering","_lastClickedElem","_this$_lastClickedEle","dialogRef","shouldRenderDialog","hasOpened","renderControlBarButton","renderControlBarDialog","isDialogOpen","ControlBarButton","disabled","isLoading","onKeyboardFocus","onKeyboardFocusButton","spaceAboveControlBar","dialogRefFn","newLook","onBeforeDisplayNone","onMouseEnterDialog","onMouseLeaveDialog","resizeRequestedAt","_resizeRequestedAt","ControlBarDialogUI","widthInButtons","measureUserElem","displayNoneTimeout","stubElem","dialogWidth","cancelMeasurementLoop","setupMeasurementLoop","dialogStyle","dialogContentWrapperStyle","stubStyle","mountPromise","handleTransitionsAfterRender","DIALOG_FADE_TIME","snappedWidth","spillover","CONTENT_FADE_TIME","overflowX","overflowY","transformOrigin","justClicked","buttonAttrs","stubRoot","anchorRoot","nextOpacity","createLoadingInterval","clearLoadingInterval","alphaVal","rightMostExtraPaddingWhenRounded","paddingRight","_isOpen","_hasOpened","openDialog","doClose","closeDialog","doOpen","resizeDialog","eventOriginatedFromVulcanV2Button","areControlsOpaque","handleControlBarAnimation","backgroundStyle","renderControlCells","layoutTableStyle","tdLeftStyle","tdLayoutInnerStyle","tdCenterStyle","tdRightStyle","bottomBarStyle","bottomBar","bottomBarLowerStyle","leftBgStyle","bgOverlayStyle","rightBgStyle","bottomBarLeftStyle","bottomBarLeftInnerStyle","bottomBarMiddleStyle","bottomBarMiddleInnerStyle","playbarStyle","bottomBarRightStyle","bottomBarRightInnerAnchorStyle","bottomBarRightInnerStyle","ellipsisStyle","foregroundStyle","mountRefsProp","afterRenderProp","shouldHideCursor","direction","standardCellStyle","revisedControlBarDistance","borderCollapse","tableLayout","getOpacity","getTransition","standardInnerStyle","shouldHide","isEllipsisShowing","_isSuspended","simpleVideo","getCuts","uncutDuration","cut","EMPTY_ARR","_simpleVideo$attribut","rawCuts","_cuts","_rawCuts","normalizeCuts","applyTrimToCuts","_simpleVideo$attribut2","clampCutTime","lastCut","settings","origCuts","firstCut","existingStartCut","existingEndCut","newCut","filterAssets","audioAssets","audioTracks","audioCodec","autoselect","forced","groupId","_asset$details","_asset$details2","details","languageMetadata","_asyncToGenerator","_defineProperties","descriptor","_toPropertyKey","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","NewTarget","Reflect","construct","_possibleConstructorReturn","ReferenceError","Class","_cache","Function","_isNativeFunction","Wrapper","_construct","_setPrototypeOf","Parent","sham","Proxy","valueOf","privateSet","_checkPrivateRedeclaration","privateMap","privateCollection","hint","prim","toPrimitive","res","_toPrimitive","receiver","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classApplyDescriptorSet","requiredAttributes","optionalPublicAttributes","optionalPrivateAttributes","defaultEmbedOptions","_hasElementConnectedToDOM","_mediaDataServerJson","_paddingTop","_mediaDataConfig","_pageUrl","_createEmbedTemplate","_generateId","_getEmbedOptionsFromAttributes","_getValueFromAttribute","_initPublicApi","_isAttributePresentOrTrue","_kebabToCamelCase","_runMethodsFromAttributes","_updateEmail","WistiaPlayer","_HTMLElement","subClass","superClass","Constructor","protoProps","staticProps","_requestFullscreen","_play","_pause","_importMediaData","_getPlugin","_definePlugin","_cancelFullscreen","_addToPlaylist","_get_pageUrl","_get_mediaDataConfig","attachShadow","_logger","_this$api$aspect","_this$api","hasAttribute","newAspect","_isAttributePresentOrTrue2","shouldSetAutoplay","_this$api$_attrs$bigP","_this$api2","shouldDisplay","_this$api3","_this$api$_attrs$bigP2","_this$api4","radius","_this$api5","_this$api$_impl$getSt","_this$api6","getStandardBuffered","_this$api$_attrs$cont","_this$api7","_this$api8","_this$api$time","_this$api9","_this$api$_attrs$disa","_this$api10","shouldDisable","dontTrack","_this$api$_impl$durat","_this$api11","_this$getAttribute","_updateEmail2","_this$getAttribute2","newEmbedHost","_this$api12","_this$getAttribute3","_this$api13","_this$api14","addLoopBehavior","removeLoopBehavior","_this$api15","_this$api$_attrs$full","_this$api16","_this$api17","_this$api$_attrs$hide","_this$api18","_this$api$_attrs$hide2","_this$api19","prevVal","_this$api$_impl$inFul","_this$api20","_this$getAttribute4","newMediaId","_this$api21","prevMediaId","_this$api22","_this$api22$_mediaDat","_this$api23","_this$api$percentWatc","_this$api24","_this$api$_impl$playb","_this$api25","_this$api26","_this$api$_attrs$play","_this$api27","_this$api28","_this$api$_attrs$play2","_this$api29","_this$api30","_this$api$_attrs$play3","_this$api31","_this$api32","_this$getAttribute5","newColor","prevPlayerColor","finalHexColor","newPlayer","_this$getAttribute6","newStrategy","shouldLoop","_this$api$_attrs$play4","_this$api33","_this$api34","_this$api$_attrs$play5","_this$api35","_this$api36","playPauseNotifierEnabled","_this$getAttribute7","_this$api37","prevUrl","_this$getAttribute8","_this$api38","_this$api$_attrs$qual","_this$api39","_this$api40","_this$api41","_this$api42","_this$api$_impl$getRe","_this$api43","getReadyState","resumableState","setResumable","_this$api$_attrs$roun","_this$api44","_this$api45","setRoundedPlayer","_this$api$_impl$secon","_this$api46","_this$api$_impl$secon2","_this$api47","_this$api$_attrs$seo","_this$api48","_this$api$_attrs$sett","_this$api49","_this$api50","_this$api$_attrs$sile","_this$api51","silentAutoplayValue","_this$api$state","_this$api52","_this$api$_attrs$stat","_this$api53","shouldSetTransparentLetterbox","_this$api54","setVideoQuality","_this$api$_attrs$volu","_this$api55","vol","_this$api56","_this$api$_attrs$volu2","_this$api57","_this$api58","_x2","_x3","_callee2","_this$api59","_context2","_callee4","_context4","_callee3","_this2$api$addPlugin","_this2$api","_context3","handler","_x4","_x5","_callee5","_context5","_x6","_callee6","_context6","_x7","_x8","_callee7","_this$api60","_context7","_callee8","_this$api61","_context8","_callee9","_this$api62","_context9","oldValue","_kebabToCamelCase2","_getValueFromAttribute2","_getEmbedOptionsFromAttributes2","_initPublicApi2","_generateId2","_runMethodsFromAttributes2","fromEntries","importMediaData","_createEmbedTemplate2","cloneNode","embedOptionsFromAttributes","cleanEmbedOptions","_ref9","_ref10","_this$getAttribute9","template","fastHost","swatchUrl","observedAttributes","_this$api63","kebabString","word","customElements","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","eV1Found","logWarning"],"sourceRoot":""}